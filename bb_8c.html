<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FEMU: bbssd/bb.c 文件参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FEMU
   &#160;<span id="projectnumber">原版 master 7e238cc</span>
   </div>
   <div id="projectbrief">FEMU: Accurate, Scalable and Extensible NVMe SSD Emulator (FAST&#39;18)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'搜索');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('bb_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">函数</a>  </div>
  <div class="headertitle">
<div class="title">bb.c 文件参考</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="nvme_8h_source.html">../nvme.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ftl_8h_source.html">./ftl.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
bb.c 的引用(Include)关系图:</div>
<div class="dyncontent">
<div class="center"><img src="bb_8c__incl.png" border="0" usemap="#bbssd_2bb_8c" alt=""/></div>
<map name="bbssd_2bb_8c" id="bbssd_2bb_8c">
<area shape="rect" title=" " alt="" coords="891,5,981,32"/>
<area shape="rect" href="nvme_8h.html" title=" " alt="" coords="895,155,977,181"/>
<area shape="rect" href="ftl_8h.html" title=" " alt="" coords="942,80,997,107"/>
<area shape="rect" title=" " alt="" coords="5,229,120,256"/>
<area shape="rect" title=" " alt="" coords="145,229,247,256"/>
<area shape="rect" title=" " alt="" coords="272,229,379,256"/>
<area shape="rect" title=" " alt="" coords="403,229,514,256"/>
<area shape="rect" title=" " alt="" coords="539,229,651,256"/>
<area shape="rect" title=" " alt="" coords="675,229,779,256"/>
<area shape="rect" title=" " alt="" coords="803,229,933,256"/>
<area shape="rect" title=" " alt="" coords="957,229,1053,256"/>
<area shape="rect" title=" " alt="" coords="1078,229,1197,256"/>
<area shape="rect" href="dram_8h.html" title=" " alt="" coords="1221,229,1347,256"/>
<area shape="rect" href="rte__ring_8h.html" title=" " alt="" coords="1372,229,1479,256"/>
<area shape="rect" href="pqueue_8h.html" title="Priority Queue function declarations" alt="" coords="1503,229,1609,256"/>
<area shape="rect" href="nand_8h.html" title=" " alt="" coords="1633,229,1735,256"/>
<area shape="rect" href="timing_8h.html" title=" " alt="" coords="1760,229,1928,256"/>
<area shape="rect" title=" " alt="" coords="1135,304,1206,331"/>
<area shape="rect" title=" " alt="" coords="1231,304,1297,331"/>
<area shape="rect" title=" " alt="" coords="1322,304,1422,331"/>
<area shape="rect" title=" " alt="" coords="1446,304,1514,331"/>
<area shape="rect" title=" " alt="" coords="1538,304,1641,331"/>
<area shape="rect" href="rte__atomic__x86_8h.html" title=" " alt="" coords="1665,304,1799,331"/>
<area shape="rect" href="rte__branch__prediction_8h.html" title=" " alt="" coords="1823,304,1998,331"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
函数</h2></td></tr>
<tr class="memitem:aeaee718de94247f9ea5dc15b03680329"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bb_8c.html#aeaee718de94247f9ea5dc15b03680329">bb_init_ctrl_str</a> (<a class="el" href="structFemuCtrl.html">FemuCtrl</a> *n)</td></tr>
<tr class="separator:aeaee718de94247f9ea5dc15b03680329"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fc7384f815cca2f52003206b20324df"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bb_8c.html#a3fc7384f815cca2f52003206b20324df">bb_init</a> (<a class="el" href="structFemuCtrl.html">FemuCtrl</a> *n, Error **errp)</td></tr>
<tr class="separator:a3fc7384f815cca2f52003206b20324df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d1e86a5f61a1db5c15dae757b35a5c3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bb_8c.html#a5d1e86a5f61a1db5c15dae757b35a5c3">bb_flip</a> (<a class="el" href="structFemuCtrl.html">FemuCtrl</a> *n, <a class="el" href="structNvmeCmd.html">NvmeCmd</a> *cmd)</td></tr>
<tr class="separator:a5d1e86a5f61a1db5c15dae757b35a5c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b0eb3030af1311ad77c85da413a32d8"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bb_8c.html#a3b0eb3030af1311ad77c85da413a32d8">bb_nvme_rw</a> (<a class="el" href="structFemuCtrl.html">FemuCtrl</a> *n, <a class="el" href="structNvmeNamespace.html">NvmeNamespace</a> *ns, <a class="el" href="structNvmeCmd.html">NvmeCmd</a> *cmd, <a class="el" href="structNvmeRequest.html">NvmeRequest</a> *req)</td></tr>
<tr class="separator:a3b0eb3030af1311ad77c85da413a32d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86a2ad222c79ea1e3eb798c53f472908"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bb_8c.html#a86a2ad222c79ea1e3eb798c53f472908">bb_io_cmd</a> (<a class="el" href="structFemuCtrl.html">FemuCtrl</a> *n, <a class="el" href="structNvmeNamespace.html">NvmeNamespace</a> *ns, <a class="el" href="structNvmeCmd.html">NvmeCmd</a> *cmd, <a class="el" href="structNvmeRequest.html">NvmeRequest</a> *req)</td></tr>
<tr class="separator:a86a2ad222c79ea1e3eb798c53f472908"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd2d6d40a801b554569b5c4c364f8df6"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bb_8c.html#afd2d6d40a801b554569b5c4c364f8df6">bb_admin_cmd</a> (<a class="el" href="structFemuCtrl.html">FemuCtrl</a> *n, <a class="el" href="structNvmeCmd.html">NvmeCmd</a> *cmd)</td></tr>
<tr class="separator:afd2d6d40a801b554569b5c4c364f8df6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b8b300920ee99be86c5e3e80a6f7949"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bb_8c.html#a5b8b300920ee99be86c5e3e80a6f7949">nvme_register_bbssd</a> (<a class="el" href="structFemuCtrl.html">FemuCtrl</a> *n)</td></tr>
<tr class="separator:a5b8b300920ee99be86c5e3e80a6f7949"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">函数说明</h2>
<a id="afd2d6d40a801b554569b5c4c364f8df6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd2d6d40a801b554569b5c4c364f8df6">&#9670;&nbsp;</a></span>bb_admin_cmd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t bb_admin_cmd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFemuCtrl.html">FemuCtrl</a> *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeCmd.html">NvmeCmd</a> *&#160;</td>
          <td class="paramname"><em>cmd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;{</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordflow">switch</span> (cmd-&gt;<a class="code" href="structNvmeCmd.html#a2751bc2a772082d3af81124a1d120a0c">opcode</a>) {</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2a70aaecbce9afd8092f1b055c54772e4f">NVME_ADM_CMD_FEMU_FLIP</a>:</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <a class="code" href="bb_8c.html#a5d1e86a5f61a1db5c15dae757b35a5c3">bb_flip</a>(n, cmd);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a3268f6be90861f0c2270d86a44d5b09c">NVME_SUCCESS</a>;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a778b8f53d6725ef86c455e2e55d46ce7">NVME_INVALID_OPCODE</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    }</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="bb_8c_afd2d6d40a801b554569b5c4c364f8df6_cgraph.png" border="0" usemap="#bb_8c_afd2d6d40a801b554569b5c4c364f8df6_cgraph" alt=""/></div>
<map name="bb_8c_afd2d6d40a801b554569b5c4c364f8df6_cgraph" id="bb_8c_afd2d6d40a801b554569b5c4c364f8df6_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,127,32"/>
<area shape="rect" href="bb_8c.html#a5d1e86a5f61a1db5c15dae757b35a5c3" title=" " alt="" coords="175,5,240,32"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="bb_8c_afd2d6d40a801b554569b5c4c364f8df6_icgraph.png" border="0" usemap="#bb_8c_afd2d6d40a801b554569b5c4c364f8df6_icgraph" alt=""/></div>
<map name="bb_8c_afd2d6d40a801b554569b5c4c364f8df6_icgraph" id="bb_8c_afd2d6d40a801b554569b5c4c364f8df6_icgraph">
<area shape="rect" title=" " alt="" coords="784,5,905,32"/>
<area shape="rect" href="nvme_8h.html#a5b8b300920ee99be86c5e3e80a6f7949" title=" " alt="" coords="575,5,736,32"/>
<area shape="rect" href="femu_8c.html#a76a47b73caa1fa75fb706e3ed8f16a73" title=" " alt="" coords="332,5,527,32"/>
<area shape="rect" href="femu_8c.html#a966fbeb7afc495936413dbc445a0dd45" title=" " alt="" coords="177,5,284,32"/>
<area shape="rect" href="femu_8c.html#aeb3b70286609648db37222148efcf8d3" title=" " alt="" coords="5,5,129,32"/>
</map>
</div>

</div>
</div>
<a id="a5d1e86a5f61a1db5c15dae757b35a5c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d1e86a5f61a1db5c15dae757b35a5c3">&#9670;&nbsp;</a></span>bb_flip()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void bb_flip </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFemuCtrl.html">FemuCtrl</a> *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeCmd.html">NvmeCmd</a> *&#160;</td>
          <td class="paramname"><em>cmd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;{</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <span class="keyword">struct </span><a class="code" href="structssd.html">ssd</a> *<a class="code" href="structssd.html">ssd</a> = n-&gt;<a class="code" href="structFemuCtrl.html#a4464c81978268e5df515d91044ea1ec2">ssd</a>;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    int64_t cdw10 = le64_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#ab217950fc2408f7a848af10f36b0cd8f">cdw10</a>);</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160; </div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="keywordflow">switch</span> (cdw10) {</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="ftl_8h.html#abc6126af1d45847bc59afa0aa3216b04a2bdc68ee27c5732068656308799b4c1f">FEMU_ENABLE_GC_DELAY</a>:</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        <a class="code" href="structssd.html">ssd</a>-&gt;<a class="code" href="structssd.html#a36c0adb782ca9d8a1accf3ec8d7455eb">sp</a>.<a class="code" href="structssdparams.html#ab072044ad8c0107835464ba876b618f2">enable_gc_delay</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;        <a class="code" href="nvme_8h.html#a279462a0d67217a97c8946fa74531952">femu_log</a>(<span class="stringliteral">&quot;%s,FEMU GC Delay Emulation [Enabled]!\n&quot;</span>, n-&gt;<a class="code" href="structFemuCtrl.html#a7c69e429f2da05dd6a0ecb4591c2c4fb">devname</a>);</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="ftl_8h.html#abc6126af1d45847bc59afa0aa3216b04a4dc74fd4c46787b0858f51e424333548">FEMU_DISABLE_GC_DELAY</a>:</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        <a class="code" href="structssd.html">ssd</a>-&gt;<a class="code" href="structssd.html#a36c0adb782ca9d8a1accf3ec8d7455eb">sp</a>.<a class="code" href="structssdparams.html#ab072044ad8c0107835464ba876b618f2">enable_gc_delay</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        <a class="code" href="nvme_8h.html#a279462a0d67217a97c8946fa74531952">femu_log</a>(<span class="stringliteral">&quot;%s,FEMU GC Delay Emulation [Disabled]!\n&quot;</span>, n-&gt;<a class="code" href="structFemuCtrl.html#a7c69e429f2da05dd6a0ecb4591c2c4fb">devname</a>);</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="ftl_8h.html#abc6126af1d45847bc59afa0aa3216b04a32eeac57f9b0e5ae117a2c70623daa0f">FEMU_ENABLE_DELAY_EMU</a>:</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        <a class="code" href="structssd.html">ssd</a>-&gt;<a class="code" href="structssd.html#a36c0adb782ca9d8a1accf3ec8d7455eb">sp</a>.<a class="code" href="structssdparams.html#ab8b7f48bd8cae23a4da6dcc8ceeb05ab">pg_rd_lat</a> = <a class="code" href="ftl_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba159b99876b55d2052590c66614f18e06">NAND_READ_LATENCY</a>;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        <a class="code" href="structssd.html">ssd</a>-&gt;<a class="code" href="structssd.html#a36c0adb782ca9d8a1accf3ec8d7455eb">sp</a>.<a class="code" href="structssdparams.html#a584a92a1768fad79586d746562db0ced">pg_wr_lat</a> = <a class="code" href="ftl_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba473c2d5e1315210c6973d46d1a06d895">NAND_PROG_LATENCY</a>;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        <a class="code" href="structssd.html">ssd</a>-&gt;<a class="code" href="structssd.html#a36c0adb782ca9d8a1accf3ec8d7455eb">sp</a>.<a class="code" href="structssdparams.html#a6865de86ba20967f6ef156beeca0d62a">blk_er_lat</a> = <a class="code" href="ftl_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba961b37b2f319961303251f5ef3d2e93f">NAND_ERASE_LATENCY</a>;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        <a class="code" href="structssd.html">ssd</a>-&gt;<a class="code" href="structssd.html#a36c0adb782ca9d8a1accf3ec8d7455eb">sp</a>.<a class="code" href="structssdparams.html#aebc159516f73021767eb96c276f64d08">ch_xfer_lat</a> = 0;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        <a class="code" href="nvme_8h.html#a279462a0d67217a97c8946fa74531952">femu_log</a>(<span class="stringliteral">&quot;%s,FEMU Delay Emulation [Enabled]!\n&quot;</span>, n-&gt;<a class="code" href="structFemuCtrl.html#a7c69e429f2da05dd6a0ecb4591c2c4fb">devname</a>);</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="ftl_8h.html#abc6126af1d45847bc59afa0aa3216b04adf250553fb54f027925e4dab5f92fa3a">FEMU_DISABLE_DELAY_EMU</a>:</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        <a class="code" href="structssd.html">ssd</a>-&gt;<a class="code" href="structssd.html#a36c0adb782ca9d8a1accf3ec8d7455eb">sp</a>.<a class="code" href="structssdparams.html#ab8b7f48bd8cae23a4da6dcc8ceeb05ab">pg_rd_lat</a> = 0;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <a class="code" href="structssd.html">ssd</a>-&gt;<a class="code" href="structssd.html#a36c0adb782ca9d8a1accf3ec8d7455eb">sp</a>.<a class="code" href="structssdparams.html#a584a92a1768fad79586d746562db0ced">pg_wr_lat</a> = 0;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <a class="code" href="structssd.html">ssd</a>-&gt;<a class="code" href="structssd.html#a36c0adb782ca9d8a1accf3ec8d7455eb">sp</a>.<a class="code" href="structssdparams.html#a6865de86ba20967f6ef156beeca0d62a">blk_er_lat</a> = 0;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <a class="code" href="structssd.html">ssd</a>-&gt;<a class="code" href="structssd.html#a36c0adb782ca9d8a1accf3ec8d7455eb">sp</a>.<a class="code" href="structssdparams.html#aebc159516f73021767eb96c276f64d08">ch_xfer_lat</a> = 0;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        <a class="code" href="nvme_8h.html#a279462a0d67217a97c8946fa74531952">femu_log</a>(<span class="stringliteral">&quot;%s,FEMU Delay Emulation [Disabled]!\n&quot;</span>, n-&gt;<a class="code" href="structFemuCtrl.html#a7c69e429f2da05dd6a0ecb4591c2c4fb">devname</a>);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="ftl_8h.html#abc6126af1d45847bc59afa0aa3216b04a6b20efba3de792d95d952a331da4abcb">FEMU_RESET_ACCT</a>:</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        n-&gt;<a class="code" href="structFemuCtrl.html#a252a9c514e961fa6355b50061862bd34">nr_tt_ios</a> = 0;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        n-&gt;<a class="code" href="structFemuCtrl.html#a8da82e5488952cf964ffcb40f29e4f7a">nr_tt_late_ios</a> = 0;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <a class="code" href="nvme_8h.html#a279462a0d67217a97c8946fa74531952">femu_log</a>(<span class="stringliteral">&quot;%s,Reset tt_late_ios/tt_ios,%lu/%lu\n&quot;</span>, n-&gt;<a class="code" href="structFemuCtrl.html#a7c69e429f2da05dd6a0ecb4591c2c4fb">devname</a>,</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                n-&gt;<a class="code" href="structFemuCtrl.html#a8da82e5488952cf964ffcb40f29e4f7a">nr_tt_late_ios</a>, n-&gt;<a class="code" href="structFemuCtrl.html#a252a9c514e961fa6355b50061862bd34">nr_tt_ios</a>);</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="ftl_8h.html#abc6126af1d45847bc59afa0aa3216b04a248ee6337f9fc0e6380d2407c6fde5f4">FEMU_ENABLE_LOG</a>:</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        n-&gt;<a class="code" href="structFemuCtrl.html#a3a16108410047b6e7d6ac06c3cb5cd76">print_log</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <a class="code" href="nvme_8h.html#a279462a0d67217a97c8946fa74531952">femu_log</a>(<span class="stringliteral">&quot;%s,Log print [Enabled]!\n&quot;</span>, n-&gt;<a class="code" href="structFemuCtrl.html#a7c69e429f2da05dd6a0ecb4591c2c4fb">devname</a>);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="ftl_8h.html#abc6126af1d45847bc59afa0aa3216b04afcb5b35957d832112aeb8250e90d8fcf">FEMU_DISABLE_LOG</a>:</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        n-&gt;<a class="code" href="structFemuCtrl.html#a3a16108410047b6e7d6ac06c3cb5cd76">print_log</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <a class="code" href="nvme_8h.html#a279462a0d67217a97c8946fa74531952">femu_log</a>(<span class="stringliteral">&quot;%s,Log print [Disabled]!\n&quot;</span>, n-&gt;<a class="code" href="structFemuCtrl.html#a7c69e429f2da05dd6a0ecb4591c2c4fb">devname</a>);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        printf(<span class="stringliteral">&quot;FEMU:%s,Not implemented flip cmd (%lu)\n&quot;</span>, n-&gt;<a class="code" href="structFemuCtrl.html#a7c69e429f2da05dd6a0ecb4591c2c4fb">devname</a>, cdw10);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    }</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="bb_8c_a5d1e86a5f61a1db5c15dae757b35a5c3_icgraph.png" border="0" usemap="#bb_8c_a5d1e86a5f61a1db5c15dae757b35a5c3_icgraph" alt=""/></div>
<map name="bb_8c_a5d1e86a5f61a1db5c15dae757b35a5c3_icgraph" id="bb_8c_a5d1e86a5f61a1db5c15dae757b35a5c3_icgraph">
<area shape="rect" title=" " alt="" coords="953,5,1019,32"/>
<area shape="rect" href="bb_8c.html#afd2d6d40a801b554569b5c4c364f8df6" title=" " alt="" coords="784,5,905,32"/>
<area shape="rect" href="nvme_8h.html#a5b8b300920ee99be86c5e3e80a6f7949" title=" " alt="" coords="575,5,736,32"/>
<area shape="rect" href="femu_8c.html#a76a47b73caa1fa75fb706e3ed8f16a73" title=" " alt="" coords="332,5,527,32"/>
<area shape="rect" href="femu_8c.html#a966fbeb7afc495936413dbc445a0dd45" title=" " alt="" coords="177,5,284,32"/>
<area shape="rect" href="femu_8c.html#aeb3b70286609648db37222148efcf8d3" title=" " alt="" coords="5,5,129,32"/>
</map>
</div>

</div>
</div>
<a id="a3fc7384f815cca2f52003206b20324df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fc7384f815cca2f52003206b20324df">&#9670;&nbsp;</a></span>bb_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void bb_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFemuCtrl.html">FemuCtrl</a> *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Error **&#160;</td>
          <td class="paramname"><em>errp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;{</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    <span class="keyword">struct </span><a class="code" href="structssd.html">ssd</a> *<a class="code" href="structssd.html">ssd</a> = n-&gt;<a class="code" href="structFemuCtrl.html#a4464c81978268e5df515d91044ea1ec2">ssd</a> = g_malloc0(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structssd.html">ssd</a>));</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160; </div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    <a class="code" href="bb_8c.html#aeaee718de94247f9ea5dc15b03680329">bb_init_ctrl_str</a>(n);</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160; </div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    <a class="code" href="structssd.html">ssd</a>-&gt;<a class="code" href="structssd.html#a2b0e9503ff5811ff40f5b426d137692e">dataplane_started_ptr</a> = &amp;n-&gt;<a class="code" href="structFemuCtrl.html#a6291ffd43b13aa9c7bc871a7e1bb4a11">dataplane_started</a>;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    <a class="code" href="structssd.html">ssd</a>-&gt;<a class="code" href="structssd.html#a8724ca69d768471877affbeadbe3c244">ssdname</a> = (<span class="keywordtype">char</span> *)n-&gt;<a class="code" href="structFemuCtrl.html#a7c69e429f2da05dd6a0ecb4591c2c4fb">devname</a>;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    <a class="code" href="nvme_8h.html#aef2bfc05ccbdba79aef90226efe46ad4">femu_debug</a>(<span class="stringliteral">&quot;Starting FEMU in Blackbox-SSD mode ...\n&quot;</span>);</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    <a class="code" href="ftl_8c.html#af3f6de830b620d1f3060c7de8c8ddec0">ssd_init</a>(n);</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="bb_8c_a3fc7384f815cca2f52003206b20324df_cgraph.png" border="0" usemap="#bb_8c_a3fc7384f815cca2f52003206b20324df_cgraph" alt=""/></div>
<map name="bb_8c_a3fc7384f815cca2f52003206b20324df_cgraph" id="bb_8c_a3fc7384f815cca2f52003206b20324df_cgraph">
<area shape="rect" title=" " alt="" coords="5,157,72,184"/>
<area shape="rect" href="bb_8c.html#aeaee718de94247f9ea5dc15b03680329" title=" " alt="" coords="120,69,239,96"/>
<area shape="rect" href="ftl_8c.html#af3f6de830b620d1f3060c7de8c8ddec0" title=" " alt="" coords="143,183,215,209"/>
<area shape="rect" href="nvme-util_8c.html#a9e84e8328646dcb1f24be9c79018e6a0" title=" " alt="" coords="290,5,449,32"/>
<area shape="rect" href="ftl_8c.html#a3716c928ff3ccf16e82ae281fd3dd6d3" title=" " alt="" coords="327,411,411,437"/>
<area shape="rect" href="ftl_8c.html#aa4643e6bbe68de1c047ec1d1745a82e3" title=" " alt="" coords="322,1069,417,1096"/>
<area shape="rect" href="ftl_8c.html#a75e82f66648a13506f57f7bb0fce7a10" title=" " alt="" coords="314,917,425,944"/>
<area shape="rect" href="ftl_8c.html#a358979ad49087b2f21ead4eb9a153f14" title=" " alt="" coords="1123,259,1248,285"/>
<area shape="rect" href="ftl_8c.html#a96c1b582459f3ccfc0643bac1a8cdf35" title=" " alt="" coords="305,56,433,83"/>
<area shape="rect" href="ftl_8c.html#ae19a0a686346f1ffbfa9e73035efbaad" title=" " alt="" coords="313,107,426,133"/>
<area shape="rect" href="ftl_8c.html#a37afec234fedd2c392569d5ce0af6cb4" title=" " alt="" coords="287,157,452,184"/>
<area shape="rect" href="ftl_8c.html#aedba9d148f29a3ea880cf3abbbc07fad" title=" " alt="" coords="759,1095,819,1121"/>
<area shape="rect" href="rte__ring_8h.html#a96ef17a77ac3deecdb8a1fb71b6bdf63" title=" " alt="" coords="511,765,642,792"/>
<area shape="rect" href="rte__ring_8h.html#ab2417e0e85ffd0e61ec4b0ee263ab809" title=" " alt="" coords="501,264,652,291"/>
<area shape="rect" href="rte__ring_8h.html#a3afc06d02f63e84fe1569c99955af57a" title=" " alt="" coords="501,321,652,348"/>
<area shape="rect" href="ftl_8c.html#a6722c643872772d48598187782365209" title=" " alt="" coords="533,385,620,412"/>
<area shape="rect" href="ftl_8c.html#a306780893a49a72da761566ca918b35e" title=" " alt="" coords="537,436,617,463"/>
<area shape="rect" href="ftl_8c.html#a8610a939b22b60851e3b88e0137b7ede" title=" " alt="" coords="535,664,619,691"/>
<area shape="rect" href="ftl_8c.html#ae4d530364d4008be453c27d200eacddf" title=" " alt="" coords="929,993,1059,1020"/>
<area shape="rect" href="ftl_8c.html#a0299da5e7e5dd1eb868d80914de35ee8" title=" " alt="" coords="1329,1044,1483,1071"/>
<area shape="rect" href="ftl_8c.html#adc3fd6a4f50d3279de8a77eb9d605a8d" title=" " alt="" coords="1557,1044,1628,1071"/>
<area shape="rect" href="ftl_8c.html#a5313a5ca429ce56095c0c1052c301c15" title=" " alt="" coords="929,917,1059,944"/>
<area shape="rect" href="ftl_8c.html#a2c41ad05315023bfa77846568e4f7282" title=" " alt="" coords="934,1247,1054,1273"/>
<area shape="rect" href="ftl_8c.html#ae5f2680b1c6531f6394723c150f11e1c" title=" " alt="" coords="924,1095,1064,1121"/>
<area shape="rect" href="ftl_8c.html#a4b9026945c9fcc578ba0f7a7a84a1af1" title=" " alt="" coords="1129,1044,1241,1071"/>
<area shape="rect" href="ftl_8c.html#ad1952595f15249cd0335bcf5e12d2048" title=" " alt="" coords="1127,791,1243,817"/>
<area shape="rect" href="ftl_8c.html#a340d3d702f25d601cb40dbd85a30dd82" title=" " alt="" coords="1557,791,1628,817"/>
<area shape="rect" href="ftl_8c.html#a2db76f519a8218ea9cda35e61552a4ec" title=" " alt="" coords="1348,512,1464,539"/>
<area shape="rect" href="ftl_8c.html#a03834614ca890f0367e871939f0ffc3b" title=" " alt="" coords="1339,689,1473,716"/>
<area shape="rect" href="ftl_8c.html#ab02c4873ff387abfd6f268ae711fd0b5" title=" " alt="" coords="1345,588,1467,615"/>
<area shape="rect" href="ftl_8c.html#aac3ae48a56045829a6e2f1bf933b1d5b" title=" " alt="" coords="1351,740,1461,767"/>
<area shape="rect" href="ftl_8c.html#a52df9249316530eb887e0412ca51f048" title=" " alt="" coords="1307,841,1505,868"/>
<area shape="rect" href="structppa.html#a4dc2d1cdc8cce18cdf002f309395cba8" title=" " alt="" coords="1553,461,1632,488"/>
<area shape="rect" href="rte__ring_8h.html#abc8376d2c6e609707d52032860880b34" title=" " alt="" coords="731,1145,846,1172"/>
<area shape="rect" href="rte__ring_8h.html#a8742d4b89ce43dbd93cc2ef48518ccf0" title=" " alt="" coords="701,259,876,285"/>
<area shape="rect" href="rte__ring_8h.html#ab8debfb458e927d559e7ce750048502d" title=" " alt="" coords="703,309,874,336"/>
<area shape="rect" href="ftl_8c.html#af93eee663d18640559cfd06afdeb5409" title=" " alt="" coords="727,512,851,539"/>
<area shape="rect" href="ftl_8c.html#a6e8a2a542e569fe2662cbb8cf647590b" title=" " alt="" coords="735,411,842,437"/>
<area shape="rect" href="ftl_8c.html#a4237c1400d2e5e24f32b77e347163ab9" title=" " alt="" coords="746,360,831,387"/>
<area shape="rect" href="ftl_8c.html#adaaf0f3e032de3124ddc61a6111b25db" title=" " alt="" coords="1112,639,1259,665"/>
<area shape="rect" href="ftl_8c.html#a4494881726f0faee876d503fa1f2e312" title=" " alt="" coords="727,892,850,919"/>
<area shape="rect" href="ftl_8c.html#ae77b0af37a85b3285ff26402ca7d03a5" title=" " alt="" coords="507,1171,646,1197"/>
<area shape="rect" href="ftl_8c.html#ac6428955c80a1fb3371e13b2b2f4ea26" title=" " alt="" coords="711,1196,866,1223"/>
<area shape="rect" href="pqueue_8h.html#a2c27c13ed1c988e9fc7b259e6820ca8c" title=" " alt="" coords="527,1069,626,1096"/>
<area shape="rect" href="ftl_8c.html#ab36d3c54cb8e6ef53588b549a5803172" title=" " alt="" coords="500,816,653,843"/>
<area shape="rect" href="ftl_8c.html#a3c491d1c863f0b3501bd668a59dec976" title=" " alt="" coords="501,867,653,893"/>
<area shape="rect" href="ftl_8c.html#a9417ce02aa098194c92e57ef04abb6b7" title=" " alt="" coords="503,917,650,944"/>
<area shape="rect" href="ftl_8c.html#ae8e269140ca688f2decf1b684d2e3991" title=" " alt="" coords="501,968,652,995"/>
<area shape="rect" href="ftl_8c.html#a6d8917709dbdb441c13fc5d6ee5204aa" title=" " alt="" coords="504,1019,649,1045"/>
<area shape="rect" href="ftl_8c.html#aa555ec9dcfe762eb6c39afa3cb167e3d" title=" " alt="" coords="519,56,635,83"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="bb_8c_a3fc7384f815cca2f52003206b20324df_icgraph.png" border="0" usemap="#bb_8c_a3fc7384f815cca2f52003206b20324df_icgraph" alt=""/></div>
<map name="bb_8c_a3fc7384f815cca2f52003206b20324df_icgraph" id="bb_8c_a3fc7384f815cca2f52003206b20324df_icgraph">
<area shape="rect" title=" " alt="" coords="784,5,851,32"/>
<area shape="rect" href="nvme_8h.html#a5b8b300920ee99be86c5e3e80a6f7949" title=" " alt="" coords="575,5,736,32"/>
<area shape="rect" href="femu_8c.html#a76a47b73caa1fa75fb706e3ed8f16a73" title=" " alt="" coords="332,5,527,32"/>
<area shape="rect" href="femu_8c.html#a966fbeb7afc495936413dbc445a0dd45" title=" " alt="" coords="177,5,284,32"/>
<area shape="rect" href="femu_8c.html#aeb3b70286609648db37222148efcf8d3" title=" " alt="" coords="5,5,129,32"/>
</map>
</div>

</div>
</div>
<a id="aeaee718de94247f9ea5dc15b03680329"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeaee718de94247f9ea5dc15b03680329">&#9670;&nbsp;</a></span>bb_init_ctrl_str()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void bb_init_ctrl_str </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFemuCtrl.html">FemuCtrl</a> *&#160;</td>
          <td class="paramname"><em>n</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;{</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">int</span> fsid_vbb = 0;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *vbbssd_mn = <span class="stringliteral">&quot;FEMU BlackBox-SSD Controller&quot;</span>;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *vbbssd_sn = <span class="stringliteral">&quot;vSSD&quot;</span>;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160; </div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    <a class="code" href="nvme-util_8c.html#a9e84e8328646dcb1f24be9c79018e6a0">nvme_set_ctrl_name</a>(n, vbbssd_mn, vbbssd_sn, &amp;fsid_vbb);</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="bb_8c_aeaee718de94247f9ea5dc15b03680329_cgraph.png" border="0" usemap="#bb_8c_aeaee718de94247f9ea5dc15b03680329_cgraph" alt=""/></div>
<map name="bb_8c_aeaee718de94247f9ea5dc15b03680329_cgraph" id="bb_8c_aeaee718de94247f9ea5dc15b03680329_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,124,32"/>
<area shape="rect" href="nvme-util_8c.html#a9e84e8328646dcb1f24be9c79018e6a0" title=" " alt="" coords="172,5,331,32"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="bb_8c_aeaee718de94247f9ea5dc15b03680329_icgraph.png" border="0" usemap="#bb_8c_aeaee718de94247f9ea5dc15b03680329_icgraph" alt=""/></div>
<map name="bb_8c_aeaee718de94247f9ea5dc15b03680329_icgraph" id="bb_8c_aeaee718de94247f9ea5dc15b03680329_icgraph">
<area shape="rect" title=" " alt="" coords="899,5,1017,32"/>
<area shape="rect" href="bb_8c.html#a3fc7384f815cca2f52003206b20324df" title=" " alt="" coords="784,5,851,32"/>
<area shape="rect" href="nvme_8h.html#a5b8b300920ee99be86c5e3e80a6f7949" title=" " alt="" coords="575,5,736,32"/>
<area shape="rect" href="femu_8c.html#a76a47b73caa1fa75fb706e3ed8f16a73" title=" " alt="" coords="332,5,527,32"/>
<area shape="rect" href="femu_8c.html#a966fbeb7afc495936413dbc445a0dd45" title=" " alt="" coords="177,5,284,32"/>
<area shape="rect" href="femu_8c.html#aeb3b70286609648db37222148efcf8d3" title=" " alt="" coords="5,5,129,32"/>
</map>
</div>

</div>
</div>
<a id="a86a2ad222c79ea1e3eb798c53f472908"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86a2ad222c79ea1e3eb798c53f472908">&#9670;&nbsp;</a></span>bb_io_cmd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t bb_io_cmd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFemuCtrl.html">FemuCtrl</a> *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeNamespace.html">NvmeNamespace</a> *&#160;</td>
          <td class="paramname"><em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeCmd.html">NvmeCmd</a> *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeRequest.html">NvmeRequest</a> *&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;{</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordflow">switch</span> (cmd-&gt;<a class="code" href="structNvmeCmd.html#a2751bc2a772082d3af81124a1d120a0c">opcode</a>) {</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a01e3a918ff89282c841471f5d797fbf6a13421e16e166f06ef616c86258232336">NVME_CMD_READ</a>:</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a01e3a918ff89282c841471f5d797fbf6af12c69a9bdf0ad418e4a144ef5424336">NVME_CMD_WRITE</a>:</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="bb_8c.html#a3b0eb3030af1311ad77c85da413a32d8">bb_nvme_rw</a>(n, ns, cmd, req);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a778b8f53d6725ef86c455e2e55d46ce7">NVME_INVALID_OPCODE</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    }</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="bb_8c_a86a2ad222c79ea1e3eb798c53f472908_cgraph.png" border="0" usemap="#bb_8c_a86a2ad222c79ea1e3eb798c53f472908_cgraph" alt=""/></div>
<map name="bb_8c_a86a2ad222c79ea1e3eb798c53f472908_cgraph" id="bb_8c_a86a2ad222c79ea1e3eb798c53f472908_cgraph">
<area shape="rect" title=" " alt="" coords="5,81,97,108"/>
<area shape="rect" href="bb_8c.html#a3b0eb3030af1311ad77c85da413a32d8" title=" " alt="" coords="145,81,251,108"/>
<area shape="rect" href="nvme-io_8c.html#a57765d5f7b83e5c6af69f1f5c501beb7" title=" " alt="" coords="299,81,381,108"/>
<area shape="rect" href="dram_8c.html#a1ccbcf0c92b7b084afc9890f3a7e5799" title=" " alt="" coords="478,5,577,32"/>
<area shape="rect" href="nvme-util_8c.html#a13db5864083eb3bdfb33cbb42f2a4350" title=" " alt="" coords="429,107,625,133"/>
<area shape="rect" href="nvme-util_8c.html#a6ad5e0fb9283798af6a6b70e7254a183" title=" " alt="" coords="673,56,836,83"/>
<area shape="rect" href="dma_8c.html#aff05c76845a6cc08d0131d2761153493" title=" " alt="" coords="466,157,589,184"/>
<area shape="rect" href="nvme_8h.html#a459a9ad482387e92a5fa8fc4c108f3f6" title=" " alt="" coords="721,107,788,133"/>
<area shape="rect" href="dma_8c.html#a0ac25a907651fbfbf9710b15dc45e484" title=" " alt="" coords="689,157,820,184"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="bb_8c_a86a2ad222c79ea1e3eb798c53f472908_icgraph.png" border="0" usemap="#bb_8c_a86a2ad222c79ea1e3eb798c53f472908_icgraph" alt=""/></div>
<map name="bb_8c_a86a2ad222c79ea1e3eb798c53f472908_icgraph" id="bb_8c_a86a2ad222c79ea1e3eb798c53f472908_icgraph">
<area shape="rect" title=" " alt="" coords="784,5,876,32"/>
<area shape="rect" href="nvme_8h.html#a5b8b300920ee99be86c5e3e80a6f7949" title=" " alt="" coords="575,5,736,32"/>
<area shape="rect" href="femu_8c.html#a76a47b73caa1fa75fb706e3ed8f16a73" title=" " alt="" coords="332,5,527,32"/>
<area shape="rect" href="femu_8c.html#a966fbeb7afc495936413dbc445a0dd45" title=" " alt="" coords="177,5,284,32"/>
<area shape="rect" href="femu_8c.html#aeb3b70286609648db37222148efcf8d3" title=" " alt="" coords="5,5,129,32"/>
</map>
</div>

</div>
</div>
<a id="a3b0eb3030af1311ad77c85da413a32d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b0eb3030af1311ad77c85da413a32d8">&#9670;&nbsp;</a></span>bb_nvme_rw()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t bb_nvme_rw </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFemuCtrl.html">FemuCtrl</a> *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeNamespace.html">NvmeNamespace</a> *&#160;</td>
          <td class="paramname"><em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeCmd.html">NvmeCmd</a> *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeRequest.html">NvmeRequest</a> *&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;{</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="nvme-io_8c.html#a57765d5f7b83e5c6af69f1f5c501beb7">nvme_rw</a>(n, ns, cmd, req);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="bb_8c_a3b0eb3030af1311ad77c85da413a32d8_cgraph.png" border="0" usemap="#bb_8c_a3b0eb3030af1311ad77c85da413a32d8_cgraph" alt=""/></div>
<map name="bb_8c_a3b0eb3030af1311ad77c85da413a32d8_cgraph" id="bb_8c_a3b0eb3030af1311ad77c85da413a32d8_cgraph">
<area shape="rect" title=" " alt="" coords="5,81,111,108"/>
<area shape="rect" href="nvme-io_8c.html#a57765d5f7b83e5c6af69f1f5c501beb7" title=" " alt="" coords="159,81,241,108"/>
<area shape="rect" href="dram_8c.html#a1ccbcf0c92b7b084afc9890f3a7e5799" title=" " alt="" coords="338,5,437,32"/>
<area shape="rect" href="nvme-util_8c.html#a13db5864083eb3bdfb33cbb42f2a4350" title=" " alt="" coords="289,107,485,133"/>
<area shape="rect" href="nvme-util_8c.html#a6ad5e0fb9283798af6a6b70e7254a183" title=" " alt="" coords="533,56,696,83"/>
<area shape="rect" href="dma_8c.html#aff05c76845a6cc08d0131d2761153493" title=" " alt="" coords="326,157,449,184"/>
<area shape="rect" href="nvme_8h.html#a459a9ad482387e92a5fa8fc4c108f3f6" title=" " alt="" coords="581,107,648,133"/>
<area shape="rect" href="dma_8c.html#a0ac25a907651fbfbf9710b15dc45e484" title=" " alt="" coords="549,157,680,184"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="bb_8c_a3b0eb3030af1311ad77c85da413a32d8_icgraph.png" border="0" usemap="#bb_8c_a3b0eb3030af1311ad77c85da413a32d8_icgraph" alt=""/></div>
<map name="bb_8c_a3b0eb3030af1311ad77c85da413a32d8_icgraph" id="bb_8c_a3b0eb3030af1311ad77c85da413a32d8_icgraph">
<area shape="rect" title=" " alt="" coords="924,5,1029,32"/>
<area shape="rect" href="bb_8c.html#a86a2ad222c79ea1e3eb798c53f472908" title=" " alt="" coords="784,5,876,32"/>
<area shape="rect" href="nvme_8h.html#a5b8b300920ee99be86c5e3e80a6f7949" title=" " alt="" coords="575,5,736,32"/>
<area shape="rect" href="femu_8c.html#a76a47b73caa1fa75fb706e3ed8f16a73" title=" " alt="" coords="332,5,527,32"/>
<area shape="rect" href="femu_8c.html#a966fbeb7afc495936413dbc445a0dd45" title=" " alt="" coords="177,5,284,32"/>
<area shape="rect" href="femu_8c.html#aeb3b70286609648db37222148efcf8d3" title=" " alt="" coords="5,5,129,32"/>
</map>
</div>

</div>
</div>
<a id="a5b8b300920ee99be86c5e3e80a6f7949"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b8b300920ee99be86c5e3e80a6f7949">&#9670;&nbsp;</a></span>nvme_register_bbssd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nvme_register_bbssd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFemuCtrl.html">FemuCtrl</a> *&#160;</td>
          <td class="paramname"><em>n</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;{</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    n-&gt;<a class="code" href="structFemuCtrl.html#a2b07accc41de60cd0c6de43adde355ad">ext_ops</a> = (<a class="code" href="nvme_8h.html#a5d9fde4912328e2ecf4f80e41e1da013">FemuExtCtrlOps</a>) {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        .<a class="code" href="structFemuExtCtrlOps.html#a5a0b55a8db93619bd96e347ed4c7a930">state</a>            = NULL,</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        .init             = <a class="code" href="bb_8c.html#a3fc7384f815cca2f52003206b20324df">bb_init</a>,</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        .exit             = NULL,</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        .rw_check_req     = NULL,</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        .admin_cmd        = <a class="code" href="bb_8c.html#afd2d6d40a801b554569b5c4c364f8df6">bb_admin_cmd</a>,</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        .io_cmd           = <a class="code" href="bb_8c.html#a86a2ad222c79ea1e3eb798c53f472908">bb_io_cmd</a>,</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        .get_log          = NULL,</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    };</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="bb_8c_a5b8b300920ee99be86c5e3e80a6f7949_cgraph.png" border="0" usemap="#bb_8c_a5b8b300920ee99be86c5e3e80a6f7949_cgraph" alt=""/></div>
<map name="bb_8c_a5b8b300920ee99be86c5e3e80a6f7949_cgraph" id="bb_8c_a5b8b300920ee99be86c5e3e80a6f7949_cgraph">
<area shape="rect" title=" " alt="" coords="5,411,167,437"/>
<area shape="rect" href="bb_8c.html#afd2d6d40a801b554569b5c4c364f8df6" title=" " alt="" coords="215,348,336,375"/>
<area shape="rect" href="bb_8c.html#a3fc7384f815cca2f52003206b20324df" title=" " alt="" coords="242,411,309,437"/>
<area shape="rect" href="bb_8c.html#a86a2ad222c79ea1e3eb798c53f472908" title=" " alt="" coords="229,588,321,615"/>
<area shape="rect" href="bb_8c.html#a5d1e86a5f61a1db5c15dae757b35a5c3" title=" " alt="" coords="411,335,476,361"/>
<area shape="rect" href="bb_8c.html#aeaee718de94247f9ea5dc15b03680329" title=" " alt="" coords="384,385,503,412"/>
<area shape="rect" href="ftl_8c.html#af3f6de830b620d1f3060c7de8c8ddec0" title=" " alt="" coords="407,436,479,463"/>
<area shape="rect" href="nvme-util_8c.html#a9e84e8328646dcb1f24be9c79018e6a0" title=" " alt="" coords="554,233,713,260"/>
<area shape="rect" href="ftl_8c.html#a3716c928ff3ccf16e82ae281fd3dd6d3" title=" " alt="" coords="591,436,675,463"/>
<area shape="rect" href="ftl_8c.html#aa4643e6bbe68de1c047ec1d1745a82e3" title=" " alt="" coords="586,537,681,564"/>
<area shape="rect" href="ftl_8c.html#a75e82f66648a13506f57f7bb0fce7a10" title=" " alt="" coords="578,715,689,741"/>
<area shape="rect" href="ftl_8c.html#a358979ad49087b2f21ead4eb9a153f14" title=" " alt="" coords="571,385,696,412"/>
<area shape="rect" href="ftl_8c.html#a96c1b582459f3ccfc0643bac1a8cdf35" title=" " alt="" coords="569,335,697,361"/>
<area shape="rect" href="ftl_8c.html#ae19a0a686346f1ffbfa9e73035efbaad" title=" " alt="" coords="577,765,690,792"/>
<area shape="rect" href="ftl_8c.html#a37afec234fedd2c392569d5ce0af6cb4" title=" " alt="" coords="551,284,716,311"/>
<area shape="rect" href="ftl_8c.html#aedba9d148f29a3ea880cf3abbbc07fad" title=" " alt="" coords="1065,461,1125,488"/>
<area shape="rect" href="rte__ring_8h.html#a96ef17a77ac3deecdb8a1fb71b6bdf63" title=" " alt="" coords="797,537,927,564"/>
<area shape="rect" href="rte__ring_8h.html#ab2417e0e85ffd0e61ec4b0ee263ab809" title=" " alt="" coords="787,157,937,184"/>
<area shape="rect" href="rte__ring_8h.html#a3afc06d02f63e84fe1569c99955af57a" title=" " alt="" coords="787,487,937,513"/>
<area shape="rect" href="ftl_8c.html#a6722c643872772d48598187782365209" title=" " alt="" coords="819,385,905,412"/>
<area shape="rect" href="ftl_8c.html#a306780893a49a72da761566ca918b35e" title=" " alt="" coords="822,259,902,285"/>
<area shape="rect" href="ftl_8c.html#a8610a939b22b60851e3b88e0137b7ede" title=" " alt="" coords="820,335,904,361"/>
<area shape="rect" href="ftl_8c.html#ae4d530364d4008be453c27d200eacddf" title=" " alt="" coords="1242,613,1373,640"/>
<area shape="rect" href="ftl_8c.html#adc3fd6a4f50d3279de8a77eb9d605a8d" title=" " alt="" coords="1432,411,1503,437"/>
<area shape="rect" href="ftl_8c.html#a5313a5ca429ce56095c0c1052c301c15" title=" " alt="" coords="1242,411,1373,437"/>
<area shape="rect" href="ftl_8c.html#a2c41ad05315023bfa77846568e4f7282" title=" " alt="" coords="1247,512,1367,539"/>
<area shape="rect" href="ftl_8c.html#ae5f2680b1c6531f6394723c150f11e1c" title=" " alt="" coords="1237,563,1377,589"/>
<area shape="rect" href="ftl_8c.html#a0299da5e7e5dd1eb868d80914de35ee8" title=" " alt="" coords="1231,360,1384,387"/>
<area shape="rect" href="rte__ring_8h.html#abc8376d2c6e609707d52032860880b34" title=" " alt="" coords="1038,563,1153,589"/>
<area shape="rect" href="rte__ring_8h.html#a8742d4b89ce43dbd93cc2ef48518ccf0" title=" " alt="" coords="1008,107,1183,133"/>
<area shape="rect" href="rte__ring_8h.html#ab8debfb458e927d559e7ce750048502d" title=" " alt="" coords="1010,512,1181,539"/>
<area shape="rect" href="ftl_8c.html#af93eee663d18640559cfd06afdeb5409" title=" " alt="" coords="1033,259,1157,285"/>
<area shape="rect" href="ftl_8c.html#a6e8a2a542e569fe2662cbb8cf647590b" title=" " alt="" coords="1042,309,1149,336"/>
<area shape="rect" href="ftl_8c.html#a4237c1400d2e5e24f32b77e347163ab9" title=" " alt="" coords="1053,208,1138,235"/>
<area shape="rect" href="structppa.html#a4dc2d1cdc8cce18cdf002f309395cba8" title=" " alt="" coords="1268,309,1347,336"/>
<area shape="rect" href="ftl_8c.html#a2db76f519a8218ea9cda35e61552a4ec" title=" " alt="" coords="1037,360,1153,387"/>
<area shape="rect" href="ftl_8c.html#ae77b0af37a85b3285ff26402ca7d03a5" title=" " alt="" coords="793,588,931,615"/>
<area shape="rect" href="pqueue_8h.html#a2c27c13ed1c988e9fc7b259e6820ca8c" title=" " alt="" coords="813,892,911,919"/>
<area shape="rect" href="ftl_8c.html#ab36d3c54cb8e6ef53588b549a5803172" title=" " alt="" coords="785,639,939,665"/>
<area shape="rect" href="ftl_8c.html#a3c491d1c863f0b3501bd668a59dec976" title=" " alt="" coords="786,689,938,716"/>
<area shape="rect" href="ftl_8c.html#a9417ce02aa098194c92e57ef04abb6b7" title=" " alt="" coords="789,740,935,767"/>
<area shape="rect" href="ftl_8c.html#ae8e269140ca688f2decf1b684d2e3991" title=" " alt="" coords="787,791,937,817"/>
<area shape="rect" href="ftl_8c.html#a6d8917709dbdb441c13fc5d6ee5204aa" title=" " alt="" coords="789,841,935,868"/>
<area shape="rect" href="ftl_8c.html#aa555ec9dcfe762eb6c39afa3cb167e3d" title=" " alt="" coords="804,5,920,32"/>
<area shape="rect" href="bb_8c.html#a3b0eb3030af1311ad77c85da413a32d8" title=" " alt="" coords="391,841,496,868"/>
<area shape="rect" href="nvme-io_8c.html#a57765d5f7b83e5c6af69f1f5c501beb7" title=" " alt="" coords="592,993,675,1020"/>
<area shape="rect" href="dram_8c.html#a1ccbcf0c92b7b084afc9890f3a7e5799" title=" " alt="" coords="813,943,911,969"/>
<area shape="rect" href="nvme-util_8c.html#a13db5864083eb3bdfb33cbb42f2a4350" title=" " alt="" coords="764,1044,960,1071"/>
<area shape="rect" href="nvme-util_8c.html#a6ad5e0fb9283798af6a6b70e7254a183" title=" " alt="" coords="1014,1019,1177,1045"/>
<area shape="rect" href="dma_8c.html#aff05c76845a6cc08d0131d2761153493" title=" " alt="" coords="801,1095,923,1121"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="bb_8c_a5b8b300920ee99be86c5e3e80a6f7949_icgraph.png" border="0" usemap="#bb_8c_a5b8b300920ee99be86c5e3e80a6f7949_icgraph" alt=""/></div>
<map name="bb_8c_a5b8b300920ee99be86c5e3e80a6f7949_icgraph" id="bb_8c_a5b8b300920ee99be86c5e3e80a6f7949_icgraph">
<area shape="rect" title=" " alt="" coords="575,5,736,32"/>
<area shape="rect" href="femu_8c.html#a76a47b73caa1fa75fb706e3ed8f16a73" title=" " alt="" coords="332,5,527,32"/>
<area shape="rect" href="femu_8c.html#a966fbeb7afc495936413dbc445a0dd45" title=" " alt="" coords="177,5,284,32"/>
<area shape="rect" href="femu_8c.html#aeb3b70286609648db37222148efcf8d3" title=" " alt="" coords="5,5,129,32"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="astructssdparams_html_aebc159516f73021767eb96c276f64d08"><div class="ttname"><a href="structssdparams.html#aebc159516f73021767eb96c276f64d08">ssdparams::ch_xfer_lat</a></div><div class="ttdeci">int ch_xfer_lat</div><div class="ttdef"><b>Definition:</b> ftl.h:122</div></div>
<div class="ttc" id="anvme-io_8c_html_a57765d5f7b83e5c6af69f1f5c501beb7"><div class="ttname"><a href="nvme-io_8c.html#a57765d5f7b83e5c6af69f1f5c501beb7">nvme_rw</a></div><div class="ttdeci">uint16_t nvme_rw(FemuCtrl *n, NvmeNamespace *ns, NvmeCmd *cmd, NvmeRequest *req)</div><div class="ttdef"><b>Definition:</b> nvme-io.c:308</div></div>
<div class="ttc" id="aftl_8h_html_a06fc87d81c62e9abb8790b6e5713c55ba961b37b2f319961303251f5ef3d2e93f"><div class="ttname"><a href="ftl_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba961b37b2f319961303251f5ef3d2e93f">NAND_ERASE_LATENCY</a></div><div class="ttdeci">@ NAND_ERASE_LATENCY</div><div class="ttdef"><b>Definition:</b> ftl.h:17</div></div>
<div class="ttc" id="astructssdparams_html_ab8b7f48bd8cae23a4da6dcc8ceeb05ab"><div class="ttname"><a href="structssdparams.html#ab8b7f48bd8cae23a4da6dcc8ceeb05ab">ssdparams::pg_rd_lat</a></div><div class="ttdeci">int pg_rd_lat</div><div class="ttdef"><b>Definition:</b> ftl.h:119</div></div>
<div class="ttc" id="astructssd_html"><div class="ttname"><a href="structssd.html">ssd</a></div><div class="ttdef"><b>Definition:</b> ftl.h:197</div></div>
<div class="ttc" id="astructssdparams_html_a584a92a1768fad79586d746562db0ced"><div class="ttname"><a href="structssdparams.html#a584a92a1768fad79586d746562db0ced">ssdparams::pg_wr_lat</a></div><div class="ttdeci">int pg_wr_lat</div><div class="ttdef"><b>Definition:</b> ftl.h:120</div></div>
<div class="ttc" id="astructFemuCtrl_html_a3a16108410047b6e7d6ac06c3cb5cd76"><div class="ttname"><a href="structFemuCtrl.html#a3a16108410047b6e7d6ac06c3cb5cd76">FemuCtrl::print_log</a></div><div class="ttdeci">bool print_log</div><div class="ttdef"><b>Definition:</b> nvme.h:1320</div></div>
<div class="ttc" id="astructFemuCtrl_html_a2b07accc41de60cd0c6de43adde355ad"><div class="ttname"><a href="structFemuCtrl.html#a2b07accc41de60cd0c6de43adde355ad">FemuCtrl::ext_ops</a></div><div class="ttdeci">FemuExtCtrlOps ext_ops</div><div class="ttdef"><b>Definition:</b> nvme.h:1206</div></div>
<div class="ttc" id="aftl_8h_html_abc6126af1d45847bc59afa0aa3216b04afcb5b35957d832112aeb8250e90d8fcf"><div class="ttname"><a href="ftl_8h.html#abc6126af1d45847bc59afa0aa3216b04afcb5b35957d832112aeb8250e90d8fcf">FEMU_DISABLE_LOG</a></div><div class="ttdeci">@ FEMU_DISABLE_LOG</div><div class="ttdef"><b>Definition:</b> ftl.h:44</div></div>
<div class="ttc" id="anvme_8h_html_a279462a0d67217a97c8946fa74531952"><div class="ttname"><a href="nvme_8h.html#a279462a0d67217a97c8946fa74531952">femu_log</a></div><div class="ttdeci">#define femu_log(fmt,...)</div><div class="ttdef"><b>Definition:</b> nvme.h:1492</div></div>
<div class="ttc" id="anvme_8h_html_a5d9fde4912328e2ecf4f80e41e1da013"><div class="ttname"><a href="nvme_8h.html#a5d9fde4912328e2ecf4f80e41e1da013">FemuExtCtrlOps</a></div><div class="ttdeci">struct FemuExtCtrlOps FemuExtCtrlOps</div></div>
<div class="ttc" id="anvme_8h_html_aef2bfc05ccbdba79aef90226efe46ad4"><div class="ttname"><a href="nvme_8h.html#aef2bfc05ccbdba79aef90226efe46ad4">femu_debug</a></div><div class="ttdeci">#define femu_debug(fmt,...)</div><div class="ttdef"><b>Definition:</b> nvme.h:1485</div></div>
<div class="ttc" id="anvme_8h_html_a2259ab6ad32aaf55b340159f4fb043f4a3268f6be90861f0c2270d86a44d5b09c"><div class="ttname"><a href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a3268f6be90861f0c2270d86a44d5b09c">NVME_SUCCESS</a></div><div class="ttdeci">@ NVME_SUCCESS</div><div class="ttdef"><b>Definition:</b> nvme.h:520</div></div>
<div class="ttc" id="anvme_8h_html_af84c4c35c60574c51e83e47bbc873fc2a70aaecbce9afd8092f1b055c54772e4f"><div class="ttname"><a href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2a70aaecbce9afd8092f1b055c54772e4f">NVME_ADM_CMD_FEMU_FLIP</a></div><div class="ttdeci">@ NVME_ADM_CMD_FEMU_FLIP</div><div class="ttdef"><b>Definition:</b> nvme.h:329</div></div>
<div class="ttc" id="anvme_8h_html_a01e3a918ff89282c841471f5d797fbf6af12c69a9bdf0ad418e4a144ef5424336"><div class="ttname"><a href="nvme_8h.html#a01e3a918ff89282c841471f5d797fbf6af12c69a9bdf0ad418e4a144ef5424336">NVME_CMD_WRITE</a></div><div class="ttdeci">@ NVME_CMD_WRITE</div><div class="ttdef"><b>Definition:</b> nvme.h:334</div></div>
<div class="ttc" id="anvme_8h_html_a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1"><div class="ttname"><a href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a></div><div class="ttdeci">@ NVME_DNR</div><div class="ttdef"><b>Definition:</b> nvme.h:575</div></div>
<div class="ttc" id="aftl_8h_html_abc6126af1d45847bc59afa0aa3216b04a2bdc68ee27c5732068656308799b4c1f"><div class="ttname"><a href="ftl_8h.html#abc6126af1d45847bc59afa0aa3216b04a2bdc68ee27c5732068656308799b4c1f">FEMU_ENABLE_GC_DELAY</a></div><div class="ttdeci">@ FEMU_ENABLE_GC_DELAY</div><div class="ttdef"><b>Definition:</b> ftl.h:36</div></div>
<div class="ttc" id="aftl_8h_html_abc6126af1d45847bc59afa0aa3216b04a32eeac57f9b0e5ae117a2c70623daa0f"><div class="ttname"><a href="ftl_8h.html#abc6126af1d45847bc59afa0aa3216b04a32eeac57f9b0e5ae117a2c70623daa0f">FEMU_ENABLE_DELAY_EMU</a></div><div class="ttdeci">@ FEMU_ENABLE_DELAY_EMU</div><div class="ttdef"><b>Definition:</b> ftl.h:39</div></div>
<div class="ttc" id="aftl_8h_html_abc6126af1d45847bc59afa0aa3216b04a6b20efba3de792d95d952a331da4abcb"><div class="ttname"><a href="ftl_8h.html#abc6126af1d45847bc59afa0aa3216b04a6b20efba3de792d95d952a331da4abcb">FEMU_RESET_ACCT</a></div><div class="ttdeci">@ FEMU_RESET_ACCT</div><div class="ttdef"><b>Definition:</b> ftl.h:42</div></div>
<div class="ttc" id="astructssdparams_html_a6865de86ba20967f6ef156beeca0d62a"><div class="ttname"><a href="structssdparams.html#a6865de86ba20967f6ef156beeca0d62a">ssdparams::blk_er_lat</a></div><div class="ttdeci">int blk_er_lat</div><div class="ttdef"><b>Definition:</b> ftl.h:121</div></div>
<div class="ttc" id="anvme-util_8c_html_a9e84e8328646dcb1f24be9c79018e6a0"><div class="ttname"><a href="nvme-util_8c.html#a9e84e8328646dcb1f24be9c79018e6a0">nvme_set_ctrl_name</a></div><div class="ttdeci">void nvme_set_ctrl_name(FemuCtrl *n, const char *mn, const char *sn, int *dev_id)</div><div class="ttdef"><b>Definition:</b> nvme-util.c:282</div></div>
<div class="ttc" id="astructFemuCtrl_html_a252a9c514e961fa6355b50061862bd34"><div class="ttname"><a href="structFemuCtrl.html#a252a9c514e961fa6355b50061862bd34">FemuCtrl::nr_tt_ios</a></div><div class="ttdeci">int64_t nr_tt_ios</div><div class="ttdef"><b>Definition:</b> nvme.h:1318</div></div>
<div class="ttc" id="astructssd_html_a8724ca69d768471877affbeadbe3c244"><div class="ttname"><a href="structssd.html#a8724ca69d768471877affbeadbe3c244">ssd::ssdname</a></div><div class="ttdeci">char * ssdname</div><div class="ttdef"><b>Definition:</b> ftl.h:198</div></div>
<div class="ttc" id="abb_8c_html_a5d1e86a5f61a1db5c15dae757b35a5c3"><div class="ttname"><a href="bb_8c.html#a5d1e86a5f61a1db5c15dae757b35a5c3">bb_flip</a></div><div class="ttdeci">static void bb_flip(FemuCtrl *n, NvmeCmd *cmd)</div><div class="ttdef"><b>Definition:</b> bb.c:26</div></div>
<div class="ttc" id="aftl_8h_html_abc6126af1d45847bc59afa0aa3216b04adf250553fb54f027925e4dab5f92fa3a"><div class="ttname"><a href="ftl_8h.html#abc6126af1d45847bc59afa0aa3216b04adf250553fb54f027925e4dab5f92fa3a">FEMU_DISABLE_DELAY_EMU</a></div><div class="ttdeci">@ FEMU_DISABLE_DELAY_EMU</div><div class="ttdef"><b>Definition:</b> ftl.h:40</div></div>
<div class="ttc" id="astructssdparams_html_ab072044ad8c0107835464ba876b618f2"><div class="ttname"><a href="structssdparams.html#ab072044ad8c0107835464ba876b618f2">ssdparams::enable_gc_delay</a></div><div class="ttdeci">bool enable_gc_delay</div><div class="ttdef"><b>Definition:</b> ftl.h:130</div></div>
<div class="ttc" id="abb_8c_html_a3b0eb3030af1311ad77c85da413a32d8"><div class="ttname"><a href="bb_8c.html#a3b0eb3030af1311ad77c85da413a32d8">bb_nvme_rw</a></div><div class="ttdeci">static uint16_t bb_nvme_rw(FemuCtrl *n, NvmeNamespace *ns, NvmeCmd *cmd, NvmeRequest *req)</div><div class="ttdef"><b>Definition:</b> bb.c:73</div></div>
<div class="ttc" id="aftl_8h_html_abc6126af1d45847bc59afa0aa3216b04a4dc74fd4c46787b0858f51e424333548"><div class="ttname"><a href="ftl_8h.html#abc6126af1d45847bc59afa0aa3216b04a4dc74fd4c46787b0858f51e424333548">FEMU_DISABLE_GC_DELAY</a></div><div class="ttdeci">@ FEMU_DISABLE_GC_DELAY</div><div class="ttdef"><b>Definition:</b> ftl.h:37</div></div>
<div class="ttc" id="abb_8c_html_a3fc7384f815cca2f52003206b20324df"><div class="ttname"><a href="bb_8c.html#a3fc7384f815cca2f52003206b20324df">bb_init</a></div><div class="ttdeci">static void bb_init(FemuCtrl *n, Error **errp)</div><div class="ttdef"><b>Definition:</b> bb.c:14</div></div>
<div class="ttc" id="anvme_8h_html_a2259ab6ad32aaf55b340159f4fb043f4a778b8f53d6725ef86c455e2e55d46ce7"><div class="ttname"><a href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a778b8f53d6725ef86c455e2e55d46ce7">NVME_INVALID_OPCODE</a></div><div class="ttdeci">@ NVME_INVALID_OPCODE</div><div class="ttdef"><b>Definition:</b> nvme.h:521</div></div>
<div class="ttc" id="astructFemuCtrl_html_a8da82e5488952cf964ffcb40f29e4f7a"><div class="ttname"><a href="structFemuCtrl.html#a8da82e5488952cf964ffcb40f29e4f7a">FemuCtrl::nr_tt_late_ios</a></div><div class="ttdeci">int64_t nr_tt_late_ios</div><div class="ttdef"><b>Definition:</b> nvme.h:1319</div></div>
<div class="ttc" id="aftl_8h_html_a06fc87d81c62e9abb8790b6e5713c55ba159b99876b55d2052590c66614f18e06"><div class="ttname"><a href="ftl_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba159b99876b55d2052590c66614f18e06">NAND_READ_LATENCY</a></div><div class="ttdeci">@ NAND_READ_LATENCY</div><div class="ttdef"><b>Definition:</b> ftl.h:15</div></div>
<div class="ttc" id="astructFemuCtrl_html_a4464c81978268e5df515d91044ea1ec2"><div class="ttname"><a href="structFemuCtrl.html#a4464c81978268e5df515d91044ea1ec2">FemuCtrl::ssd</a></div><div class="ttdeci">struct ssd * ssd</div><div class="ttdef"><b>Definition:</b> nvme.h:1307</div></div>
<div class="ttc" id="astructNvmeCmd_html_ab217950fc2408f7a848af10f36b0cd8f"><div class="ttname"><a href="structNvmeCmd.html#ab217950fc2408f7a848af10f36b0cd8f">NvmeCmd::cdw10</a></div><div class="ttdeci">uint32_t cdw10</div><div class="ttdef"><b>Definition:</b> nvme.h:300</div></div>
<div class="ttc" id="astructNvmeCmd_html_a2751bc2a772082d3af81124a1d120a0c"><div class="ttname"><a href="structNvmeCmd.html#a2751bc2a772082d3af81124a1d120a0c">NvmeCmd::opcode</a></div><div class="ttdeci">uint16_t opcode</div><div class="ttdef"><b>Definition:</b> nvme.h:291</div></div>
<div class="ttc" id="aftl_8h_html_abc6126af1d45847bc59afa0aa3216b04a248ee6337f9fc0e6380d2407c6fde5f4"><div class="ttname"><a href="ftl_8h.html#abc6126af1d45847bc59afa0aa3216b04a248ee6337f9fc0e6380d2407c6fde5f4">FEMU_ENABLE_LOG</a></div><div class="ttdeci">@ FEMU_ENABLE_LOG</div><div class="ttdef"><b>Definition:</b> ftl.h:43</div></div>
<div class="ttc" id="aftl_8h_html_a06fc87d81c62e9abb8790b6e5713c55ba473c2d5e1315210c6973d46d1a06d895"><div class="ttname"><a href="ftl_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba473c2d5e1315210c6973d46d1a06d895">NAND_PROG_LATENCY</a></div><div class="ttdeci">@ NAND_PROG_LATENCY</div><div class="ttdef"><b>Definition:</b> ftl.h:16</div></div>
<div class="ttc" id="abb_8c_html_aeaee718de94247f9ea5dc15b03680329"><div class="ttname"><a href="bb_8c.html#aeaee718de94247f9ea5dc15b03680329">bb_init_ctrl_str</a></div><div class="ttdeci">static void bb_init_ctrl_str(FemuCtrl *n)</div><div class="ttdef"><b>Definition:</b> bb.c:4</div></div>
<div class="ttc" id="aftl_8c_html_af3f6de830b620d1f3060c7de8c8ddec0"><div class="ttname"><a href="ftl_8c.html#af3f6de830b620d1f3060c7de8c8ddec0">ssd_init</a></div><div class="ttdeci">void ssd_init(FemuCtrl *n)</div><div class="ttdef"><b>Definition:</b> ftl.c:363</div></div>
<div class="ttc" id="astructFemuExtCtrlOps_html_a5a0b55a8db93619bd96e347ed4c7a930"><div class="ttname"><a href="structFemuExtCtrlOps.html#a5a0b55a8db93619bd96e347ed4c7a930">FemuExtCtrlOps::state</a></div><div class="ttdeci">void * state</div><div class="ttdef"><b>Definition:</b> nvme.h:1160</div></div>
<div class="ttc" id="anvme_8h_html_a01e3a918ff89282c841471f5d797fbf6a13421e16e166f06ef616c86258232336"><div class="ttname"><a href="nvme_8h.html#a01e3a918ff89282c841471f5d797fbf6a13421e16e166f06ef616c86258232336">NVME_CMD_READ</a></div><div class="ttdeci">@ NVME_CMD_READ</div><div class="ttdef"><b>Definition:</b> nvme.h:335</div></div>
<div class="ttc" id="astructFemuCtrl_html_a7c69e429f2da05dd6a0ecb4591c2c4fb"><div class="ttname"><a href="structFemuCtrl.html#a7c69e429f2da05dd6a0ecb4591c2c4fb">FemuCtrl::devname</a></div><div class="ttdeci">char devname[64]</div><div class="ttdef"><b>Definition:</b> nvme.h:1311</div></div>
<div class="ttc" id="abb_8c_html_afd2d6d40a801b554569b5c4c364f8df6"><div class="ttname"><a href="bb_8c.html#afd2d6d40a801b554569b5c4c364f8df6">bb_admin_cmd</a></div><div class="ttdeci">static uint16_t bb_admin_cmd(FemuCtrl *n, NvmeCmd *cmd)</div><div class="ttdef"><b>Definition:</b> bb.c:91</div></div>
<div class="ttc" id="astructssd_html_a2b0e9503ff5811ff40f5b426d137692e"><div class="ttname"><a href="structssd.html#a2b0e9503ff5811ff40f5b426d137692e">ssd::dataplane_started_ptr</a></div><div class="ttdeci">bool * dataplane_started_ptr</div><div class="ttdef"><b>Definition:</b> ftl.h:209</div></div>
<div class="ttc" id="astructFemuCtrl_html_a6291ffd43b13aa9c7bc871a7e1bb4a11"><div class="ttname"><a href="structFemuCtrl.html#a6291ffd43b13aa9c7bc871a7e1bb4a11">FemuCtrl::dataplane_started</a></div><div class="ttdeci">bool dataplane_started</div><div class="ttdef"><b>Definition:</b> nvme.h:1259</div></div>
<div class="ttc" id="abb_8c_html_a86a2ad222c79ea1e3eb798c53f472908"><div class="ttname"><a href="bb_8c.html#a86a2ad222c79ea1e3eb798c53f472908">bb_io_cmd</a></div><div class="ttdeci">static uint16_t bb_io_cmd(FemuCtrl *n, NvmeNamespace *ns, NvmeCmd *cmd, NvmeRequest *req)</div><div class="ttdef"><b>Definition:</b> bb.c:79</div></div>
<div class="ttc" id="astructssd_html_a36c0adb782ca9d8a1accf3ec8d7455eb"><div class="ttname"><a href="structssd.html#a36c0adb782ca9d8a1accf3ec8d7455eb">ssd::sp</a></div><div class="ttdeci">struct ssdparams sp</div><div class="ttdef"><b>Definition:</b> ftl.h:199</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_327f2e1a2fad6d8049b1e90f819f6dfc.html">bbssd</a></li><li class="navelem"><a class="el" href="bb_8c.html">bb.c</a></li>
    <li class="footer">制作者
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
