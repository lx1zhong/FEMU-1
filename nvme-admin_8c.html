<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FEMU: nvme-admin.c 文件参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FEMU
   &#160;<span id="projectnumber">原版 master 7e238cc</span>
   </div>
   <div id="projectbrief">FEMU: Accurate, Scalable and Extensible NVMe SSD Emulator (FAST&#39;18)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'搜索');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('nvme-admin_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">宏定义</a> &#124;
<a href="#func-members">函数</a> &#124;
<a href="#var-members">变量</a>  </div>
  <div class="headertitle">
<div class="title">nvme-admin.c 文件参考</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="nvme_8h_source.html">./nvme.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
nvme-admin.c 的引用(Include)关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c__incl.png" border="0" usemap="#nvme-admin_8c" alt=""/></div>
<map name="nvme-admin_8c" id="nvme-admin_8c">
<area shape="rect" title=" " alt="" coords="878,5,994,32"/>
<area shape="rect" href="nvme_8h.html" title=" " alt="" coords="897,80,975,107"/>
<area shape="rect" title=" " alt="" coords="5,155,120,181"/>
<area shape="rect" title=" " alt="" coords="145,155,247,181"/>
<area shape="rect" title=" " alt="" coords="272,155,379,181"/>
<area shape="rect" title=" " alt="" coords="403,155,514,181"/>
<area shape="rect" title=" " alt="" coords="539,155,651,181"/>
<area shape="rect" title=" " alt="" coords="675,155,779,181"/>
<area shape="rect" title=" " alt="" coords="803,155,933,181"/>
<area shape="rect" title=" " alt="" coords="957,155,1053,181"/>
<area shape="rect" title=" " alt="" coords="1078,155,1197,181"/>
<area shape="rect" href="dram_8h.html" title=" " alt="" coords="1221,155,1347,181"/>
<area shape="rect" href="rte__ring_8h.html" title=" " alt="" coords="1372,155,1479,181"/>
<area shape="rect" href="pqueue_8h.html" title="Priority Queue function declarations" alt="" coords="1503,155,1609,181"/>
<area shape="rect" href="nand_8h.html" title=" " alt="" coords="1633,155,1735,181"/>
<area shape="rect" href="timing_8h.html" title=" " alt="" coords="1760,155,1928,181"/>
<area shape="rect" title=" " alt="" coords="1134,229,1205,256"/>
<area shape="rect" title=" " alt="" coords="1229,229,1296,256"/>
<area shape="rect" title=" " alt="" coords="1321,229,1421,256"/>
<area shape="rect" title=" " alt="" coords="1445,229,1513,256"/>
<area shape="rect" title=" " alt="" coords="1537,229,1639,256"/>
<area shape="rect" href="rte__atomic__x86_8h.html" title=" " alt="" coords="1663,229,1798,256"/>
<area shape="rect" href="rte__branch__prediction_8h.html" title=" " alt="" coords="1822,229,1997,256"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
宏定义</h2></td></tr>
<tr class="memitem:a2b65aed5d655f3d24732cd3c6aa51ab9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-admin_8c.html#a2b65aed5d655f3d24732cd3c6aa51ab9">NVME_IDENTIFY_DATA_SIZE</a>&#160;&#160;&#160;4096</td></tr>
<tr class="separator:a2b65aed5d655f3d24732cd3c6aa51ab9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
函数</h2></td></tr>
<tr class="memitem:a6f5c22b725b5eca5912f17066e95cf67"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-admin_8c.html#a6f5c22b725b5eca5912f17066e95cf67">nvme_del_sq</a> (<a class="el" href="structFemuCtrl.html">FemuCtrl</a> *n, <a class="el" href="structNvmeCmd.html">NvmeCmd</a> *cmd)</td></tr>
<tr class="separator:a6f5c22b725b5eca5912f17066e95cf67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c43f1bdb51a2e35c2ecdb9ed9db64ec"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-admin_8c.html#a2c43f1bdb51a2e35c2ecdb9ed9db64ec">nvme_create_sq</a> (<a class="el" href="structFemuCtrl.html">FemuCtrl</a> *n, <a class="el" href="structNvmeCmd.html">NvmeCmd</a> *cmd)</td></tr>
<tr class="separator:a2c43f1bdb51a2e35c2ecdb9ed9db64ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3ddf1e4e280aa3f367a5b2b44879b41"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-admin_8c.html#af3ddf1e4e280aa3f367a5b2b44879b41">nvme_create_cq</a> (<a class="el" href="structFemuCtrl.html">FemuCtrl</a> *n, <a class="el" href="structNvmeCmd.html">NvmeCmd</a> *cmd)</td></tr>
<tr class="separator:af3ddf1e4e280aa3f367a5b2b44879b41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1090eb738e0aa389ef5a647e647a09f"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-admin_8c.html#ac1090eb738e0aa389ef5a647e647a09f">nvme_del_cq</a> (<a class="el" href="structFemuCtrl.html">FemuCtrl</a> *n, <a class="el" href="structNvmeCmd.html">NvmeCmd</a> *cmd)</td></tr>
<tr class="separator:ac1090eb738e0aa389ef5a647e647a09f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b2764426b75545dfc03229b811607eb"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-admin_8c.html#a8b2764426b75545dfc03229b811607eb">nvme_set_db_memory</a> (<a class="el" href="structFemuCtrl.html">FemuCtrl</a> *n, const <a class="el" href="structNvmeCmd.html">NvmeCmd</a> *cmd)</td></tr>
<tr class="separator:a8b2764426b75545dfc03229b811607eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa248954e6428b4efed7549f41e77f2b"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-admin_8c.html#afa248954e6428b4efed7549f41e77f2b">nvme_nsid_valid</a> (<a class="el" href="structFemuCtrl.html">FemuCtrl</a> *n, uint32_t nsid)</td></tr>
<tr class="separator:afa248954e6428b4efed7549f41e77f2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a908e1383f81ed82cd271ecf3aa68f9a5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structNvmeNamespace.html">NvmeNamespace</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-admin_8c.html#a908e1383f81ed82cd271ecf3aa68f9a5">nvme_ns</a> (<a class="el" href="structFemuCtrl.html">FemuCtrl</a> *n, uint32_t nsid)</td></tr>
<tr class="separator:a908e1383f81ed82cd271ecf3aa68f9a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4288308db73b3aa30b0c2253ffabd2d5"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-admin_8c.html#a4288308db73b3aa30b0c2253ffabd2d5">nvme_rpt_empty_id_struct</a> (<a class="el" href="structFemuCtrl.html">FemuCtrl</a> *n, <a class="el" href="structNvmeCmd.html">NvmeCmd</a> *cmd)</td></tr>
<tr class="separator:a4288308db73b3aa30b0c2253ffabd2d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59ac97b9a3caead40c6651273483ed4c"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-admin_8c.html#a59ac97b9a3caead40c6651273483ed4c">nvme_csi_has_nvm_support</a> (<a class="el" href="structNvmeNamespace.html">NvmeNamespace</a> *ns)</td></tr>
<tr class="separator:a59ac97b9a3caead40c6651273483ed4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9896b513919b735c2049dd8e59d588c0"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-admin_8c.html#a9896b513919b735c2049dd8e59d588c0">nvme_identify_ns</a> (<a class="el" href="structFemuCtrl.html">FemuCtrl</a> *n, <a class="el" href="structNvmeCmd.html">NvmeCmd</a> *cmd)</td></tr>
<tr class="separator:a9896b513919b735c2049dd8e59d588c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50ae77ec77f7a89c1a067df80c5cd767"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-admin_8c.html#a50ae77ec77f7a89c1a067df80c5cd767">nvme_identify_ns_csi</a> (<a class="el" href="structFemuCtrl.html">FemuCtrl</a> *n, <a class="el" href="structNvmeCmd.html">NvmeCmd</a> *cmd)</td></tr>
<tr class="separator:a50ae77ec77f7a89c1a067df80c5cd767"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a27adda12530ad69ecc17512ede9ddd"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-admin_8c.html#a6a27adda12530ad69ecc17512ede9ddd">nvme_identify_ctrl</a> (<a class="el" href="structFemuCtrl.html">FemuCtrl</a> *n, <a class="el" href="structNvmeCmd.html">NvmeCmd</a> *cmd)</td></tr>
<tr class="separator:a6a27adda12530ad69ecc17512ede9ddd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7db584730c5821def2e8208f0aaf3f05"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-admin_8c.html#a7db584730c5821def2e8208f0aaf3f05">nvme_identify_ctrl_csi</a> (<a class="el" href="structFemuCtrl.html">FemuCtrl</a> *n, <a class="el" href="structNvmeCmd.html">NvmeCmd</a> *cmd)</td></tr>
<tr class="separator:a7db584730c5821def2e8208f0aaf3f05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9eeb98def2fad8039662200e9854b7e7"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-admin_8c.html#a9eeb98def2fad8039662200e9854b7e7">nvme_identify_nslist</a> (<a class="el" href="structFemuCtrl.html">FemuCtrl</a> *n, <a class="el" href="structNvmeCmd.html">NvmeCmd</a> *cmd)</td></tr>
<tr class="separator:a9eeb98def2fad8039662200e9854b7e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1067c1ab64f621b7e8d68043437c04eb"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-admin_8c.html#a1067c1ab64f621b7e8d68043437c04eb">nvme_identify_nslist_csi</a> (<a class="el" href="structFemuCtrl.html">FemuCtrl</a> *n, <a class="el" href="structNvmeCmd.html">NvmeCmd</a> *cmd)</td></tr>
<tr class="separator:a1067c1ab64f621b7e8d68043437c04eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb087910e36564f94d4dc54c6af7622c"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-admin_8c.html#aeb087910e36564f94d4dc54c6af7622c">nvme_identify_ns_descr_list</a> (<a class="el" href="structFemuCtrl.html">FemuCtrl</a> *n, <a class="el" href="structNvmeCmd.html">NvmeCmd</a> *cmd)</td></tr>
<tr class="separator:aeb087910e36564f94d4dc54c6af7622c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a834f603280a3a10a14da324da6bd9a62"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-admin_8c.html#a834f603280a3a10a14da324da6bd9a62">nvme_identify_cmd_set</a> (<a class="el" href="structFemuCtrl.html">FemuCtrl</a> *n, <a class="el" href="structNvmeCmd.html">NvmeCmd</a> *cmd)</td></tr>
<tr class="separator:a834f603280a3a10a14da324da6bd9a62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae23b14397c30828a57903ec27a4c150c"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-admin_8c.html#ae23b14397c30828a57903ec27a4c150c">nvme_identify</a> (<a class="el" href="structFemuCtrl.html">FemuCtrl</a> *n, <a class="el" href="structNvmeCmd.html">NvmeCmd</a> *cmd)</td></tr>
<tr class="separator:ae23b14397c30828a57903ec27a4c150c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf593ed87b332bec6cb6fca0e2bed1be"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-admin_8c.html#abf593ed87b332bec6cb6fca0e2bed1be">nvme_get_feature</a> (<a class="el" href="structFemuCtrl.html">FemuCtrl</a> *n, <a class="el" href="structNvmeCmd.html">NvmeCmd</a> *cmd, <a class="el" href="structNvmeCqe.html">NvmeCqe</a> *cqe)</td></tr>
<tr class="separator:abf593ed87b332bec6cb6fca0e2bed1be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad712f926297fd28d117c32d18e3566dc"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-admin_8c.html#ad712f926297fd28d117c32d18e3566dc">nvme_set_feature</a> (<a class="el" href="structFemuCtrl.html">FemuCtrl</a> *n, <a class="el" href="structNvmeCmd.html">NvmeCmd</a> *cmd, <a class="el" href="structNvmeCqe.html">NvmeCqe</a> *cqe)</td></tr>
<tr class="separator:ad712f926297fd28d117c32d18e3566dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a295e47dd4c386bd7ad30d98ea4b45929"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-admin_8c.html#a295e47dd4c386bd7ad30d98ea4b45929">nvme_fw_log_info</a> (<a class="el" href="structFemuCtrl.html">FemuCtrl</a> *n, <a class="el" href="structNvmeCmd.html">NvmeCmd</a> *cmd, uint32_t buf_len)</td></tr>
<tr class="separator:a295e47dd4c386bd7ad30d98ea4b45929"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e3add88b587075ed1a120f75f73ea44"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-admin_8c.html#a4e3add88b587075ed1a120f75f73ea44">nvme_error_log_info</a> (<a class="el" href="structFemuCtrl.html">FemuCtrl</a> *n, <a class="el" href="structNvmeCmd.html">NvmeCmd</a> *cmd, uint32_t buf_len)</td></tr>
<tr class="separator:a4e3add88b587075ed1a120f75f73ea44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7d9ef3eb88525869cf3506520028cf0"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-admin_8c.html#af7d9ef3eb88525869cf3506520028cf0">nvme_smart_info</a> (<a class="el" href="structFemuCtrl.html">FemuCtrl</a> *n, <a class="el" href="structNvmeCmd.html">NvmeCmd</a> *cmd, uint32_t buf_len)</td></tr>
<tr class="separator:af7d9ef3eb88525869cf3506520028cf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff81480a8e081d70ea6fc2b09a02af21"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-admin_8c.html#aff81480a8e081d70ea6fc2b09a02af21">nvme_cmd_effects</a> (<a class="el" href="structFemuCtrl.html">FemuCtrl</a> *n, <a class="el" href="structNvmeCmd.html">NvmeCmd</a> *cmd, uint8_t csi, uint32_t buf_len, uint64_t off)</td></tr>
<tr class="separator:aff81480a8e081d70ea6fc2b09a02af21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace67c34426486b78b1b20cba61ab28b8"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-admin_8c.html#ace67c34426486b78b1b20cba61ab28b8">nvme_get_log</a> (<a class="el" href="structFemuCtrl.html">FemuCtrl</a> *n, <a class="el" href="structNvmeCmd.html">NvmeCmd</a> *cmd)</td></tr>
<tr class="separator:ace67c34426486b78b1b20cba61ab28b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd65f91764a2624cdc4e608f3dc7932e"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-admin_8c.html#abd65f91764a2624cdc4e608f3dc7932e">nvme_abort_req</a> (<a class="el" href="structFemuCtrl.html">FemuCtrl</a> *n, <a class="el" href="structNvmeCmd.html">NvmeCmd</a> *cmd, uint32_t *result)</td></tr>
<tr class="separator:abd65f91764a2624cdc4e608f3dc7932e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1068e4177c9ff25ec1cc15b18d26356b"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-admin_8c.html#a1068e4177c9ff25ec1cc15b18d26356b">nvme_format_namespace</a> (<a class="el" href="structNvmeNamespace.html">NvmeNamespace</a> *ns, uint8_t lba_idx, uint8_t meta_loc, uint8_t pil, uint8_t pi, uint8_t sec_erase)</td></tr>
<tr class="separator:a1068e4177c9ff25ec1cc15b18d26356b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af11a6f9497c3496eb41dda00362bac96"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-admin_8c.html#af11a6f9497c3496eb41dda00362bac96">nvme_format</a> (<a class="el" href="structFemuCtrl.html">FemuCtrl</a> *n, <a class="el" href="structNvmeCmd.html">NvmeCmd</a> *cmd)</td></tr>
<tr class="separator:af11a6f9497c3496eb41dda00362bac96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac726ef5f792706a8a28f07f19c5097b1"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1">nvme_admin_cmd</a> (<a class="el" href="structFemuCtrl.html">FemuCtrl</a> *n, <a class="el" href="structNvmeCmd.html">NvmeCmd</a> *cmd, <a class="el" href="structNvmeCqe.html">NvmeCqe</a> *cqe)</td></tr>
<tr class="separator:ac726ef5f792706a8a28f07f19c5097b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7042f589909852500d6f26c36b78850b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-admin_8c.html#a7042f589909852500d6f26c36b78850b">nvme_process_sq_admin</a> (void *opaque)</td></tr>
<tr class="separator:a7042f589909852500d6f26c36b78850b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
变量</h2></td></tr>
<tr class="memitem:aea2f9a310930687c4298773a3e9c1612"><td class="memItemLeft" align="right" valign="top">static const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-admin_8c.html#aea2f9a310930687c4298773a3e9c1612">nvme_cse_acs</a> [256]</td></tr>
<tr class="separator:aea2f9a310930687c4298773a3e9c1612"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d75f111de790b87949e3c7bf2d4ea04"><td class="memItemLeft" align="right" valign="top">static const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-admin_8c.html#a3d75f111de790b87949e3c7bf2d4ea04">nvme_cse_iocs_nvm</a> [256]</td></tr>
<tr class="separator:a3d75f111de790b87949e3c7bf2d4ea04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e2e18c22d91a9627bba1982011c2d56"><td class="memItemLeft" align="right" valign="top">static const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nvme-admin_8c.html#a1e2e18c22d91a9627bba1982011c2d56">nvme_cse_iocs_zoned</a> [256]</td></tr>
<tr class="separator:a1e2e18c22d91a9627bba1982011c2d56"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">宏定义说明</h2>
<a id="a2b65aed5d655f3d24732cd3c6aa51ab9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b65aed5d655f3d24732cd3c6aa51ab9">&#9670;&nbsp;</a></span>NVME_IDENTIFY_DATA_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NVME_IDENTIFY_DATA_SIZE&#160;&#160;&#160;4096</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">函数说明</h2>
<a id="abd65f91764a2624cdc4e608f3dc7932e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd65f91764a2624cdc4e608f3dc7932e">&#9670;&nbsp;</a></span>nvme_abort_req()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t nvme_abort_req </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFemuCtrl.html">FemuCtrl</a> *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeCmd.html">NvmeCmd</a> *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;{</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    uint32_t index = 0;</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    uint16_t sqid = cmd-&gt;<a class="code" href="structNvmeCmd.html#ab217950fc2408f7a848af10f36b0cd8f">cdw10</a> &amp; 0xffff;</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    uint16_t cid = (cmd-&gt;<a class="code" href="structNvmeCmd.html#ab217950fc2408f7a848af10f36b0cd8f">cdw10</a> &gt;&gt; 16) &amp; 0xffff;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <a class="code" href="structNvmeSQueue.html">NvmeSQueue</a> *sq;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <a class="code" href="structNvmeRequest.html">NvmeRequest</a> *req;</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160; </div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    *result = 1;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="nvme-util_8c.html#ab586dd53da50fb72e2a7359e5f5ce7b6">nvme_check_sqid</a>(n, sqid)) {</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a3268f6be90861f0c2270d86a44d5b09c">NVME_SUCCESS</a>;</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    }</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160; </div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    sq = n-&gt;<a class="code" href="structFemuCtrl.html#a9f37c1e2d56205e4c7d0015aa9af44e2">sq</a>[sqid];</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160; </div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <span class="keywordflow">while</span> ((sq-&gt;<a class="code" href="structNvmeSQueue.html#aec83bc34b2dd3541fda15c0279348264">head</a> + index) % sq-&gt;<a class="code" href="structNvmeSQueue.html#a33aec6e6249873acbc63b47645bf182b">size</a> != sq-&gt;<a class="code" href="structNvmeSQueue.html#a7b8e3b48aee1060ab0095c0dfe449232">tail</a>) {</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        <a class="code" href="structNvmeCmd.html">NvmeCmd</a> abort_cmd;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        hwaddr addr;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160; </div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        <span class="keywordflow">if</span> (sq-&gt;<a class="code" href="structNvmeSQueue.html#abb10aae49e80be9c67dd28f484514adb">phys_contig</a>) {</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;            addr = sq-&gt;<a class="code" href="structNvmeSQueue.html#a7e289d563e907e4a724af16364350602">dma_addr</a> + ((sq-&gt;<a class="code" href="structNvmeSQueue.html#aec83bc34b2dd3541fda15c0279348264">head</a> + index) % sq-&gt;<a class="code" href="structNvmeSQueue.html#a33aec6e6249873acbc63b47645bf182b">size</a>) *</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;                n-&gt;<a class="code" href="structFemuCtrl.html#a3cbec385b70e8c6a03b463e00ac08d92">sqe_size</a>;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;            addr = <a class="code" href="nvme_8h.html#ab5c77706290dc892f52e14dfe39504b6">nvme_discontig</a>(sq-&gt;<a class="code" href="structNvmeSQueue.html#a168092b36fc33b9d4367f36613e9eb9d">prp_list</a>, (sq-&gt;<a class="code" href="structNvmeSQueue.html#aec83bc34b2dd3541fda15c0279348264">head</a> + index) % sq-&gt;<a class="code" href="structNvmeSQueue.html#a33aec6e6249873acbc63b47645bf182b">size</a>,</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;                n-&gt;<a class="code" href="structFemuCtrl.html#a6d0418e38e888b2b8980a34198bfd463">page_size</a>, n-&gt;<a class="code" href="structFemuCtrl.html#a3cbec385b70e8c6a03b463e00ac08d92">sqe_size</a>);</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        }</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;        <a class="code" href="dma_8c.html#a0ac25a907651fbfbf9710b15dc45e484">nvme_addr_read</a>(n, addr, (<span class="keywordtype">void</span> *)&amp;abort_cmd, <span class="keyword">sizeof</span>(abort_cmd));</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        <span class="keywordflow">if</span> (abort_cmd.cid == cid) {</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;            *result = 0;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;            req = QTAILQ_FIRST(&amp;sq-&gt;req_list);</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;            QTAILQ_REMOVE(&amp;sq-&gt;req_list, req, entry);</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;            QTAILQ_INSERT_TAIL(&amp;sq-&gt;out_req_list, req, entry);</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160; </div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;            memset(&amp;req-&gt;<a class="code" href="structNvmeRequest.html#a8cec02fb87e647c828d06f533aec8758">cqe</a>, 0, <span class="keyword">sizeof</span>(req-&gt;<a class="code" href="structNvmeRequest.html#a8cec02fb87e647c828d06f533aec8758">cqe</a>));</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;            req-&gt;<a class="code" href="structNvmeRequest.html#a8cec02fb87e647c828d06f533aec8758">cqe</a>.<a class="code" href="structNvmeCqe.html#a8e87b5e0e44fd97e1e92f41c851eb764">cid</a> = cid;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;            req-&gt;<a class="code" href="structNvmeRequest.html#a6c614d6e18850245fb2b05f087c4cc71">status</a> = <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a8d0c6dca64c12b754ef73f24e4714134">NVME_CMD_ABORT_REQ</a>;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160; </div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;            abort_cmd.opcode = <a class="code" href="nvme_8h.html#a8cb2e5a888e30a776cff93676ac3e5c0">NVME_OP_ABORTED</a>;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;            <a class="code" href="dma_8c.html#a08f51254313a657c3826f77e6bd9a1b8">nvme_addr_write</a>(n, addr, (<span class="keywordtype">void</span> *)&amp;abort_cmd,</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;                <span class="keyword">sizeof</span>(abort_cmd));</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160; </div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a3268f6be90861f0c2270d86a44d5b09c">NVME_SUCCESS</a>;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;        }</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160; </div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;        ++index;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    }</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160; </div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a3268f6be90861f0c2270d86a44d5b09c">NVME_SUCCESS</a>;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_abd65f91764a2624cdc4e608f3dc7932e_cgraph.png" border="0" usemap="#nvme-admin_8c_abd65f91764a2624cdc4e608f3dc7932e_cgraph" alt=""/></div>
<map name="nvme-admin_8c_abd65f91764a2624cdc4e608f3dc7932e_cgraph" id="nvme-admin_8c_abd65f91764a2624cdc4e608f3dc7932e_cgraph">
<area shape="rect" title=" " alt="" coords="5,81,133,108"/>
<area shape="rect" href="dma_8c.html#a0ac25a907651fbfbf9710b15dc45e484" title=" " alt="" coords="185,5,316,32"/>
<area shape="rect" href="dma_8c.html#a08f51254313a657c3826f77e6bd9a1b8" title=" " alt="" coords="183,56,318,83"/>
<area shape="rect" href="nvme-util_8c.html#ab586dd53da50fb72e2a7359e5f5ce7b6" title=" " alt="" coords="181,107,320,133"/>
<area shape="rect" href="nvme_8h.html#ab5c77706290dc892f52e14dfe39504b6" title=" " alt="" coords="188,157,313,184"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_abd65f91764a2624cdc4e608f3dc7932e_icgraph.png" border="0" usemap="#nvme-admin_8c_abd65f91764a2624cdc4e608f3dc7932e_icgraph" alt=""/></div>
<map name="nvme-admin_8c_abd65f91764a2624cdc4e608f3dc7932e_icgraph" id="nvme-admin_8c_abd65f91764a2624cdc4e608f3dc7932e_icgraph">
<area shape="rect" title=" " alt="" coords="857,5,985,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="ac726ef5f792706a8a28f07f19c5097b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac726ef5f792706a8a28f07f19c5097b1">&#9670;&nbsp;</a></span>nvme_admin_cmd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t nvme_admin_cmd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFemuCtrl.html">FemuCtrl</a> *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeCmd.html">NvmeCmd</a> *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeCqe.html">NvmeCqe</a> *&#160;</td>
          <td class="paramname"><em>cqe</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;{</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    <span class="keywordflow">switch</span> (cmd-&gt;<a class="code" href="structNvmeCmd.html#a2751bc2a772082d3af81124a1d120a0c">opcode</a>) {</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2ac0c10ad9bcfb49293c285d990cb283ca">NVME_ADM_CMD_FEMU_DEBUG</a>:</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;        n-&gt;<a class="code" href="structFemuCtrl.html#ad680a603a7938f5270a6e881409386bf">upg_rd_lat_ns</a> = le64_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#ab217950fc2408f7a848af10f36b0cd8f">cdw10</a>);</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;        n-&gt;<a class="code" href="structFemuCtrl.html#a5041dc83c0338e246fff9287f3bf53ed">lpg_rd_lat_ns</a> = le64_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#a542065d60952eff1b4de0fdf3ecb5b29">cdw11</a>);</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;        n-&gt;<a class="code" href="structFemuCtrl.html#afafee7b0c2ba0b0da504668a95a87191">upg_wr_lat_ns</a> = le64_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#ab8451175fd2fa5932757675268633fab">cdw12</a>);</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;        n-&gt;<a class="code" href="structFemuCtrl.html#a4b7f32e83ebc30211ec827db395523e5">lpg_wr_lat_ns</a> = le64_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#abe88eab6edc75248f89446542ae46eed">cdw13</a>);</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;        n-&gt;<a class="code" href="structFemuCtrl.html#a9c79bc6a808f9fe2f27ee8e0fa385313">blk_er_lat_ns</a> = le64_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#a8322f6c084bb932bc2d53f693544dcc0">cdw14</a>);</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;        n-&gt;<a class="code" href="structFemuCtrl.html#abeb08c1f98c5566cf217fe63bce0f98e">chnl_pg_xfer_lat_ns</a> = le64_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#ad190f17cf3c0c25282639e880d57c464">cdw15</a>);</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;        <a class="code" href="nvme_8h.html#a279462a0d67217a97c8946fa74531952">femu_log</a>(<span class="stringliteral">&quot;tRu=%&quot;</span> PRId64 <span class="stringliteral">&quot;, tRl=%&quot;</span> PRId64 <span class="stringliteral">&quot;, tWu=%&quot;</span> PRId64 <span class="stringliteral">&quot;, &quot;</span></div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;                <span class="stringliteral">&quot;tWl=%&quot;</span> PRId64 <span class="stringliteral">&quot;, tBERS=%&quot;</span> PRId64 <span class="stringliteral">&quot;, tCHNL=%&quot;</span> PRId64 <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;                n-&gt;<a class="code" href="structFemuCtrl.html#ad680a603a7938f5270a6e881409386bf">upg_rd_lat_ns</a>, n-&gt;<a class="code" href="structFemuCtrl.html#a5041dc83c0338e246fff9287f3bf53ed">lpg_rd_lat_ns</a>, n-&gt;<a class="code" href="structFemuCtrl.html#afafee7b0c2ba0b0da504668a95a87191">upg_wr_lat_ns</a>,</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;                n-&gt;<a class="code" href="structFemuCtrl.html#a4b7f32e83ebc30211ec827db395523e5">lpg_wr_lat_ns</a>, n-&gt;<a class="code" href="structFemuCtrl.html#a9c79bc6a808f9fe2f27ee8e0fa385313">blk_er_lat_ns</a>, n-&gt;<a class="code" href="structFemuCtrl.html#abeb08c1f98c5566cf217fe63bce0f98e">chnl_pg_xfer_lat_ns</a>);</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a3268f6be90861f0c2270d86a44d5b09c">NVME_SUCCESS</a>;</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2a417ffb2d4b3b805a596e05734e4a277b">NVME_ADM_CMD_DELETE_SQ</a>:</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;        <a class="code" href="nvme_8h.html#aef2bfc05ccbdba79aef90226efe46ad4">femu_debug</a>(<span class="stringliteral">&quot;admin cmd,del_sq\n&quot;</span>);</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme-admin_8c.html#a6f5c22b725b5eca5912f17066e95cf67">nvme_del_sq</a>(n, cmd);</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2a9fe26376ca7f7f260e56724d5ca8d7ba">NVME_ADM_CMD_CREATE_SQ</a>:</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;        <a class="code" href="nvme_8h.html#aef2bfc05ccbdba79aef90226efe46ad4">femu_debug</a>(<span class="stringliteral">&quot;admin cmd,create_sq\n&quot;</span>);</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme-admin_8c.html#a2c43f1bdb51a2e35c2ecdb9ed9db64ec">nvme_create_sq</a>(n, cmd);</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2a8df5d7d60a4198a9036e6c2b7005241e">NVME_ADM_CMD_DELETE_CQ</a>:</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        <a class="code" href="nvme_8h.html#aef2bfc05ccbdba79aef90226efe46ad4">femu_debug</a>(<span class="stringliteral">&quot;admin cmd,del_cq\n&quot;</span>);</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme-admin_8c.html#ac1090eb738e0aa389ef5a647e647a09f">nvme_del_cq</a>(n, cmd);</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2a2628e50d0a8811c53926a07090883b7e">NVME_ADM_CMD_CREATE_CQ</a>:</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;        <a class="code" href="nvme_8h.html#aef2bfc05ccbdba79aef90226efe46ad4">femu_debug</a>(<span class="stringliteral">&quot;admin cmd,create_cq\n&quot;</span>);</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme-admin_8c.html#af3ddf1e4e280aa3f367a5b2b44879b41">nvme_create_cq</a>(n, cmd);</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2a30d757882f74173a6571542b16a90f62">NVME_ADM_CMD_IDENTIFY</a>:</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;        <a class="code" href="nvme_8h.html#aef2bfc05ccbdba79aef90226efe46ad4">femu_debug</a>(<span class="stringliteral">&quot;admin cmd,identify\n&quot;</span>);</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme-admin_8c.html#ae23b14397c30828a57903ec27a4c150c">nvme_identify</a>(n, cmd);</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2a6e5a3b773a6dd50a3c81c87c23815346">NVME_ADM_CMD_SET_FEATURES</a>:</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;        <a class="code" href="nvme_8h.html#aef2bfc05ccbdba79aef90226efe46ad4">femu_debug</a>(<span class="stringliteral">&quot;admin cmd,set_feature\n&quot;</span>);</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme-admin_8c.html#ad712f926297fd28d117c32d18e3566dc">nvme_set_feature</a>(n, cmd, cqe);</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2a652e2c2c1bdde8e600c920e4ec442570">NVME_ADM_CMD_GET_FEATURES</a>:</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;        <a class="code" href="nvme_8h.html#aef2bfc05ccbdba79aef90226efe46ad4">femu_debug</a>(<span class="stringliteral">&quot;admin cmd,get_feature\n&quot;</span>);</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme-admin_8c.html#abf593ed87b332bec6cb6fca0e2bed1be">nvme_get_feature</a>(n, cmd, cqe);</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2a647d011a38718d421b6441e08e5519ab">NVME_ADM_CMD_GET_LOG_PAGE</a>:</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;        <a class="code" href="nvme_8h.html#aef2bfc05ccbdba79aef90226efe46ad4">femu_debug</a>(<span class="stringliteral">&quot;admin cmd,get_log_page\n&quot;</span>);</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme-admin_8c.html#ace67c34426486b78b1b20cba61ab28b8">nvme_get_log</a>(n, cmd);</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2a7a0e1726646532b948fb1d8b377bad37">NVME_ADM_CMD_ABORT</a>:</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;        <a class="code" href="nvme_8h.html#aef2bfc05ccbdba79aef90226efe46ad4">femu_debug</a>(<span class="stringliteral">&quot;admin cmd,abort\n&quot;</span>);</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme-admin_8c.html#abd65f91764a2624cdc4e608f3dc7932e">nvme_abort_req</a>(n, cmd, &amp;cqe-&gt;<a class="code" href="structNvmeCqe.html#a04d90512c54de01e2e60649ecd1ea2e9">n</a>.result);</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2af085b3da8358466c2fb59f5c903375ca">NVME_ADM_CMD_FORMAT_NVM</a>:</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;        <a class="code" href="nvme_8h.html#aef2bfc05ccbdba79aef90226efe46ad4">femu_debug</a>(<span class="stringliteral">&quot;admin cmd,format_nvm\n&quot;</span>);</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="nvme_8h.html#a8b54138b79410c03932cbda6432f11bcab48f109e06ae031c938dfecc3c5deca4">NVME_OACS_FORMAT</a> &amp; n-&gt;<a class="code" href="structFemuCtrl.html#aad9e10e513218bf41a5fe498fea33e1f">oacs</a>) {</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="nvme-admin_8c.html#af11a6f9497c3496eb41dda00362bac96">nvme_format</a>(n, cmd);</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;        }</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a778b8f53d6725ef86c455e2e55d46ce7">NVME_INVALID_OPCODE</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2ac533bf9d2463d12e93da507e44f17f0a">NVME_ADM_CMD_SET_DB_MEMORY</a>:</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;        <a class="code" href="nvme_8h.html#aef2bfc05ccbdba79aef90226efe46ad4">femu_debug</a>(<span class="stringliteral">&quot;admin cmd,set_db_memory\n&quot;</span>);</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme-admin_8c.html#a8b2764426b75545dfc03229b811607eb">nvme_set_db_memory</a>(n, cmd);</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2a72bc844e40f9e3684044dc6c779c7398">NVME_ADM_CMD_ACTIVATE_FW</a>:</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2ad8ea45598b9b3ed9fbe923e9dcc18a23">NVME_ADM_CMD_DOWNLOAD_FW</a>:</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2ae1bbd2cb73b95167c0cd0d32012d3217">NVME_ADM_CMD_SECURITY_SEND</a>:</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2aa6e38ce1b6490e9b3c4ccb1f4d0b28e3">NVME_ADM_CMD_SECURITY_RECV</a>:</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a778b8f53d6725ef86c455e2e55d46ce7">NVME_INVALID_OPCODE</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;        <span class="keywordflow">if</span> (n-&gt;<a class="code" href="structFemuCtrl.html#a2b07accc41de60cd0c6de43adde355ad">ext_ops</a>.<a class="code" href="structFemuExtCtrlOps.html#a6342ab00b83513510c85451ea84782dc">admin_cmd</a>) {</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;            <span class="keywordflow">return</span> n-&gt;<a class="code" href="structFemuCtrl.html#a2b07accc41de60cd0c6de43adde355ad">ext_ops</a>.<a class="code" href="structFemuExtCtrlOps.html#a6342ab00b83513510c85451ea84782dc">admin_cmd</a>(n, cmd);</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;        }</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160; </div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a778b8f53d6725ef86c455e2e55d46ce7">NVME_INVALID_OPCODE</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    }</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_ac726ef5f792706a8a28f07f19c5097b1_cgraph.png" border="0" usemap="#nvme-admin_8c_ac726ef5f792706a8a28f07f19c5097b1_cgraph" alt=""/></div>
<map name="nvme-admin_8c_ac726ef5f792706a8a28f07f19c5097b1_cgraph" id="nvme-admin_8c_ac726ef5f792706a8a28f07f19c5097b1_cgraph">
<area shape="rect" title=" " alt="" coords="5,547,148,574"/>
<area shape="rect" href="nvme-admin_8c.html#abd65f91764a2624cdc4e608f3dc7932e" title=" " alt="" coords="217,91,345,118"/>
<area shape="rect" href="nvme-admin_8c.html#af3ddf1e4e280aa3f367a5b2b44879b41" title=" " alt="" coords="217,446,346,473"/>
<area shape="rect" href="nvme-admin_8c.html#a2c43f1bdb51a2e35c2ecdb9ed9db64ec" title=" " alt="" coords="217,319,346,346"/>
<area shape="rect" href="nvme-admin_8c.html#ac1090eb738e0aa389ef5a647e647a09f" title=" " alt="" coords="227,395,335,422"/>
<area shape="rect" href="nvme-admin_8c.html#a6f5c22b725b5eca5912f17066e95cf67" title=" " alt="" coords="227,243,335,270"/>
<area shape="rect" href="nvme-admin_8c.html#af11a6f9497c3496eb41dda00362bac96" title=" " alt="" coords="226,547,337,574"/>
<area shape="rect" href="nvme-admin_8c.html#abf593ed87b332bec6cb6fca0e2bed1be" title=" " alt="" coords="211,598,352,625"/>
<area shape="rect" href="nvme-admin_8c.html#ace67c34426486b78b1b20cba61ab28b8" title=" " alt="" coords="224,725,339,751"/>
<area shape="rect" href="nvme-admin_8c.html#ae23b14397c30828a57903ec27a4c150c" title=" " alt="" coords="224,1054,339,1081"/>
<area shape="rect" href="nvme-admin_8c.html#a8b2764426b75545dfc03229b811607eb" title=" " alt="" coords="196,1206,367,1233"/>
<area shape="rect" href="nvme-admin_8c.html#ad712f926297fd28d117c32d18e3566dc" title=" " alt="" coords="211,1307,351,1334"/>
<area shape="rect" href="dma_8c.html#a0ac25a907651fbfbf9710b15dc45e484" title=" " alt="" coords="453,41,583,67"/>
<area shape="rect" href="dma_8c.html#a08f51254313a657c3826f77e6bd9a1b8" title=" " alt="" coords="907,142,1041,169"/>
<area shape="rect" href="nvme-util_8c.html#ab586dd53da50fb72e2a7359e5f5ce7b6" title=" " alt="" coords="449,243,587,270"/>
<area shape="rect" href="nvme_8h.html#ab5c77706290dc892f52e14dfe39504b6" title=" " alt="" coords="911,41,1037,67"/>
<area shape="rect" href="nvme-util_8c.html#a7c210df43397e8f04e184a472f8efe0e" title=" " alt="" coords="449,345,587,371"/>
<area shape="rect" href="nvme-util_8c.html#accdd9730e70228b02a109051bcd3ac93" title=" " alt="" coords="461,395,575,422"/>
<area shape="rect" href="nvme-util_8c.html#a6410408d19dd2986cba9a815d25871a8" title=" " alt="" coords="463,446,573,473"/>
<area shape="rect" href="intr_8c.html#aa6089f663c0aef824344bde303c46238" title=" " alt="" coords="451,497,585,523"/>
<area shape="rect" href="nvme-util_8c.html#a9d8a42fcd63a79e262250aa8f54522da" title=" " alt="" coords="680,294,848,321"/>
<area shape="rect" href="intr_8c.html#a4546f8dc3153b6b272979b26d9ee3a5f" title=" " alt="" coords="669,573,859,599"/>
<area shape="rect" href="intr_8c.html#a404cdb00218c3c3b27c4048b43d7d8db" title=" " alt="" coords="673,370,855,397"/>
<area shape="rect" href="intr_8c.html#aef207536dce0a636e5d7c2467c73110a" title=" " alt="" coords="689,421,839,447"/>
<area shape="rect" href="intr_8c.html#a05882837e726b101a16a02a652f3bbf0" title=" " alt="" coords="695,471,833,498"/>
<area shape="rect" href="intr_8c.html#a1eff260b4323e3ba8942b9c13ac1c89d" title=" " alt="" coords="681,522,847,549"/>
<area shape="rect" href="nvme-util_8c.html#ac3b74834e78afe9ce3db5074e8398a0f" title=" " alt="" coords="463,294,573,321"/>
<area shape="rect" href="nvme-util_8c.html#ae00a56019ece0039e9a209dfa7bc398e" title=" " alt="" coords="461,193,575,219"/>
<area shape="rect" href="nvme-io_8c.html#a03a3accd495e0b00d01b80e009af5c9f" title=" " alt="" coords="443,142,593,169"/>
<area shape="rect" href="nvme-util_8c.html#a4e852fdb44ac17526a5b317eb3e4dac7" title=" " alt="" coords="709,193,819,219"/>
<area shape="rect" href="intr_8c.html#ac07d39a331aa32f4da4f27f31f1abc1c" title=" " alt="" coords="691,243,837,270"/>
<area shape="rect" href="nvme-io_8c.html#aa412c2f46a5bc43ac2234173c9743abe" title=" " alt="" coords="702,142,826,169"/>
<area shape="rect" href="nvme-admin_8c.html#a1068e4177c9ff25ec1cc15b18d26356b" title=" " alt="" coords="422,547,614,574"/>
<area shape="rect" href="nvme_8h.html#ab5233c5c538a64df4e9b391949d334e3" title=" " alt="" coords="729,623,799,650"/>
<area shape="rect" href="dma_8c.html#a83e01cb3ebf3721ca1fd024940ed6aa6" title=" " alt="" coords="707,953,821,979"/>
<area shape="rect" href="nvme_8h.html#ae412c484b40ac7903597a299757a7a83" title=" " alt="" coords="446,750,590,777"/>
<area shape="rect" href="nvme-admin_8c.html#aff81480a8e081d70ea6fc2b09a02af21" title=" " alt="" coords="445,649,591,675"/>
<area shape="rect" href="nvme-admin_8c.html#a4e3add88b587075ed1a120f75f73ea44" title=" " alt="" coords="440,699,596,726"/>
<area shape="rect" href="nvme-admin_8c.html#a295e47dd4c386bd7ad30d98ea4b45929" title=" " alt="" coords="448,801,588,827"/>
<area shape="rect" href="nvme-admin_8c.html#af7d9ef3eb88525869cf3506520028cf0" title=" " alt="" coords="450,851,586,878"/>
<area shape="rect" href="nvme-admin_8c.html#a834f603280a3a10a14da324da6bd9a62" title=" " alt="" coords="429,1003,607,1030"/>
<area shape="rect" href="nvme-admin_8c.html#a6a27adda12530ad69ecc17512ede9ddd" title=" " alt="" coords="447,1054,589,1081"/>
<area shape="rect" href="nvme-admin_8c.html#a7db584730c5821def2e8208f0aaf3f05" title=" " alt="" coords="434,1105,602,1131"/>
<area shape="rect" href="nvme-admin_8c.html#a9896b513919b735c2049dd8e59d588c0" title=" " alt="" coords="449,1155,587,1182"/>
<area shape="rect" href="nvme-admin_8c.html#a50ae77ec77f7a89c1a067df80c5cd767" title=" " alt="" coords="437,1206,599,1233"/>
<area shape="rect" href="nvme-admin_8c.html#aeb087910e36564f94d4dc54c6af7622c" title=" " alt="" coords="415,1257,621,1283"/>
<area shape="rect" href="nvme-admin_8c.html#a9eeb98def2fad8039662200e9854b7e7" title=" " alt="" coords="439,902,597,929"/>
<area shape="rect" href="nvme-admin_8c.html#a1067c1ab64f621b7e8d68043437c04eb" title=" " alt="" coords="427,953,609,979"/>
<area shape="rect" href="nvme-io_8c.html#a81f7e8af7ddcdfe9bef6af6c0333462d" title=" " alt="" coords="443,1307,593,1334"/>
<area shape="rect" href="dma_8c.html#adef0f21bc237d992b4ae8b29258645a8" title=" " alt="" coords="459,1358,577,1385"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_ac726ef5f792706a8a28f07f19c5097b1_icgraph.png" border="0" usemap="#nvme-admin_8c_ac726ef5f792706a8a28f07f19c5097b1_icgraph" alt=""/></div>
<map name="nvme-admin_8c_ac726ef5f792706a8a28f07f19c5097b1_icgraph" id="nvme-admin_8c_ac726ef5f792706a8a28f07f19c5097b1_icgraph">
<area shape="rect" title=" " alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="aff81480a8e081d70ea6fc2b09a02af21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff81480a8e081d70ea6fc2b09a02af21">&#9670;&nbsp;</a></span>nvme_cmd_effects()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t nvme_cmd_effects </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFemuCtrl.html">FemuCtrl</a> *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeCmd.html">NvmeCmd</a> *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>csi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>buf_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>off</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;{</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    uint64_t prp1 = le64_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#a3b34c627a05e2a86edf1a93567422c8c">dptr</a>.<a class="code" href="unionNvmeCmdDptr.html#aaad95622d868c580eadba6c852bf961d">prp1</a>);</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    uint64_t prp2 = le64_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#a3b34c627a05e2a86edf1a93567422c8c">dptr</a>.<a class="code" href="unionNvmeCmdDptr.html#a9fc9a97c707652c679097b32ffd84bc3">prp2</a>);</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <a class="code" href="structNvmeEffectsLog.html">NvmeEffectsLog</a> log = {};</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <span class="keyword">const</span> uint32_t *src_iocs = NULL;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    uint32_t trans_len;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160; </div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="keywordflow">if</span> (off &gt;= <span class="keyword">sizeof</span>(log)) {</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a8b85ba3cbcb57ab6be06fdced051d11c">NVME_INVALID_FIELD</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    }</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160; </div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="nvme_8h.html#a1bc484f7a7e6b692c544cff5f6192110">NVME_CC_CSS</a>(n-&gt;<a class="code" href="structFemuCtrl.html#ae419c3a209fe0ffb9f6e04bc6ff3cd7e">bar</a>.<a class="code" href="structNvmeBar.html#a1c99ea162fb33570d0928805284ad5bd">cc</a>)) {</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a26b13d1406710f5752075a032f0ff1b1a3d173cd87d993bac8f4e5cb87efb0879">NVME_CC_CSS_NVM</a>:</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        src_iocs = <a class="code" href="nvme-admin_8c.html#a3d75f111de790b87949e3c7bf2d4ea04">nvme_cse_iocs_nvm</a>;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a26b13d1406710f5752075a032f0ff1b1adb4496e6884dfee3b6acfb27031f2b8d">NVME_CC_CSS_ADMIN_ONLY</a>:</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a26b13d1406710f5752075a032f0ff1b1a8cbd7aab51e47a53337eb29d1c87f34d">NVME_CC_CSS_CSI</a>:</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        <span class="keywordflow">switch</span> (csi) {</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a2342f477442526e6bc2aa046f9bd4a94a28181a48fe56de9ccab6eb11dd3fc9cc">NVME_CSI_NVM</a>:</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;            src_iocs = <a class="code" href="nvme-admin_8c.html#a3d75f111de790b87949e3c7bf2d4ea04">nvme_cse_iocs_nvm</a>;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a2342f477442526e6bc2aa046f9bd4a94a64b23085931f2a85c7105d303bb4a495">NVME_CSI_ZONED</a>:</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;            src_iocs = <a class="code" href="nvme-admin_8c.html#a1e2e18c22d91a9627bba1982011c2d56">nvme_cse_iocs_zoned</a>;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;        }</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    }</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160; </div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    memcpy(log.<a class="code" href="structNvmeEffectsLog.html#a54fc3f097a3c483d7ab73ee139e2e8dd">acs</a>, <a class="code" href="nvme-admin_8c.html#aea2f9a310930687c4298773a3e9c1612">nvme_cse_acs</a>, <span class="keyword">sizeof</span>(<a class="code" href="nvme-admin_8c.html#aea2f9a310930687c4298773a3e9c1612">nvme_cse_acs</a>));</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160; </div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="keywordflow">if</span> (src_iocs) {</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        memcpy(log.<a class="code" href="structNvmeEffectsLog.html#a62450a98acbee78bb2f692b795584768">iocs</a>, src_iocs, <span class="keyword">sizeof</span>(log.<a class="code" href="structNvmeEffectsLog.html#a62450a98acbee78bb2f692b795584768">iocs</a>));</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    }</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160; </div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    trans_len = MIN(<span class="keyword">sizeof</span>(log) - off, buf_len);</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160; </div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dma_8c.html#a83e01cb3ebf3721ca1fd024940ed6aa6">dma_read_prp</a>(n, ((uint8_t *)&amp;log) + off, trans_len, prp1, prp2);</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_aff81480a8e081d70ea6fc2b09a02af21_cgraph.png" border="0" usemap="#nvme-admin_8c_aff81480a8e081d70ea6fc2b09a02af21_cgraph" alt=""/></div>
<map name="nvme-admin_8c_aff81480a8e081d70ea6fc2b09a02af21_cgraph" id="nvme-admin_8c_aff81480a8e081d70ea6fc2b09a02af21_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,151,32"/>
<area shape="rect" href="dma_8c.html#a83e01cb3ebf3721ca1fd024940ed6aa6" title=" " alt="" coords="199,5,313,32"/>
<area shape="rect" href="dma_8c.html#aff05c76845a6cc08d0131d2761153493" title=" " alt="" coords="361,5,484,32"/>
<area shape="rect" href="dma_8c.html#a0ac25a907651fbfbf9710b15dc45e484" title=" " alt="" coords="532,5,663,32"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_aff81480a8e081d70ea6fc2b09a02af21_icgraph.png" border="0" usemap="#nvme-admin_8c_aff81480a8e081d70ea6fc2b09a02af21_icgraph" alt=""/></div>
<map name="nvme-admin_8c_aff81480a8e081d70ea6fc2b09a02af21_icgraph" id="nvme-admin_8c_aff81480a8e081d70ea6fc2b09a02af21_icgraph">
<area shape="rect" title=" " alt="" coords="1020,5,1165,32"/>
<area shape="rect" href="nvme-admin_8c.html#ace67c34426486b78b1b20cba61ab28b8" title=" " alt="" coords="857,5,972,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="af3ddf1e4e280aa3f367a5b2b44879b41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3ddf1e4e280aa3f367a5b2b44879b41">&#9670;&nbsp;</a></span>nvme_create_cq()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t nvme_create_cq </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFemuCtrl.html">FemuCtrl</a> *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeCmd.html">NvmeCmd</a> *&#160;</td>
          <td class="paramname"><em>cmd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;{</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <a class="code" href="structNvmeCQueue.html">NvmeCQueue</a> *cq;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <a class="code" href="structNvmeCreateCq.html">NvmeCreateCq</a> *c = (<a class="code" href="structNvmeCreateCq.html">NvmeCreateCq</a> *)cmd;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    uint16_t cqid = le16_to_cpu(c-&gt;<a class="code" href="structNvmeCreateCq.html#a1f6e893b66e832d380fefcb2cf63c2e6">cqid</a>);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    uint16_t vector = le16_to_cpu(c-&gt;<a class="code" href="structNvmeCreateCq.html#a65f23d91a215ed559265c6200918ca45">irq_vector</a>);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    uint16_t qsize = le16_to_cpu(c-&gt;<a class="code" href="structNvmeCreateCq.html#afc898d5f6a24efbe78fdbf2b125253ca">qsize</a>);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    uint16_t qflags = le16_to_cpu(c-&gt;<a class="code" href="structNvmeCreateCq.html#a7998b3041c20963ce19975d6917b5fa7">cq_flags</a>);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    uint64_t prp1 = le64_to_cpu(c-&gt;<a class="code" href="structNvmeCreateCq.html#aa1ea8add5dbe76a41183a3a5c6e16c93">prp1</a>);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordflow">if</span> (!cqid || (cqid &amp;&amp; !<a class="code" href="nvme-util_8c.html#a7c210df43397e8f04e184a472f8efe0e">nvme_check_cqid</a>(n, cqid))) {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4aa5ab648b9cadbb35665f4ffcd735899f">NVME_INVALID_CQID</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    }</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">if</span> (!qsize || qsize &gt; <a class="code" href="nvme_8h.html#ad45065ad42ab0a0c81c77ba61cf90c35">NVME_CAP_MQES</a>(n-&gt;<a class="code" href="structFemuCtrl.html#ae419c3a209fe0ffb9f6e04bc6ff3cd7e">bar</a>.<a class="code" href="structNvmeBar.html#ad5910458ce9220c367e14c8482117018">cap</a>)) {</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4ae4c94bdfbea8f654451c284b72645e66">NVME_MAX_QSIZE_EXCEEDED</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    }</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordflow">if</span> (!prp1) {</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a8b85ba3cbcb57ab6be06fdced051d11c">NVME_INVALID_FIELD</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    }</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keywordflow">if</span> (vector &gt; n-&gt;<a class="code" href="structFemuCtrl.html#ab09f359cd5d2e1882bd8a04046becf28">num_io_queues</a>) {</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4aa299434653d9a30023fab366774db6ae">NVME_INVALID_IRQ_VECTOR</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    }</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">if</span> (!(<a class="code" href="nvme_8h.html#a46ac758623e37517fd56ea3255a0c521">NVME_CQ_FLAGS_PC</a>(qflags)) &amp;&amp; <a class="code" href="nvme_8h.html#a477fddeddfa08e8eca159ff922f64afd">NVME_CAP_CQR</a>(n-&gt;<a class="code" href="structFemuCtrl.html#ae419c3a209fe0ffb9f6e04bc6ff3cd7e">bar</a>.<a class="code" href="structNvmeBar.html#ad5910458ce9220c367e14c8482117018">cap</a>)) {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a8b85ba3cbcb57ab6be06fdced051d11c">NVME_INVALID_FIELD</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordflow">if</span> (n-&gt;<a class="code" href="structFemuCtrl.html#a380a277dfc1bb8f2a192f6244a3f4fdb">cq</a>[cqid] != NULL) {</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <a class="code" href="nvme-util_8c.html#accdd9730e70228b02a109051bcd3ac93">nvme_free_cq</a>(n-&gt;<a class="code" href="structFemuCtrl.html#a380a277dfc1bb8f2a192f6244a3f4fdb">cq</a>[cqid], n);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    }</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    cq = g_malloc0(<span class="keyword">sizeof</span>(*cq));</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    assert(cq != NULL);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="nvme-util_8c.html#a6410408d19dd2986cba9a815d25871a8">nvme_init_cq</a>(cq, n, prp1, cqid, vector, qsize + 1,</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                     <a class="code" href="nvme_8h.html#a995a87eb911c6c3ba93166c8fe71147f">NVME_CQ_FLAGS_IEN</a>(qflags), <a class="code" href="nvme_8h.html#a46ac758623e37517fd56ea3255a0c521">NVME_CQ_FLAGS_PC</a>(qflags))) {</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        g_free(cq);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a8b85ba3cbcb57ab6be06fdced051d11c">NVME_INVALID_FIELD</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    }</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160; </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <a class="code" href="intr_8c.html#aa6089f663c0aef824344bde303c46238">nvme_setup_virq</a>(n, cq);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    assert(cq-&gt;<a class="code" href="structNvmeCQueue.html#a8b941ba9a13366bf3348b3b7e73009a1">is_active</a> == <span class="keyword">false</span>);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    cq-&gt;<a class="code" href="structNvmeCQueue.html#a8b941ba9a13366bf3348b3b7e73009a1">is_active</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160; </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a3268f6be90861f0c2270d86a44d5b09c">NVME_SUCCESS</a>;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_af3ddf1e4e280aa3f367a5b2b44879b41_cgraph.png" border="0" usemap="#nvme-admin_8c_af3ddf1e4e280aa3f367a5b2b44879b41_cgraph" alt=""/></div>
<map name="nvme-admin_8c_af3ddf1e4e280aa3f367a5b2b44879b41_cgraph" id="nvme-admin_8c_af3ddf1e4e280aa3f367a5b2b44879b41_cgraph">
<area shape="rect" title=" " alt="" coords="5,81,135,108"/>
<area shape="rect" href="nvme-util_8c.html#a7c210df43397e8f04e184a472f8efe0e" title=" " alt="" coords="183,5,321,32"/>
<area shape="rect" href="nvme-util_8c.html#accdd9730e70228b02a109051bcd3ac93" title=" " alt="" coords="195,56,309,83"/>
<area shape="rect" href="nvme-util_8c.html#a6410408d19dd2986cba9a815d25871a8" title=" " alt="" coords="197,107,307,133"/>
<area shape="rect" href="intr_8c.html#aa6089f663c0aef824344bde303c46238" title=" " alt="" coords="185,195,319,221"/>
<area shape="rect" href="nvme-util_8c.html#a9d8a42fcd63a79e262250aa8f54522da" title=" " alt="" coords="380,68,548,95"/>
<area shape="rect" href="dma_8c.html#a08f51254313a657c3826f77e6bd9a1b8" title=" " alt="" coords="607,68,741,95"/>
<area shape="rect" href="intr_8c.html#a4546f8dc3153b6b272979b26d9ee3a5f" title=" " alt="" coords="369,119,559,145"/>
<area shape="rect" href="intr_8c.html#a404cdb00218c3c3b27c4048b43d7d8db" title=" " alt="" coords="373,169,555,196"/>
<area shape="rect" href="intr_8c.html#aef207536dce0a636e5d7c2467c73110a" title=" " alt="" coords="389,220,539,247"/>
<area shape="rect" href="intr_8c.html#a05882837e726b101a16a02a652f3bbf0" title=" " alt="" coords="395,271,533,297"/>
<area shape="rect" href="intr_8c.html#a1eff260b4323e3ba8942b9c13ac1c89d" title=" " alt="" coords="381,321,547,348"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_af3ddf1e4e280aa3f367a5b2b44879b41_icgraph.png" border="0" usemap="#nvme-admin_8c_af3ddf1e4e280aa3f367a5b2b44879b41_icgraph" alt=""/></div>
<map name="nvme-admin_8c_af3ddf1e4e280aa3f367a5b2b44879b41_icgraph" id="nvme-admin_8c_af3ddf1e4e280aa3f367a5b2b44879b41_icgraph">
<area shape="rect" title=" " alt="" coords="857,5,987,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="a2c43f1bdb51a2e35c2ecdb9ed9db64ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c43f1bdb51a2e35c2ecdb9ed9db64ec">&#9670;&nbsp;</a></span>nvme_create_sq()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t nvme_create_sq </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFemuCtrl.html">FemuCtrl</a> *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeCmd.html">NvmeCmd</a> *&#160;</td>
          <td class="paramname"><em>cmd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;{</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <a class="code" href="structNvmeSQueue.html">NvmeSQueue</a> *sq;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <a class="code" href="structNvmeCreateSq.html">NvmeCreateSq</a> *c = (<a class="code" href="structNvmeCreateSq.html">NvmeCreateSq</a> *)cmd;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    uint16_t cqid = le16_to_cpu(c-&gt;<a class="code" href="structNvmeCreateSq.html#a314795f26ad1d2f0b361ac941b893686">cqid</a>);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    uint16_t sqid = le16_to_cpu(c-&gt;<a class="code" href="structNvmeCreateSq.html#a244182d0e0d8d30d9914bb11e314720b">sqid</a>);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    uint16_t qsize = le16_to_cpu(c-&gt;<a class="code" href="structNvmeCreateSq.html#abc7239431de02ee635493d91ebbe8791">qsize</a>);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    uint16_t qflags = le16_to_cpu(c-&gt;<a class="code" href="structNvmeCreateSq.html#adfbafe8fa776a8bb396fd86175cd6d41">sq_flags</a>);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    uint64_t prp1 = le64_to_cpu(c-&gt;<a class="code" href="structNvmeCreateSq.html#a41f39ac233d544027a53aa0443f3bf6a">prp1</a>);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordflow">if</span> (!cqid || <a class="code" href="nvme-util_8c.html#a7c210df43397e8f04e184a472f8efe0e">nvme_check_cqid</a>(n, cqid)) {</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4aa5ab648b9cadbb35665f4ffcd735899f">NVME_INVALID_CQID</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    }</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordflow">if</span> (!sqid || (sqid &amp;&amp; !<a class="code" href="nvme-util_8c.html#ab586dd53da50fb72e2a7359e5f5ce7b6">nvme_check_sqid</a>(n, sqid))) {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4ace56a868eb783a9e21d68c92d573edc3">NVME_INVALID_QID</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    }</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordflow">if</span> (!qsize || qsize &gt; <a class="code" href="nvme_8h.html#ad45065ad42ab0a0c81c77ba61cf90c35">NVME_CAP_MQES</a>(n-&gt;<a class="code" href="structFemuCtrl.html#ae419c3a209fe0ffb9f6e04bc6ff3cd7e">bar</a>.<a class="code" href="structNvmeBar.html#ad5910458ce9220c367e14c8482117018">cap</a>)) {</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4ae4c94bdfbea8f654451c284b72645e66">NVME_MAX_QSIZE_EXCEEDED</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    }</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keywordflow">if</span> (!prp1 || prp1 &amp; (n-&gt;<a class="code" href="structFemuCtrl.html#a6d0418e38e888b2b8980a34198bfd463">page_size</a> - 1)) {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a8b85ba3cbcb57ab6be06fdced051d11c">NVME_INVALID_FIELD</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    }</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordflow">if</span> (!(<a class="code" href="nvme_8h.html#af20816a3cd379c419f8306038c444025">NVME_SQ_FLAGS_PC</a>(qflags)) &amp;&amp; <a class="code" href="nvme_8h.html#a477fddeddfa08e8eca159ff922f64afd">NVME_CAP_CQR</a>(n-&gt;<a class="code" href="structFemuCtrl.html#ae419c3a209fe0ffb9f6e04bc6ff3cd7e">bar</a>.<a class="code" href="structNvmeBar.html#ad5910458ce9220c367e14c8482117018">cap</a>)) {</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a8b85ba3cbcb57ab6be06fdced051d11c">NVME_INVALID_FIELD</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    }</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    sq = g_malloc0(<span class="keyword">sizeof</span>(*sq));</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="nvme-util_8c.html#ac3b74834e78afe9ce3db5074e8398a0f">nvme_init_sq</a>(sq, n, prp1, sqid, cqid, qsize + 1,</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                <a class="code" href="nvme_8h.html#a03137cbac8b6ac5f506253e388449a39">NVME_SQ_FLAGS_QPRIO</a>(qflags),</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                <a class="code" href="nvme_8h.html#af20816a3cd379c419f8306038c444025">NVME_SQ_FLAGS_PC</a>(qflags))) {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        g_free(sq);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a8b85ba3cbcb57ab6be06fdced051d11c">NVME_INVALID_FIELD</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    }</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    assert(sq-&gt;<a class="code" href="structNvmeSQueue.html#a007bae54f6cd81bd45ddbe5fc64cf993">is_active</a> == <span class="keyword">false</span>);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    sq-&gt;<a class="code" href="structNvmeSQueue.html#a007bae54f6cd81bd45ddbe5fc64cf993">is_active</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a3268f6be90861f0c2270d86a44d5b09c">NVME_SUCCESS</a>;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_a2c43f1bdb51a2e35c2ecdb9ed9db64ec_cgraph.png" border="0" usemap="#nvme-admin_8c_a2c43f1bdb51a2e35c2ecdb9ed9db64ec_cgraph" alt=""/></div>
<map name="nvme-admin_8c_a2c43f1bdb51a2e35c2ecdb9ed9db64ec_cgraph" id="nvme-admin_8c_a2c43f1bdb51a2e35c2ecdb9ed9db64ec_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,135,83"/>
<area shape="rect" href="nvme-util_8c.html#a7c210df43397e8f04e184a472f8efe0e" title=" " alt="" coords="183,5,321,32"/>
<area shape="rect" href="nvme-util_8c.html#ab586dd53da50fb72e2a7359e5f5ce7b6" title=" " alt="" coords="183,56,321,83"/>
<area shape="rect" href="nvme-util_8c.html#ac3b74834e78afe9ce3db5074e8398a0f" title=" " alt="" coords="197,107,307,133"/>
<area shape="rect" href="nvme-util_8c.html#a9d8a42fcd63a79e262250aa8f54522da" title=" " alt="" coords="369,107,537,133"/>
<area shape="rect" href="dma_8c.html#a08f51254313a657c3826f77e6bd9a1b8" title=" " alt="" coords="585,107,720,133"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_a2c43f1bdb51a2e35c2ecdb9ed9db64ec_icgraph.png" border="0" usemap="#nvme-admin_8c_a2c43f1bdb51a2e35c2ecdb9ed9db64ec_icgraph" alt=""/></div>
<map name="nvme-admin_8c_a2c43f1bdb51a2e35c2ecdb9ed9db64ec_icgraph" id="nvme-admin_8c_a2c43f1bdb51a2e35c2ecdb9ed9db64ec_icgraph">
<area shape="rect" title=" " alt="" coords="857,5,987,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="a59ac97b9a3caead40c6651273483ed4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59ac97b9a3caead40c6651273483ed4c">&#9670;&nbsp;</a></span>nvme_csi_has_nvm_support()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool nvme_csi_has_nvm_support </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNvmeNamespace.html">NvmeNamespace</a> *&#160;</td>
          <td class="paramname"><em>ns</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;{</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <a class="code" href="structFemuCtrl.html">FemuCtrl</a> *n = ns-&gt;<a class="code" href="structNvmeNamespace.html#a8354f38841896795412b089fdfbe1528">ctrl</a>;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keywordflow">switch</span> (n-&gt;<a class="code" href="structFemuCtrl.html#a0b48d3c6cc09b094369348af59a3b096">csi</a>) {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a2342f477442526e6bc2aa046f9bd4a94a28181a48fe56de9ccab6eb11dd3fc9cc">NVME_CSI_NVM</a>:</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a2342f477442526e6bc2aa046f9bd4a94a64b23085931f2a85c7105d303bb4a495">NVME_CSI_ZONED</a>:</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    }</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160; </div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_a59ac97b9a3caead40c6651273483ed4c_icgraph.png" border="0" usemap="#nvme-admin_8c_a59ac97b9a3caead40c6651273483ed4c_icgraph" alt=""/></div>
<map name="nvme-admin_8c_a59ac97b9a3caead40c6651273483ed4c_icgraph" id="nvme-admin_8c_a59ac97b9a3caead40c6651273483ed4c_icgraph">
<area shape="rect" title=" " alt="" coords="1231,31,1437,57"/>
<area shape="rect" href="nvme-admin_8c.html#a9896b513919b735c2049dd8e59d588c0" title=" " alt="" coords="1033,5,1170,32"/>
<area shape="rect" href="nvme-admin_8c.html#a50ae77ec77f7a89c1a067df80c5cd767" title=" " alt="" coords="1020,56,1183,83"/>
<area shape="rect" href="nvme-admin_8c.html#ae23b14397c30828a57903ec27a4c150c" title=" " alt="" coords="857,31,972,57"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="667,31,809,57"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,31,619,57"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,31,384,57"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,31,149,57"/>
</map>
</div>

</div>
</div>
<a id="ac1090eb738e0aa389ef5a647e647a09f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1090eb738e0aa389ef5a647e647a09f">&#9670;&nbsp;</a></span>nvme_del_cq()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t nvme_del_cq </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFemuCtrl.html">FemuCtrl</a> *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeCmd.html">NvmeCmd</a> *&#160;</td>
          <td class="paramname"><em>cmd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;{</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <a class="code" href="structNvmeDeleteQ.html">NvmeDeleteQ</a> *c = (<a class="code" href="structNvmeDeleteQ.html">NvmeDeleteQ</a> *)cmd;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <a class="code" href="structNvmeCQueue.html">NvmeCQueue</a> *cq;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    uint16_t qid = le16_to_cpu(c-&gt;<a class="code" href="structNvmeDeleteQ.html#a84398ee834ed95e2f537e9b4deaf173e">qid</a>);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordflow">if</span> (!qid || <a class="code" href="nvme-util_8c.html#a7c210df43397e8f04e184a472f8efe0e">nvme_check_cqid</a>(n, qid)) {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4aa5ab648b9cadbb35665f4ffcd735899f">NVME_INVALID_CQID</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    }</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    cq = n-&gt;<a class="code" href="structFemuCtrl.html#a380a277dfc1bb8f2a192f6244a3f4fdb">cq</a>[qid];</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    assert(cq-&gt;<a class="code" href="structNvmeCQueue.html#a8b941ba9a13366bf3348b3b7e73009a1">is_active</a> == <span class="keyword">true</span>);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    cq-&gt;<a class="code" href="structNvmeCQueue.html#a8b941ba9a13366bf3348b3b7e73009a1">is_active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordflow">if</span> (!QTAILQ_EMPTY(&amp;cq-&gt;sq_list)) {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4ac44750a3ebe435c0ddbb37d6ce26fb78">NVME_INVALID_QUEUE_DEL</a>;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    }</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <a class="code" href="nvme-util_8c.html#accdd9730e70228b02a109051bcd3ac93">nvme_free_cq</a>(cq, n);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160; </div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a3268f6be90861f0c2270d86a44d5b09c">NVME_SUCCESS</a>;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_ac1090eb738e0aa389ef5a647e647a09f_cgraph.png" border="0" usemap="#nvme-admin_8c_ac1090eb738e0aa389ef5a647e647a09f_cgraph" alt=""/></div>
<map name="nvme-admin_8c_ac1090eb738e0aa389ef5a647e647a09f_cgraph" id="nvme-admin_8c_ac1090eb738e0aa389ef5a647e647a09f_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,113,57"/>
<area shape="rect" href="nvme-util_8c.html#a7c210df43397e8f04e184a472f8efe0e" title=" " alt="" coords="161,5,300,32"/>
<area shape="rect" href="nvme-util_8c.html#accdd9730e70228b02a109051bcd3ac93" title=" " alt="" coords="173,56,288,83"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_ac1090eb738e0aa389ef5a647e647a09f_icgraph.png" border="0" usemap="#nvme-admin_8c_ac1090eb738e0aa389ef5a647e647a09f_icgraph" alt=""/></div>
<map name="nvme-admin_8c_ac1090eb738e0aa389ef5a647e647a09f_icgraph" id="nvme-admin_8c_ac1090eb738e0aa389ef5a647e647a09f_icgraph">
<area shape="rect" title=" " alt="" coords="857,5,965,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="a6f5c22b725b5eca5912f17066e95cf67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f5c22b725b5eca5912f17066e95cf67">&#9670;&nbsp;</a></span>nvme_del_sq()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t nvme_del_sq </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFemuCtrl.html">FemuCtrl</a> *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeCmd.html">NvmeCmd</a> *&#160;</td>
          <td class="paramname"><em>cmd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;{</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <a class="code" href="structNvmeDeleteQ.html">NvmeDeleteQ</a> *c = (<a class="code" href="structNvmeDeleteQ.html">NvmeDeleteQ</a> *)cmd;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <a class="code" href="structNvmeRequest.html">NvmeRequest</a> *req, *next;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <a class="code" href="structNvmeSQueue.html">NvmeSQueue</a> *sq;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <a class="code" href="structNvmeCQueue.html">NvmeCQueue</a> *cq;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    uint16_t qid = le16_to_cpu(c-&gt;<a class="code" href="structNvmeDeleteQ.html#a84398ee834ed95e2f537e9b4deaf173e">qid</a>);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordflow">if</span> (!qid || <a class="code" href="nvme-util_8c.html#ab586dd53da50fb72e2a7359e5f5ce7b6">nvme_check_sqid</a>(n, qid)) {</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4ace56a868eb783a9e21d68c92d573edc3">NVME_INVALID_QID</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    }</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    sq = n-&gt;<a class="code" href="structFemuCtrl.html#a9f37c1e2d56205e4c7d0015aa9af44e2">sq</a>[qid];</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    assert(sq-&gt;<a class="code" href="structNvmeSQueue.html#a007bae54f6cd81bd45ddbe5fc64cf993">is_active</a> == <span class="keyword">true</span>);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    sq-&gt;<a class="code" href="structNvmeSQueue.html#a007bae54f6cd81bd45ddbe5fc64cf993">is_active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="nvme-util_8c.html#a7c210df43397e8f04e184a472f8efe0e">nvme_check_cqid</a>(n, sq-&gt;<a class="code" href="structNvmeSQueue.html#a201708806f82565f9dc80a1649f11246">cqid</a>)) {</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        cq = n-&gt;<a class="code" href="structFemuCtrl.html#a380a277dfc1bb8f2a192f6244a3f4fdb">cq</a>[sq-&gt;<a class="code" href="structNvmeSQueue.html#a201708806f82565f9dc80a1649f11246">cqid</a>];</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        QTAILQ_REMOVE(&amp;cq-&gt;sq_list, sq, entry);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <a class="code" href="nvme-io_8c.html#a03a3accd495e0b00d01b80e009af5c9f">nvme_post_cqes_io</a>(cq);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        QTAILQ_FOREACH_SAFE(req, &amp;cq-&gt;req_list, entry, next) {</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            <span class="keywordflow">if</span> (req-&gt;<a class="code" href="structNvmeRequest.html#a18ef977aa1abc169de646d142d6c77d9">sq</a> == sq) {</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                QTAILQ_REMOVE(&amp;cq-&gt;req_list, req, entry);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                QTAILQ_INSERT_TAIL(&amp;sq-&gt;req_list, req, entry);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            }</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        }</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    }</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160; </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <a class="code" href="nvme-util_8c.html#ae00a56019ece0039e9a209dfa7bc398e">nvme_free_sq</a>(sq, n);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a3268f6be90861f0c2270d86a44d5b09c">NVME_SUCCESS</a>;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_a6f5c22b725b5eca5912f17066e95cf67_cgraph.png" border="0" usemap="#nvme-admin_8c_a6f5c22b725b5eca5912f17066e95cf67_cgraph" alt=""/></div>
<map name="nvme-admin_8c_a6f5c22b725b5eca5912f17066e95cf67_cgraph" id="nvme-admin_8c_a6f5c22b725b5eca5912f17066e95cf67_cgraph">
<area shape="rect" title=" " alt="" coords="5,81,113,108"/>
<area shape="rect" href="nvme-util_8c.html#a7c210df43397e8f04e184a472f8efe0e" title=" " alt="" coords="167,5,306,32"/>
<area shape="rect" href="nvme-util_8c.html#ab586dd53da50fb72e2a7359e5f5ce7b6" title=" " alt="" coords="167,56,306,83"/>
<area shape="rect" href="nvme-util_8c.html#ae00a56019ece0039e9a209dfa7bc398e" title=" " alt="" coords="179,107,294,133"/>
<area shape="rect" href="nvme-io_8c.html#a03a3accd495e0b00d01b80e009af5c9f" title=" " alt="" coords="161,157,312,184"/>
<area shape="rect" href="nvme-util_8c.html#a4e852fdb44ac17526a5b317eb3e4dac7" title=" " alt="" coords="378,107,487,133"/>
<area shape="rect" href="intr_8c.html#ac07d39a331aa32f4da4f27f31f1abc1c" title=" " alt="" coords="360,157,505,184"/>
<area shape="rect" href="nvme-io_8c.html#aa412c2f46a5bc43ac2234173c9743abe" title=" " alt="" coords="371,233,495,260"/>
<area shape="rect" href="nvme-util_8c.html#a2c23400ec899cbc551757929a872089e" title=" " alt="" coords="555,107,727,133"/>
<area shape="rect" href="dma_8c.html#a0ac25a907651fbfbf9710b15dc45e484" title=" " alt="" coords="777,107,908,133"/>
<area shape="rect" href="intr_8c.html#a1bcc1a1b3495a3ea33365a4afaf44b0a" title=" " alt="" coords="553,157,729,184"/>
<area shape="rect" href="dma_8c.html#a08f51254313a657c3826f77e6bd9a1b8" title=" " alt="" coords="574,208,709,235"/>
<area shape="rect" href="nvme_8h.html#ab5c77706290dc892f52e14dfe39504b6" title=" " alt="" coords="579,259,704,285"/>
<area shape="rect" href="nvme-util_8c.html#a1983cbf62a2b154bc0c1e8f01f2bb1b6" title=" " alt="" coords="574,309,709,336"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_a6f5c22b725b5eca5912f17066e95cf67_icgraph.png" border="0" usemap="#nvme-admin_8c_a6f5c22b725b5eca5912f17066e95cf67_icgraph" alt=""/></div>
<map name="nvme-admin_8c_a6f5c22b725b5eca5912f17066e95cf67_icgraph" id="nvme-admin_8c_a6f5c22b725b5eca5912f17066e95cf67_icgraph">
<area shape="rect" title=" " alt="" coords="857,5,965,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="a4e3add88b587075ed1a120f75f73ea44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e3add88b587075ed1a120f75f73ea44">&#9670;&nbsp;</a></span>nvme_error_log_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t nvme_error_log_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFemuCtrl.html">FemuCtrl</a> *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeCmd.html">NvmeCmd</a> *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>buf_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;{</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    uint32_t trans_len;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    uint64_t prp1 = le64_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#a3b34c627a05e2a86edf1a93567422c8c">dptr</a>.<a class="code" href="unionNvmeCmdDptr.html#aaad95622d868c580eadba6c852bf961d">prp1</a>);</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    uint64_t prp2 = le64_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#a3b34c627a05e2a86edf1a93567422c8c">dptr</a>.<a class="code" href="unionNvmeCmdDptr.html#a9fc9a97c707652c679097b32ffd84bc3">prp2</a>);</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160; </div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    trans_len = MIN(<span class="keyword">sizeof</span>(*n-&gt;<a class="code" href="structFemuCtrl.html#a0456828e9802380dee025b663079afcf">elpes</a>) * n-&gt;<a class="code" href="structFemuCtrl.html#a31fb867a33c2ccad78e9c82456391e89">elpe</a>, buf_len);</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    n-&gt;<a class="code" href="structFemuCtrl.html#a45247e5e62c92173076f634f536ba62f">aer_mask</a> &amp;= ~(1 &lt;&lt; <a class="code" href="nvme_8h.html#a984776745dc393d9516716738a918922aaa431a69bc9d371020dcee4ade1b9090">NVME_AER_TYPE_ERROR</a>);</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160; </div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dma_8c.html#a83e01cb3ebf3721ca1fd024940ed6aa6">dma_read_prp</a>(n, (uint8_t *)n-&gt;<a class="code" href="structFemuCtrl.html#a0456828e9802380dee025b663079afcf">elpes</a>, trans_len, prp1, prp2);</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_a4e3add88b587075ed1a120f75f73ea44_cgraph.png" border="0" usemap="#nvme-admin_8c_a4e3add88b587075ed1a120f75f73ea44_cgraph" alt=""/></div>
<map name="nvme-admin_8c_a4e3add88b587075ed1a120f75f73ea44_cgraph" id="nvme-admin_8c_a4e3add88b587075ed1a120f75f73ea44_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,161,32"/>
<area shape="rect" href="dma_8c.html#a83e01cb3ebf3721ca1fd024940ed6aa6" title=" " alt="" coords="209,5,324,32"/>
<area shape="rect" href="dma_8c.html#aff05c76845a6cc08d0131d2761153493" title=" " alt="" coords="372,5,495,32"/>
<area shape="rect" href="dma_8c.html#a0ac25a907651fbfbf9710b15dc45e484" title=" " alt="" coords="543,5,673,32"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_a4e3add88b587075ed1a120f75f73ea44_icgraph.png" border="0" usemap="#nvme-admin_8c_a4e3add88b587075ed1a120f75f73ea44_icgraph" alt=""/></div>
<map name="nvme-admin_8c_a4e3add88b587075ed1a120f75f73ea44_icgraph" id="nvme-admin_8c_a4e3add88b587075ed1a120f75f73ea44_icgraph">
<area shape="rect" title=" " alt="" coords="1020,5,1176,32"/>
<area shape="rect" href="nvme-admin_8c.html#ace67c34426486b78b1b20cba61ab28b8" title=" " alt="" coords="857,5,972,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="af11a6f9497c3496eb41dda00362bac96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af11a6f9497c3496eb41dda00362bac96">&#9670;&nbsp;</a></span>nvme_format()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t nvme_format </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFemuCtrl.html">FemuCtrl</a> *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeCmd.html">NvmeCmd</a> *&#160;</td>
          <td class="paramname"><em>cmd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;{</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    <a class="code" href="structNvmeNamespace.html">NvmeNamespace</a> *ns;</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    uint32_t dw10 = le32_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#ab217950fc2408f7a848af10f36b0cd8f">cdw10</a>);</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    uint32_t nsid = le32_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#aa0daded9eb948cb9c13ae14a0852ed08">nsid</a>);</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160; </div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    uint8_t lba_idx = dw10 &amp; 0xf;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    uint8_t meta_loc = dw10 &amp; 0x10;</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    uint8_t pil = (dw10 &gt;&gt; 5) &amp; 0x8;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    uint8_t pi = (dw10 &gt;&gt; 5) &amp; 0x7;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    uint8_t sec_erase = (dw10 &gt;&gt; 8) &amp; 0x7;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160; </div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    <span class="keywordflow">if</span> (nsid == 0xffffffff) {</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;        uint16_t ret = <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a3268f6be90861f0c2270d86a44d5b09c">NVME_SUCCESS</a>;</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160; </div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; n-&gt;<a class="code" href="structFemuCtrl.html#a8bd3f2107e1a59779f7d6a669e29b5af">num_namespaces</a>; ++i) {</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;            ns = &amp;n-&gt;<a class="code" href="structFemuCtrl.html#a98ca6ff3bc65ccc7f98a589e018b7d71">namespaces</a>[i];</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;            ret = <a class="code" href="nvme-admin_8c.html#a1068e4177c9ff25ec1cc15b18d26356b">nvme_format_namespace</a>(ns, lba_idx, meta_loc, pil, pi,</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;                    sec_erase);</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;            <span class="keywordflow">if</span> (ret != <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a3268f6be90861f0c2270d86a44d5b09c">NVME_SUCCESS</a>) {</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;                <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;            }</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;        }</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    }</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160; </div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    <span class="keywordflow">if</span> (nsid == 0 || nsid &gt; n-&gt;<a class="code" href="structFemuCtrl.html#a8bd3f2107e1a59779f7d6a669e29b5af">num_namespaces</a>) {</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a4c080463e158441c5b7b4000da2ed3e4">NVME_INVALID_NSID</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    }</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160; </div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    ns = &amp;n-&gt;<a class="code" href="structFemuCtrl.html#a98ca6ff3bc65ccc7f98a589e018b7d71">namespaces</a>[nsid - 1];</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160; </div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="nvme-admin_8c.html#a1068e4177c9ff25ec1cc15b18d26356b">nvme_format_namespace</a>(ns, lba_idx, meta_loc, pil, pi, sec_erase);</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_af11a6f9497c3496eb41dda00362bac96_cgraph.png" border="0" usemap="#nvme-admin_8c_af11a6f9497c3496eb41dda00362bac96_cgraph" alt=""/></div>
<map name="nvme-admin_8c_af11a6f9497c3496eb41dda00362bac96_cgraph" id="nvme-admin_8c_af11a6f9497c3496eb41dda00362bac96_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,116,32"/>
<area shape="rect" href="nvme-admin_8c.html#a1068e4177c9ff25ec1cc15b18d26356b" title=" " alt="" coords="164,5,356,32"/>
<area shape="rect" href="nvme_8h.html#ab5233c5c538a64df4e9b391949d334e3" title=" " alt="" coords="404,5,475,32"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_af11a6f9497c3496eb41dda00362bac96_icgraph.png" border="0" usemap="#nvme-admin_8c_af11a6f9497c3496eb41dda00362bac96_icgraph" alt=""/></div>
<map name="nvme-admin_8c_af11a6f9497c3496eb41dda00362bac96_icgraph" id="nvme-admin_8c_af11a6f9497c3496eb41dda00362bac96_icgraph">
<area shape="rect" title=" " alt="" coords="857,5,968,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="a1068e4177c9ff25ec1cc15b18d26356b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1068e4177c9ff25ec1cc15b18d26356b">&#9670;&nbsp;</a></span>nvme_format_namespace()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t nvme_format_namespace </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNvmeNamespace.html">NvmeNamespace</a> *&#160;</td>
          <td class="paramname"><em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>lba_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>meta_loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pil</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>sec_erase</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;{</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <a class="code" href="structNvmeIdNs.html">NvmeIdNs</a> *id_ns = &amp;ns-&gt;<a class="code" href="structNvmeNamespace.html#ac5c0ddf3fd8b71e4387062b8a5e1075d">id_ns</a>;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    uint16_t ms = le16_to_cpu(ns-&gt;<a class="code" href="structNvmeNamespace.html#ac5c0ddf3fd8b71e4387062b8a5e1075d">id_ns</a>.<a class="code" href="structNvmeIdNs.html#a751e3c19983752a5acb34244eba649e8">lbaf</a>[lba_idx].<a class="code" href="structNvmeLBAF.html#af9a6ca47dd0427de8ce39721e4b79464">ms</a>);</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160; </div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <span class="keywordflow">if</span> (lba_idx &gt; ns-&gt;<a class="code" href="structNvmeNamespace.html#ac5c0ddf3fd8b71e4387062b8a5e1075d">id_ns</a>.<a class="code" href="structNvmeIdNs.html#aaa72a59d6652fb5fb0a2453d58fb9fa3">nlbaf</a>) {</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a934aa78b357b112ee0a55ab24d129e72">NVME_INVALID_FORMAT</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    }</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    <span class="keywordflow">if</span> (pi) {</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;        <span class="keywordflow">if</span> (pil &amp;&amp; !<a class="code" href="nvme_8h.html#aaa7181e8c0f5909e2343e4ecf8e60eea">NVME_ID_NS_DPC_LAST_EIGHT</a>(ns-&gt;<a class="code" href="structNvmeNamespace.html#ac5c0ddf3fd8b71e4387062b8a5e1075d">id_ns</a>.<a class="code" href="structNvmeIdNs.html#ae17d963f2c76fadcb0f7962929e50345">dpc</a>)) {</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a934aa78b357b112ee0a55ab24d129e72">NVME_INVALID_FORMAT</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        }</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        <span class="keywordflow">if</span> (!pil &amp;&amp; !<a class="code" href="nvme_8h.html#adf53862fece86b6d4aea0eacd394a89c">NVME_ID_NS_DPC_FIRST_EIGHT</a>(ns-&gt;<a class="code" href="structNvmeNamespace.html#ac5c0ddf3fd8b71e4387062b8a5e1075d">id_ns</a>.<a class="code" href="structNvmeIdNs.html#ae17d963f2c76fadcb0f7962929e50345">dpc</a>)) {</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a934aa78b357b112ee0a55ab24d129e72">NVME_INVALID_FORMAT</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        }</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        <span class="keywordflow">if</span> (!((ns-&gt;<a class="code" href="structNvmeNamespace.html#ac5c0ddf3fd8b71e4387062b8a5e1075d">id_ns</a>.<a class="code" href="structNvmeIdNs.html#ae17d963f2c76fadcb0f7962929e50345">dpc</a> &amp; 0x7) &amp; (1 &lt;&lt; (pi - 1)))) {</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a934aa78b357b112ee0a55ab24d129e72">NVME_INVALID_FORMAT</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        }</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    }</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <span class="keywordflow">if</span> (meta_loc &amp;&amp; ms &amp;&amp; !<a class="code" href="nvme_8h.html#ade3f32bb0eea4050edff1fa6aa9d7adc">NVME_ID_NS_MC_EXTENDED</a>(ns-&gt;<a class="code" href="structNvmeNamespace.html#ac5c0ddf3fd8b71e4387062b8a5e1075d">id_ns</a>.<a class="code" href="structNvmeIdNs.html#aaf996e4b4662143c7cb56cb8d42573e6">mc</a>)) {</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a934aa78b357b112ee0a55ab24d129e72">NVME_INVALID_FORMAT</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    }</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    <span class="keywordflow">if</span> (!meta_loc &amp;&amp; ms &amp;&amp; !<a class="code" href="nvme_8h.html#a19e708866bcd5dbe88a1a6ba68d62b41">NVME_ID_NS_MC_SEPARATE</a>(ns-&gt;<a class="code" href="structNvmeNamespace.html#ac5c0ddf3fd8b71e4387062b8a5e1075d">id_ns</a>.<a class="code" href="structNvmeIdNs.html#aaf996e4b4662143c7cb56cb8d42573e6">mc</a>)) {</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a934aa78b357b112ee0a55ab24d129e72">NVME_INVALID_FORMAT</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    }</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160; </div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    ns-&gt;<a class="code" href="structNvmeNamespace.html#ac5c0ddf3fd8b71e4387062b8a5e1075d">id_ns</a>.<a class="code" href="structNvmeIdNs.html#ac2061ba91f1d2bf0282bfe22221f65a2">flbas</a> = lba_idx | meta_loc;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    ns-&gt;<a class="code" href="structNvmeNamespace.html#ac5c0ddf3fd8b71e4387062b8a5e1075d">id_ns</a>.<a class="code" href="structNvmeIdNs.html#acc6d0826dfaffd161fe99cf87b4872ce">dps</a> = pil | pi;</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160; </div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    <a class="code" href="nvme_8h.html#aef2bfc05ccbdba79aef90226efe46ad4">femu_debug</a>(<span class="stringliteral">&quot;nvme_format_namespace\n&quot;</span>);</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    ns-&gt;<a class="code" href="structNvmeNamespace.html#ad0b627e5006c33450b452a995b5c4704">ns_blks</a> = <a class="code" href="nvme_8h.html#ab5233c5c538a64df4e9b391949d334e3">ns_blks</a>(ns, lba_idx);</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    id_ns-&gt;<a class="code" href="structNvmeIdNs.html#ad67c077eb81ad2014ec2d9217c2c537d">nuse</a> = id_ns-&gt;<a class="code" href="structNvmeIdNs.html#a0588b7533fd0a4d1d56fd12b8fb7502d">ncap</a> = id_ns-&gt;<a class="code" href="structNvmeIdNs.html#a4a814e395ae6ea7b3b7c5cba1c22ad85">nsze</a> = cpu_to_le64(ns-&gt;<a class="code" href="structNvmeNamespace.html#ad0b627e5006c33450b452a995b5c4704">ns_blks</a>);</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160; </div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a3268f6be90861f0c2270d86a44d5b09c">NVME_SUCCESS</a>;</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_a1068e4177c9ff25ec1cc15b18d26356b_cgraph.png" border="0" usemap="#nvme-admin_8c_a1068e4177c9ff25ec1cc15b18d26356b_cgraph" alt=""/></div>
<map name="nvme-admin_8c_a1068e4177c9ff25ec1cc15b18d26356b_cgraph" id="nvme-admin_8c_a1068e4177c9ff25ec1cc15b18d26356b_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,197,32"/>
<area shape="rect" href="nvme_8h.html#ab5233c5c538a64df4e9b391949d334e3" title=" " alt="" coords="245,5,316,32"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_a1068e4177c9ff25ec1cc15b18d26356b_icgraph.png" border="0" usemap="#nvme-admin_8c_a1068e4177c9ff25ec1cc15b18d26356b_icgraph" alt=""/></div>
<map name="nvme-admin_8c_a1068e4177c9ff25ec1cc15b18d26356b_icgraph" id="nvme-admin_8c_a1068e4177c9ff25ec1cc15b18d26356b_icgraph">
<area shape="rect" title=" " alt="" coords="1016,5,1208,32"/>
<area shape="rect" href="nvme-admin_8c.html#af11a6f9497c3496eb41dda00362bac96" title=" " alt="" coords="857,5,968,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="a295e47dd4c386bd7ad30d98ea4b45929"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a295e47dd4c386bd7ad30d98ea4b45929">&#9670;&nbsp;</a></span>nvme_fw_log_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t nvme_fw_log_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFemuCtrl.html">FemuCtrl</a> *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeCmd.html">NvmeCmd</a> *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>buf_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;{</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    uint32_t trans_len;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    uint64_t prp1 = le64_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#a3b34c627a05e2a86edf1a93567422c8c">dptr</a>.<a class="code" href="unionNvmeCmdDptr.html#aaad95622d868c580eadba6c852bf961d">prp1</a>);</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    uint64_t prp2 = le64_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#a3b34c627a05e2a86edf1a93567422c8c">dptr</a>.<a class="code" href="unionNvmeCmdDptr.html#a9fc9a97c707652c679097b32ffd84bc3">prp2</a>);</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    <a class="code" href="structNvmeFwSlotInfoLog.html">NvmeFwSlotInfoLog</a> fw_log;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160; </div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    trans_len = MIN(<span class="keyword">sizeof</span>(fw_log), buf_len);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160; </div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dma_8c.html#a83e01cb3ebf3721ca1fd024940ed6aa6">dma_read_prp</a>(n, (uint8_t *)&amp;fw_log, trans_len, prp1, prp2);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_a295e47dd4c386bd7ad30d98ea4b45929_cgraph.png" border="0" usemap="#nvme-admin_8c_a295e47dd4c386bd7ad30d98ea4b45929_cgraph" alt=""/></div>
<map name="nvme-admin_8c_a295e47dd4c386bd7ad30d98ea4b45929_cgraph" id="nvme-admin_8c_a295e47dd4c386bd7ad30d98ea4b45929_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,145,32"/>
<area shape="rect" href="dma_8c.html#a83e01cb3ebf3721ca1fd024940ed6aa6" title=" " alt="" coords="193,5,308,32"/>
<area shape="rect" href="dma_8c.html#aff05c76845a6cc08d0131d2761153493" title=" " alt="" coords="356,5,479,32"/>
<area shape="rect" href="dma_8c.html#a0ac25a907651fbfbf9710b15dc45e484" title=" " alt="" coords="527,5,657,32"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_a295e47dd4c386bd7ad30d98ea4b45929_icgraph.png" border="0" usemap="#nvme-admin_8c_a295e47dd4c386bd7ad30d98ea4b45929_icgraph" alt=""/></div>
<map name="nvme-admin_8c_a295e47dd4c386bd7ad30d98ea4b45929_icgraph" id="nvme-admin_8c_a295e47dd4c386bd7ad30d98ea4b45929_icgraph">
<area shape="rect" title=" " alt="" coords="1020,5,1160,32"/>
<area shape="rect" href="nvme-admin_8c.html#ace67c34426486b78b1b20cba61ab28b8" title=" " alt="" coords="857,5,972,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="abf593ed87b332bec6cb6fca0e2bed1be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf593ed87b332bec6cb6fca0e2bed1be">&#9670;&nbsp;</a></span>nvme_get_feature()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t nvme_get_feature </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFemuCtrl.html">FemuCtrl</a> *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeCmd.html">NvmeCmd</a> *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeCqe.html">NvmeCqe</a> *&#160;</td>
          <td class="paramname"><em>cqe</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;{</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <a class="code" href="structNvmeRangeType.html">NvmeRangeType</a> *rt;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    uint32_t dw10 = le32_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#ab217950fc2408f7a848af10f36b0cd8f">cdw10</a>);</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    uint32_t dw11 = le32_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#a542065d60952eff1b4de0fdf3ecb5b29">cdw11</a>);</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    uint32_t nsid = le32_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#aa0daded9eb948cb9c13ae14a0852ed08">nsid</a>);</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    uint64_t prp1 = le64_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#a3b34c627a05e2a86edf1a93567422c8c">dptr</a>.<a class="code" href="unionNvmeCmdDptr.html#aaad95622d868c580eadba6c852bf961d">prp1</a>);</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    uint64_t prp2 = le64_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#a3b34c627a05e2a86edf1a93567422c8c">dptr</a>.<a class="code" href="unionNvmeCmdDptr.html#a9fc9a97c707652c679097b32ffd84bc3">prp2</a>);</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160; </div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <span class="keywordflow">switch</span> (dw10) {</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a4a839eb668ded988a682e6cbf0b337f9a60cff59fa05a82754282f95a12a746cc">NVME_ARBITRATION</a>:</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        cqe-&gt;<a class="code" href="structNvmeCqe.html#a04d90512c54de01e2e60649ecd1ea2e9">n</a>.result = cpu_to_le32(n-&gt;<a class="code" href="structFemuCtrl.html#a4bd5012806e5cda6eb475cb787f4be3d">features</a>.<a class="code" href="structNvmeFeatureVal.html#a58f1323ae312b9d4781f1bb8d3a30e0f">arbitration</a>);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a4a839eb668ded988a682e6cbf0b337f9adc5f6071d7ed2b4b797845788987d467">NVME_POWER_MANAGEMENT</a>:</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        cqe-&gt;<a class="code" href="structNvmeCqe.html#a04d90512c54de01e2e60649ecd1ea2e9">n</a>.result = cpu_to_le32(n-&gt;<a class="code" href="structFemuCtrl.html#a4bd5012806e5cda6eb475cb787f4be3d">features</a>.<a class="code" href="structNvmeFeatureVal.html#ad0949f4a41576cf534231a8ceb73bec7">power_mgmt</a>);</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a4a839eb668ded988a682e6cbf0b337f9a6e35aeafb8118eaa3cb3da7c76f5478c">NVME_LBA_RANGE_TYPE</a>:</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <span class="keywordflow">if</span> (nsid == 0 || nsid &gt; n-&gt;<a class="code" href="structFemuCtrl.html#a8bd3f2107e1a59779f7d6a669e29b5af">num_namespaces</a>) {</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a4c080463e158441c5b7b4000da2ed3e4">NVME_INVALID_NSID</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        }</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        rt = n-&gt;<a class="code" href="structFemuCtrl.html#a98ca6ff3bc65ccc7f98a589e018b7d71">namespaces</a>[nsid - 1].<a class="code" href="structNvmeNamespace.html#a36234dd5b24e40e6c5ef51058d0cfbaf">lba_range</a>;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="dma_8c.html#a83e01cb3ebf3721ca1fd024940ed6aa6">dma_read_prp</a>(n, (uint8_t *)rt,</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                MIN(<span class="keyword">sizeof</span>(*rt), (dw11 &amp; 0x3f) * <span class="keyword">sizeof</span>(*rt)),</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                prp1, prp2);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a4a839eb668ded988a682e6cbf0b337f9a82205e373f1a9340794494312d1cfea1">NVME_NUMBER_OF_QUEUES</a>:</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        cqe-&gt;<a class="code" href="structNvmeCqe.html#a04d90512c54de01e2e60649ecd1ea2e9">n</a>.result = cpu_to_le32((n-&gt;<a class="code" href="structFemuCtrl.html#ab09f359cd5d2e1882bd8a04046becf28">num_io_queues</a> - 1) |</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                ((n-&gt;<a class="code" href="structFemuCtrl.html#ab09f359cd5d2e1882bd8a04046becf28">num_io_queues</a> - 1) &lt;&lt; 16));</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a4a839eb668ded988a682e6cbf0b337f9afba914c18c70ad9ed8ceda8605a8449d">NVME_TEMPERATURE_THRESHOLD</a>:</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        cqe-&gt;<a class="code" href="structNvmeCqe.html#a04d90512c54de01e2e60649ecd1ea2e9">n</a>.result = cpu_to_le32(n-&gt;<a class="code" href="structFemuCtrl.html#a4bd5012806e5cda6eb475cb787f4be3d">features</a>.<a class="code" href="structNvmeFeatureVal.html#a8462a22290ca55a344ab3047aa1d55bd">temp_thresh</a>);</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a4a839eb668ded988a682e6cbf0b337f9a639d1d4a213e04288a037dd8d4cb9e20">NVME_ERROR_RECOVERY</a>:</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        cqe-&gt;<a class="code" href="structNvmeCqe.html#a04d90512c54de01e2e60649ecd1ea2e9">n</a>.result = cpu_to_le32(n-&gt;<a class="code" href="structFemuCtrl.html#a4bd5012806e5cda6eb475cb787f4be3d">features</a>.<a class="code" href="structNvmeFeatureVal.html#a63adb2ba3685f4bf39e7375c37be8b14">err_rec</a>);</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a4a839eb668ded988a682e6cbf0b337f9a6557de53c613773d79c3fded23975221">NVME_VOLATILE_WRITE_CACHE</a>:</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        cqe-&gt;<a class="code" href="structNvmeCqe.html#a04d90512c54de01e2e60649ecd1ea2e9">n</a>.result = cpu_to_le32(n-&gt;<a class="code" href="structFemuCtrl.html#a4bd5012806e5cda6eb475cb787f4be3d">features</a>.<a class="code" href="structNvmeFeatureVal.html#a3425f02bb96f18760ef44b0e0a055741">volatile_wc</a>);</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a4a839eb668ded988a682e6cbf0b337f9a2209f76e484de16a87bd3f60c0f9ad10">NVME_INTERRUPT_COALESCING</a>:</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        cqe-&gt;<a class="code" href="structNvmeCqe.html#a04d90512c54de01e2e60649ecd1ea2e9">n</a>.result = cpu_to_le32(n-&gt;<a class="code" href="structFemuCtrl.html#a4bd5012806e5cda6eb475cb787f4be3d">features</a>.<a class="code" href="structNvmeFeatureVal.html#a484359e6104d0f3bfc1f3a81189497d7">int_coalescing</a>);</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a4a839eb668ded988a682e6cbf0b337f9adfcc384847fbafc0fe4223f66f53ea4e">NVME_INTERRUPT_VECTOR_CONF</a>:</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        <span class="keywordflow">if</span> ((dw11 &amp; 0xffff) &gt; n-&gt;<a class="code" href="structFemuCtrl.html#ab09f359cd5d2e1882bd8a04046becf28">num_io_queues</a>) {</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a8b85ba3cbcb57ab6be06fdced051d11c">NVME_INVALID_FIELD</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        }</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        cqe-&gt;<a class="code" href="structNvmeCqe.html#a04d90512c54de01e2e60649ecd1ea2e9">n</a>.result = cpu_to_le32(n-&gt;<a class="code" href="structFemuCtrl.html#a4bd5012806e5cda6eb475cb787f4be3d">features</a>.<a class="code" href="structNvmeFeatureVal.html#a392d23a7bae9920c1573f7c601419ea7">int_vector_config</a>[dw11 &amp; 0xffff]);</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a4a839eb668ded988a682e6cbf0b337f9aecddfc72198446c44bfe5ac17575c29a">NVME_WRITE_ATOMICITY</a>:</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        cqe-&gt;<a class="code" href="structNvmeCqe.html#a04d90512c54de01e2e60649ecd1ea2e9">n</a>.result = cpu_to_le32(n-&gt;<a class="code" href="structFemuCtrl.html#a4bd5012806e5cda6eb475cb787f4be3d">features</a>.<a class="code" href="structNvmeFeatureVal.html#a2d973610d2446267d4290905c373407a">write_atomicity</a>);</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a4a839eb668ded988a682e6cbf0b337f9ae41692366ed6ceacca3568d562c8b407">NVME_ASYNCHRONOUS_EVENT_CONF</a>:</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        cqe-&gt;<a class="code" href="structNvmeCqe.html#a04d90512c54de01e2e60649ecd1ea2e9">n</a>.result = cpu_to_le32(n-&gt;<a class="code" href="structFemuCtrl.html#a4bd5012806e5cda6eb475cb787f4be3d">features</a>.<a class="code" href="structNvmeFeatureVal.html#a36ec14134ad2d2e9e12ee59cf8c7f8b2">async_config</a>);</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a4a839eb668ded988a682e6cbf0b337f9a4d1eddbbd76fa0dd2ee3170f5952a862">NVME_SOFTWARE_PROGRESS_MARKER</a>:</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        cqe-&gt;<a class="code" href="structNvmeCqe.html#a04d90512c54de01e2e60649ecd1ea2e9">n</a>.result = cpu_to_le32(n-&gt;<a class="code" href="structFemuCtrl.html#a4bd5012806e5cda6eb475cb787f4be3d">features</a>.<a class="code" href="structNvmeFeatureVal.html#a877d533f2292d0b48b8fa51a0982e7be">sw_prog_marker</a>);</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a8b85ba3cbcb57ab6be06fdced051d11c">NVME_INVALID_FIELD</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    }</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160; </div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a3268f6be90861f0c2270d86a44d5b09c">NVME_SUCCESS</a>;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_abf593ed87b332bec6cb6fca0e2bed1be_cgraph.png" border="0" usemap="#nvme-admin_8c_abf593ed87b332bec6cb6fca0e2bed1be_cgraph" alt=""/></div>
<map name="nvme-admin_8c_abf593ed87b332bec6cb6fca0e2bed1be_cgraph" id="nvme-admin_8c_abf593ed87b332bec6cb6fca0e2bed1be_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,147,32"/>
<area shape="rect" href="dma_8c.html#a83e01cb3ebf3721ca1fd024940ed6aa6" title=" " alt="" coords="195,5,309,32"/>
<area shape="rect" href="dma_8c.html#aff05c76845a6cc08d0131d2761153493" title=" " alt="" coords="357,5,480,32"/>
<area shape="rect" href="dma_8c.html#a0ac25a907651fbfbf9710b15dc45e484" title=" " alt="" coords="528,5,659,32"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_abf593ed87b332bec6cb6fca0e2bed1be_icgraph.png" border="0" usemap="#nvme-admin_8c_abf593ed87b332bec6cb6fca0e2bed1be_icgraph" alt=""/></div>
<map name="nvme-admin_8c_abf593ed87b332bec6cb6fca0e2bed1be_icgraph" id="nvme-admin_8c_abf593ed87b332bec6cb6fca0e2bed1be_icgraph">
<area shape="rect" title=" " alt="" coords="857,5,999,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="ace67c34426486b78b1b20cba61ab28b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace67c34426486b78b1b20cba61ab28b8">&#9670;&nbsp;</a></span>nvme_get_log()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t nvme_get_log </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFemuCtrl.html">FemuCtrl</a> *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeCmd.html">NvmeCmd</a> *&#160;</td>
          <td class="paramname"><em>cmd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;{</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    uint32_t dw10 = le32_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#ab217950fc2408f7a848af10f36b0cd8f">cdw10</a>);</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    uint32_t dw11 = le32_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#a542065d60952eff1b4de0fdf3ecb5b29">cdw11</a>);</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    uint32_t dw12 = le32_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#ab8451175fd2fa5932757675268633fab">cdw12</a>);</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    uint32_t dw13 = le32_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#abe88eab6edc75248f89446542ae46eed">cdw13</a>);</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    uint16_t lid = dw10 &amp; 0xffff;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    uint8_t  csi = le32_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#a8322f6c084bb932bc2d53f693544dcc0">cdw14</a>) &gt;&gt; 24;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    uint32_t len;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    uint64_t off, lpol, lpou;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    uint32_t numdl, numdu;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <span class="keywordtype">int</span> status;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160; </div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    numdl = (dw10 &gt;&gt; 16);</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    numdu = (dw11 &amp; 0xffff);</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    lpol = dw12;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    lpou = dw13;</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160; </div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    len = (((numdu &lt;&lt; 16) | numdl) + 1) &lt;&lt; 2;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    off = (lpou &lt;&lt; 32ULL) | lpol;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160; </div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    <span class="keywordflow">if</span> (off &amp; 0x3) {</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a8b85ba3cbcb57ab6be06fdced051d11c">NVME_INVALID_FIELD</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    }</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160; </div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    status = <a class="code" href="nvme_8h.html#ae412c484b40ac7903597a299757a7a83">nvme_check_mdts</a>(n, len);</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <span class="keywordflow">if</span> (status) {</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;        <span class="keywordflow">return</span> status;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    }</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160; </div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <span class="keywordflow">switch</span> (lid) {</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#ae3418c924869bd02b41bfc8575d4e3f6affb675d8ef7208f87e85fa5c909cee1e">NVME_LOG_ERROR_INFO</a>:</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme-admin_8c.html#a4e3add88b587075ed1a120f75f73ea44">nvme_error_log_info</a>(n, cmd, len);</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#ae3418c924869bd02b41bfc8575d4e3f6aaba2d20f6746458f38402441b2cfc7ec">NVME_LOG_SMART_INFO</a>:</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme-admin_8c.html#af7d9ef3eb88525869cf3506520028cf0">nvme_smart_info</a>(n, cmd, len);</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#ae3418c924869bd02b41bfc8575d4e3f6a4fe0f9735fa58cab4e48a18e8b25effb">NVME_LOG_FW_SLOT_INFO</a>:</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme-admin_8c.html#a295e47dd4c386bd7ad30d98ea4b45929">nvme_fw_log_info</a>(n, cmd, len);</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#ae3418c924869bd02b41bfc8575d4e3f6a6be594038cc74913b8f19ef58dfa9bf6">NVME_LOG_CMD_EFFECTS</a>:</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme-admin_8c.html#aff81480a8e081d70ea6fc2b09a02af21">nvme_cmd_effects</a>(n, cmd, csi, len, off);</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        <span class="keywordflow">if</span> (n-&gt;<a class="code" href="structFemuCtrl.html#a2b07accc41de60cd0c6de43adde355ad">ext_ops</a>.<a class="code" href="structFemuExtCtrlOps.html#a6ceccf6f103ceee67ac7af7516fdc454">get_log</a>) {</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;            <span class="keywordflow">return</span> n-&gt;<a class="code" href="structFemuCtrl.html#a2b07accc41de60cd0c6de43adde355ad">ext_ops</a>.<a class="code" href="structFemuExtCtrlOps.html#a6ceccf6f103ceee67ac7af7516fdc454">get_log</a>(n, cmd);</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;        }</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a2ada2c6f76be836f35c1c1a27921791b">NVME_INVALID_LOG_ID</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    }</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_ace67c34426486b78b1b20cba61ab28b8_cgraph.png" border="0" usemap="#nvme-admin_8c_ace67c34426486b78b1b20cba61ab28b8_cgraph" alt=""/></div>
<map name="nvme-admin_8c_ace67c34426486b78b1b20cba61ab28b8_cgraph" id="nvme-admin_8c_ace67c34426486b78b1b20cba61ab28b8_cgraph">
<area shape="rect" title=" " alt="" coords="5,107,120,133"/>
<area shape="rect" href="nvme_8h.html#ae412c484b40ac7903597a299757a7a83" title=" " alt="" coords="174,5,318,32"/>
<area shape="rect" href="nvme-admin_8c.html#aff81480a8e081d70ea6fc2b09a02af21" title=" " alt="" coords="173,56,319,83"/>
<area shape="rect" href="nvme-admin_8c.html#a4e3add88b587075ed1a120f75f73ea44" title=" " alt="" coords="168,107,324,133"/>
<area shape="rect" href="nvme-admin_8c.html#a295e47dd4c386bd7ad30d98ea4b45929" title=" " alt="" coords="176,157,316,184"/>
<area shape="rect" href="nvme-admin_8c.html#af7d9ef3eb88525869cf3506520028cf0" title=" " alt="" coords="178,208,314,235"/>
<area shape="rect" href="dma_8c.html#a83e01cb3ebf3721ca1fd024940ed6aa6" title=" " alt="" coords="372,132,487,159"/>
<area shape="rect" href="dma_8c.html#aff05c76845a6cc08d0131d2761153493" title=" " alt="" coords="535,132,657,159"/>
<area shape="rect" href="dma_8c.html#a0ac25a907651fbfbf9710b15dc45e484" title=" " alt="" coords="705,132,836,159"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_ace67c34426486b78b1b20cba61ab28b8_icgraph.png" border="0" usemap="#nvme-admin_8c_ace67c34426486b78b1b20cba61ab28b8_icgraph" alt=""/></div>
<map name="nvme-admin_8c_ace67c34426486b78b1b20cba61ab28b8_icgraph" id="nvme-admin_8c_ace67c34426486b78b1b20cba61ab28b8_icgraph">
<area shape="rect" title=" " alt="" coords="857,5,972,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="ae23b14397c30828a57903ec27a4c150c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae23b14397c30828a57903ec27a4c150c">&#9670;&nbsp;</a></span>nvme_identify()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t nvme_identify </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFemuCtrl.html">FemuCtrl</a> *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeCmd.html">NvmeCmd</a> *&#160;</td>
          <td class="paramname"><em>cmd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;{</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <a class="code" href="structNvmeIdentity.html">NvmeIdentify</a> *c = (<a class="code" href="structNvmeIdentity.html">NvmeIdentify</a> *)cmd;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    uint32_t cns  = le32_to_cpu(c-&gt;<a class="code" href="structNvmeIdentity.html#ad4301e0b7fc06230eb08b77642fb3241">cns</a>);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160; </div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="keywordflow">switch</span> (cns) {</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a07e46a853151dc5e5a8233d7eea6fb87a9cdabd967c5a58f08d2c64196da8f8b6">NVME_ID_CNS_NS</a>:</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a07e46a853151dc5e5a8233d7eea6fb87a75a5b9bba4f97541669a53d839baa8e3">NVME_ID_CNS_NS_PRESENT</a>:</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme-admin_8c.html#a9896b513919b735c2049dd8e59d588c0">nvme_identify_ns</a>(n, cmd);</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a07e46a853151dc5e5a8233d7eea6fb87a343dfbc6faf04413ab5c5834729df739">NVME_ID_CNS_CS_NS</a>:</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a07e46a853151dc5e5a8233d7eea6fb87afaf6de7b9a93370c65d3a6a4736171fb">NVME_ID_CNS_CS_NS_PRESENT</a>:</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme-admin_8c.html#a50ae77ec77f7a89c1a067df80c5cd767">nvme_identify_ns_csi</a>(n, cmd);</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a07e46a853151dc5e5a8233d7eea6fb87aeb8ce7594591e542120ab9bc2e7bc8c8">NVME_ID_CNS_CTRL</a>:</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme-admin_8c.html#a6a27adda12530ad69ecc17512ede9ddd">nvme_identify_ctrl</a>(n, cmd);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a07e46a853151dc5e5a8233d7eea6fb87aae01e124b6bd54974d5bcbd91a242a67">NVME_ID_CNS_CS_CTRL</a>:</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme-admin_8c.html#a7db584730c5821def2e8208f0aaf3f05">nvme_identify_ctrl_csi</a>(n, cmd);</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a07e46a853151dc5e5a8233d7eea6fb87a5a8ff00408bfce9c4635be351bd619a8">NVME_ID_CNS_NS_ACTIVE_LIST</a>:</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a07e46a853151dc5e5a8233d7eea6fb87a20c89134f7c6521c680fc7b1f6a30a21">NVME_ID_CNS_NS_PRESENT_LIST</a>:</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme-admin_8c.html#a9eeb98def2fad8039662200e9854b7e7">nvme_identify_nslist</a>(n, cmd);</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a07e46a853151dc5e5a8233d7eea6fb87a40848ce16b2b50557c4988e889d8d433">NVME_ID_CNS_CS_NS_ACTIVE_LIST</a>:</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a07e46a853151dc5e5a8233d7eea6fb87a46e7909fe549d7a40d63b9ec49873716">NVME_ID_CNS_CS_NS_PRESENT_LIST</a>:</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme-admin_8c.html#a1067c1ab64f621b7e8d68043437c04eb">nvme_identify_nslist_csi</a>(n, cmd);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a07e46a853151dc5e5a8233d7eea6fb87a876a99f46d10f09d2f27097e6de26c1f">NVME_ID_CNS_NS_DESCR_LIST</a>:</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme-admin_8c.html#aeb087910e36564f94d4dc54c6af7622c">nvme_identify_ns_descr_list</a>(n, cmd);</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a07e46a853151dc5e5a8233d7eea6fb87a9d80c9e0882ad010ee0255cca96996fe">NVME_ID_CNS_IO_COMMAND_SET</a>:</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme-admin_8c.html#a834f603280a3a10a14da324da6bd9a62">nvme_identify_cmd_set</a>(n, cmd);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a8b85ba3cbcb57ab6be06fdced051d11c">NVME_INVALID_FIELD</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    }</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_ae23b14397c30828a57903ec27a4c150c_cgraph.png" border="0" usemap="#nvme-admin_8c_ae23b14397c30828a57903ec27a4c150c_cgraph" alt=""/></div>
<map name="nvme-admin_8c_ae23b14397c30828a57903ec27a4c150c_cgraph" id="nvme-admin_8c_ae23b14397c30828a57903ec27a4c150c_cgraph">
<area shape="rect" title=" " alt="" coords="5,284,120,311"/>
<area shape="rect" href="nvme-admin_8c.html#a834f603280a3a10a14da324da6bd9a62" title=" " alt="" coords="437,5,615,32"/>
<area shape="rect" href="nvme-admin_8c.html#a6a27adda12530ad69ecc17512ede9ddd" title=" " alt="" coords="455,56,597,83"/>
<area shape="rect" href="nvme-admin_8c.html#a7db584730c5821def2e8208f0aaf3f05" title=" " alt="" coords="187,157,355,184"/>
<area shape="rect" href="nvme-admin_8c.html#a9896b513919b735c2049dd8e59d588c0" title=" " alt="" coords="203,259,340,285"/>
<area shape="rect" href="nvme-admin_8c.html#a50ae77ec77f7a89c1a067df80c5cd767" title=" " alt="" coords="190,309,353,336"/>
<area shape="rect" href="nvme-admin_8c.html#aeb087910e36564f94d4dc54c6af7622c" title=" " alt="" coords="168,360,375,387"/>
<area shape="rect" href="nvme-admin_8c.html#a9eeb98def2fad8039662200e9854b7e7" title=" " alt="" coords="193,436,350,463"/>
<area shape="rect" href="nvme-admin_8c.html#a1067c1ab64f621b7e8d68043437c04eb" title=" " alt="" coords="180,487,363,513"/>
<area shape="rect" href="dma_8c.html#a83e01cb3ebf3721ca1fd024940ed6aa6" title=" " alt="" coords="677,208,792,235"/>
<area shape="rect" href="dma_8c.html#aff05c76845a6cc08d0131d2761153493" title=" " alt="" coords="840,208,963,235"/>
<area shape="rect" href="dma_8c.html#a0ac25a907651fbfbf9710b15dc45e484" title=" " alt="" coords="1011,208,1141,235"/>
<area shape="rect" href="nvme-admin_8c.html#a4288308db73b3aa30b0c2253ffabd2d5" title=" " alt="" coords="428,157,624,184"/>
<area shape="rect" href="nvme-admin_8c.html#a59ac97b9a3caead40c6651273483ed4c" title=" " alt="" coords="423,259,629,285"/>
<area shape="rect" href="nvme-admin_8c.html#a908e1383f81ed82cd271ecf3aa68f9a5" title=" " alt="" coords="485,461,567,488"/>
<area shape="rect" href="nvme-admin_8c.html#afa248954e6428b4efed7549f41e77f2b" title=" " alt="" coords="460,360,592,387"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_ae23b14397c30828a57903ec27a4c150c_icgraph.png" border="0" usemap="#nvme-admin_8c_ae23b14397c30828a57903ec27a4c150c_icgraph" alt=""/></div>
<map name="nvme-admin_8c_ae23b14397c30828a57903ec27a4c150c_icgraph" id="nvme-admin_8c_ae23b14397c30828a57903ec27a4c150c_icgraph">
<area shape="rect" title=" " alt="" coords="857,5,972,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="a834f603280a3a10a14da324da6bd9a62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a834f603280a3a10a14da324da6bd9a62">&#9670;&nbsp;</a></span>nvme_identify_cmd_set()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t nvme_identify_cmd_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFemuCtrl.html">FemuCtrl</a> *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeCmd.html">NvmeCmd</a> *&#160;</td>
          <td class="paramname"><em>cmd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;{</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    uint8_t list[<a class="code" href="nvme-admin_8c.html#a2b65aed5d655f3d24732cd3c6aa51ab9">NVME_IDENTIFY_DATA_SIZE</a>] = {};</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> data_len = <span class="keyword">sizeof</span>(list);</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    uint64_t prp1 = le64_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#a3b34c627a05e2a86edf1a93567422c8c">dptr</a>.<a class="code" href="unionNvmeCmdDptr.html#aaad95622d868c580eadba6c852bf961d">prp1</a>);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    uint64_t prp2 = le64_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#a3b34c627a05e2a86edf1a93567422c8c">dptr</a>.<a class="code" href="unionNvmeCmdDptr.html#a9fc9a97c707652c679097b32ffd84bc3">prp2</a>);</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160; </div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <a class="code" href="nvme_8h.html#a95af518abe4c85115e4473123f9a7269">NVME_SET_CSI</a>(*list, <a class="code" href="nvme_8h.html#a2342f477442526e6bc2aa046f9bd4a94a28181a48fe56de9ccab6eb11dd3fc9cc">NVME_CSI_NVM</a>);</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <a class="code" href="nvme_8h.html#a95af518abe4c85115e4473123f9a7269">NVME_SET_CSI</a>(*list, <a class="code" href="nvme_8h.html#a2342f477442526e6bc2aa046f9bd4a94a64b23085931f2a85c7105d303bb4a495">NVME_CSI_ZONED</a>);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160; </div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dma_8c.html#a83e01cb3ebf3721ca1fd024940ed6aa6">dma_read_prp</a>(n, list, data_len, prp1, prp2);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_a834f603280a3a10a14da324da6bd9a62_cgraph.png" border="0" usemap="#nvme-admin_8c_a834f603280a3a10a14da324da6bd9a62_cgraph" alt=""/></div>
<map name="nvme-admin_8c_a834f603280a3a10a14da324da6bd9a62_cgraph" id="nvme-admin_8c_a834f603280a3a10a14da324da6bd9a62_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,183,32"/>
<area shape="rect" href="dma_8c.html#a83e01cb3ebf3721ca1fd024940ed6aa6" title=" " alt="" coords="231,5,345,32"/>
<area shape="rect" href="dma_8c.html#aff05c76845a6cc08d0131d2761153493" title=" " alt="" coords="393,5,516,32"/>
<area shape="rect" href="dma_8c.html#a0ac25a907651fbfbf9710b15dc45e484" title=" " alt="" coords="564,5,695,32"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_a834f603280a3a10a14da324da6bd9a62_icgraph.png" border="0" usemap="#nvme-admin_8c_a834f603280a3a10a14da324da6bd9a62_icgraph" alt=""/></div>
<map name="nvme-admin_8c_a834f603280a3a10a14da324da6bd9a62_icgraph" id="nvme-admin_8c_a834f603280a3a10a14da324da6bd9a62_icgraph">
<area shape="rect" title=" " alt="" coords="1020,5,1197,32"/>
<area shape="rect" href="nvme-admin_8c.html#ae23b14397c30828a57903ec27a4c150c" title=" " alt="" coords="857,5,972,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="a6a27adda12530ad69ecc17512ede9ddd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a27adda12530ad69ecc17512ede9ddd">&#9670;&nbsp;</a></span>nvme_identify_ctrl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t nvme_identify_ctrl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFemuCtrl.html">FemuCtrl</a> *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeCmd.html">NvmeCmd</a> *&#160;</td>
          <td class="paramname"><em>cmd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;{</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    uint64_t prp1 = le64_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#a3b34c627a05e2a86edf1a93567422c8c">dptr</a>.<a class="code" href="unionNvmeCmdDptr.html#aaad95622d868c580eadba6c852bf961d">prp1</a>);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    uint64_t prp2 = le64_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#a3b34c627a05e2a86edf1a93567422c8c">dptr</a>.<a class="code" href="unionNvmeCmdDptr.html#a9fc9a97c707652c679097b32ffd84bc3">prp2</a>);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160; </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dma_8c.html#a83e01cb3ebf3721ca1fd024940ed6aa6">dma_read_prp</a>(n, (uint8_t *)&amp;n-&gt;<a class="code" href="structFemuCtrl.html#af13a4a3fc3667cdddbd181c34378b406">id_ctrl</a>, <span class="keyword">sizeof</span>(n-&gt;<a class="code" href="structFemuCtrl.html#af13a4a3fc3667cdddbd181c34378b406">id_ctrl</a>),</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                             prp1, prp2);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_a6a27adda12530ad69ecc17512ede9ddd_cgraph.png" border="0" usemap="#nvme-admin_8c_a6a27adda12530ad69ecc17512ede9ddd_cgraph" alt=""/></div>
<map name="nvme-admin_8c_a6a27adda12530ad69ecc17512ede9ddd_cgraph" id="nvme-admin_8c_a6a27adda12530ad69ecc17512ede9ddd_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,148,32"/>
<area shape="rect" href="dma_8c.html#a83e01cb3ebf3721ca1fd024940ed6aa6" title=" " alt="" coords="196,5,311,32"/>
<area shape="rect" href="dma_8c.html#aff05c76845a6cc08d0131d2761153493" title=" " alt="" coords="359,5,481,32"/>
<area shape="rect" href="dma_8c.html#a0ac25a907651fbfbf9710b15dc45e484" title=" " alt="" coords="529,5,660,32"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_a6a27adda12530ad69ecc17512ede9ddd_icgraph.png" border="0" usemap="#nvme-admin_8c_a6a27adda12530ad69ecc17512ede9ddd_icgraph" alt=""/></div>
<map name="nvme-admin_8c_a6a27adda12530ad69ecc17512ede9ddd_icgraph" id="nvme-admin_8c_a6a27adda12530ad69ecc17512ede9ddd_icgraph">
<area shape="rect" title=" " alt="" coords="1020,5,1163,32"/>
<area shape="rect" href="nvme-admin_8c.html#ae23b14397c30828a57903ec27a4c150c" title=" " alt="" coords="857,5,972,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="a7db584730c5821def2e8208f0aaf3f05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7db584730c5821def2e8208f0aaf3f05">&#9670;&nbsp;</a></span>nvme_identify_ctrl_csi()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t nvme_identify_ctrl_csi </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFemuCtrl.html">FemuCtrl</a> *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeCmd.html">NvmeCmd</a> *&#160;</td>
          <td class="paramname"><em>cmd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;{</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <a class="code" href="structNvmeIdentity.html">NvmeIdentify</a> *c = (<a class="code" href="structNvmeIdentity.html">NvmeIdentify</a> *)cmd;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    uint64_t prp1 = le64_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#a3b34c627a05e2a86edf1a93567422c8c">dptr</a>.<a class="code" href="unionNvmeCmdDptr.html#aaad95622d868c580eadba6c852bf961d">prp1</a>);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    uint64_t prp2 = le64_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#a3b34c627a05e2a86edf1a93567422c8c">dptr</a>.<a class="code" href="unionNvmeCmdDptr.html#a9fc9a97c707652c679097b32ffd84bc3">prp2</a>);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160; </div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structNvmeIdCtrlZoned.html">NvmeIdCtrlZoned</a> {</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        uint8_t     <a class="code" href="structNvmeIdCtrlZoned.html#a4c7dc94b9701b0dc6ef3b8875e1e8820">zasl</a>;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        uint8_t     <a class="code" href="structNvmeIdCtrlZoned.html#abca382fcb34aea822a0b15533979cab6">rsvd1</a>[4095];</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    } <a class="code" href="zns_8h.html#ae7adf364f249708c677c0df1b1b84592">NvmeIdCtrlZoned</a>;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160; </div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <a class="code" href="structNvmeIdCtrlZoned.html">NvmeIdCtrlZoned</a> <span class="keywordtype">id</span> = {};</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160; </div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordflow">if</span> (c-&gt;<a class="code" href="structNvmeIdentity.html#a138423d987ea5aee71b51d7d580747d2">csi</a> == <a class="code" href="nvme_8h.html#a2342f477442526e6bc2aa046f9bd4a94a28181a48fe56de9ccab6eb11dd3fc9cc">NVME_CSI_NVM</a>) {</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme-admin_8c.html#a4288308db73b3aa30b0c2253ffabd2d5">nvme_rpt_empty_id_struct</a>(n, cmd);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (c-&gt;<a class="code" href="structNvmeIdentity.html#a138423d987ea5aee71b51d7d580747d2">csi</a> == <a class="code" href="nvme_8h.html#a2342f477442526e6bc2aa046f9bd4a94a64b23085931f2a85c7105d303bb4a495">NVME_CSI_ZONED</a>) {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        <span class="keywordflow">if</span> (n-&gt;<a class="code" href="structFemuCtrl.html#ac6e80e0bc39d8878bee79720f0733909">zasl_bs</a>) {</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;            <span class="keywordtype">id</span>.zasl = n-&gt;<a class="code" href="structFemuCtrl.html#a8dc93dbc4b721983afa203722a769e7a">zasl</a>;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        }</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="dma_8c.html#a83e01cb3ebf3721ca1fd024940ed6aa6">dma_read_prp</a>(n, (uint8_t *)&amp;<span class="keywordtype">id</span>, <span class="keyword">sizeof</span>(<span class="keywordtype">id</span>), prp1, prp2);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    }</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160; </div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a8b85ba3cbcb57ab6be06fdced051d11c">NVME_INVALID_FIELD</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_a7db584730c5821def2e8208f0aaf3f05_cgraph.png" border="0" usemap="#nvme-admin_8c_a7db584730c5821def2e8208f0aaf3f05_cgraph" alt=""/></div>
<map name="nvme-admin_8c_a7db584730c5821def2e8208f0aaf3f05_cgraph" id="nvme-admin_8c_a7db584730c5821def2e8208f0aaf3f05_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,173,32"/>
<area shape="rect" href="dma_8c.html#a83e01cb3ebf3721ca1fd024940ed6aa6" title=" " alt="" coords="465,5,580,32"/>
<area shape="rect" href="nvme-admin_8c.html#a4288308db73b3aa30b0c2253ffabd2d5" title=" " alt="" coords="221,31,417,57"/>
<area shape="rect" href="dma_8c.html#aff05c76845a6cc08d0131d2761153493" title=" " alt="" coords="628,5,751,32"/>
<area shape="rect" href="dma_8c.html#a0ac25a907651fbfbf9710b15dc45e484" title=" " alt="" coords="799,5,929,32"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_a7db584730c5821def2e8208f0aaf3f05_icgraph.png" border="0" usemap="#nvme-admin_8c_a7db584730c5821def2e8208f0aaf3f05_icgraph" alt=""/></div>
<map name="nvme-admin_8c_a7db584730c5821def2e8208f0aaf3f05_icgraph" id="nvme-admin_8c_a7db584730c5821def2e8208f0aaf3f05_icgraph">
<area shape="rect" title=" " alt="" coords="1020,5,1188,32"/>
<area shape="rect" href="nvme-admin_8c.html#ae23b14397c30828a57903ec27a4c150c" title=" " alt="" coords="857,5,972,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="a9896b513919b735c2049dd8e59d588c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9896b513919b735c2049dd8e59d588c0">&#9670;&nbsp;</a></span>nvme_identify_ns()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t nvme_identify_ns </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFemuCtrl.html">FemuCtrl</a> *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeCmd.html">NvmeCmd</a> *&#160;</td>
          <td class="paramname"><em>cmd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;{</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <a class="code" href="structNvmeNamespace.html">NvmeNamespace</a> *ns;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <a class="code" href="structNvmeIdentity.html">NvmeIdentify</a> *c = (<a class="code" href="structNvmeIdentity.html">NvmeIdentify</a> *)cmd;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    uint32_t nsid = le32_to_cpu(c-&gt;<a class="code" href="structNvmeIdentity.html#a00384fddea98b5e53fde34ddc53260be">nsid</a>);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    uint64_t prp1 = le64_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#a3b34c627a05e2a86edf1a93567422c8c">dptr</a>.<a class="code" href="unionNvmeCmdDptr.html#aaad95622d868c580eadba6c852bf961d">prp1</a>);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    uint64_t prp2 = le64_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#a3b34c627a05e2a86edf1a93567422c8c">dptr</a>.<a class="code" href="unionNvmeCmdDptr.html#a9fc9a97c707652c679097b32ffd84bc3">prp2</a>);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160; </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="nvme-admin_8c.html#afa248954e6428b4efed7549f41e77f2b">nvme_nsid_valid</a>(n, nsid) || nsid == <a class="code" href="nvme_8h.html#aa0fc6c132edf52e49bbf4f575f08c0e0">NVME_NSID_BROADCAST</a>) {</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a4c080463e158441c5b7b4000da2ed3e4">NVME_INVALID_NSID</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    }</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160; </div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    ns = <a class="code" href="nvme-admin_8c.html#a908e1383f81ed82cd271ecf3aa68f9a5">nvme_ns</a>(n, nsid);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="rte__branch__prediction_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(!ns)) {</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme-admin_8c.html#a4288308db73b3aa30b0c2253ffabd2d5">nvme_rpt_empty_id_struct</a>(n, cmd);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    }</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordflow">if</span> (c-&gt;<a class="code" href="structNvmeIdentity.html#a138423d987ea5aee71b51d7d580747d2">csi</a> == <a class="code" href="nvme_8h.html#a2342f477442526e6bc2aa046f9bd4a94a28181a48fe56de9ccab6eb11dd3fc9cc">NVME_CSI_NVM</a> &amp;&amp; <a class="code" href="nvme-admin_8c.html#a59ac97b9a3caead40c6651273483ed4c">nvme_csi_has_nvm_support</a>(ns)) {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="dma_8c.html#a83e01cb3ebf3721ca1fd024940ed6aa6">dma_read_prp</a>(n, (uint8_t *)&amp;ns-&gt;<a class="code" href="structNvmeNamespace.html#ac5c0ddf3fd8b71e4387062b8a5e1075d">id_ns</a>, <span class="keyword">sizeof</span>(<a class="code" href="structNvmeIdNs.html">NvmeIdNs</a>),</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                                 prp1, prp2);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    }</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160; </div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a9d1df533f33444512ea83101ab813009">NVME_INVALID_CMD_SET</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_a9896b513919b735c2049dd8e59d588c0_cgraph.png" border="0" usemap="#nvme-admin_8c_a9896b513919b735c2049dd8e59d588c0_cgraph" alt=""/></div>
<map name="nvme-admin_8c_a9896b513919b735c2049dd8e59d588c0_cgraph" id="nvme-admin_8c_a9896b513919b735c2049dd8e59d588c0_cgraph">
<area shape="rect" title=" " alt="" coords="5,89,143,115"/>
<area shape="rect" href="dma_8c.html#a83e01cb3ebf3721ca1fd024940ed6aa6" title=" " alt="" coords="445,89,560,115"/>
<area shape="rect" href="nvme-admin_8c.html#a59ac97b9a3caead40c6651273483ed4c" title=" " alt="" coords="191,38,397,65"/>
<area shape="rect" href="nvme-admin_8c.html#a908e1383f81ed82cd271ecf3aa68f9a5" title=" " alt="" coords="253,89,335,115"/>
<area shape="rect" href="nvme-admin_8c.html#afa248954e6428b4efed7549f41e77f2b" title=" " alt="" coords="228,139,360,166"/>
<area shape="rect" href="nvme-admin_8c.html#a4288308db73b3aa30b0c2253ffabd2d5" title=" " alt="" coords="196,190,392,217"/>
<area shape="rect" href="dma_8c.html#aff05c76845a6cc08d0131d2761153493" title=" " alt="" coords="608,89,731,115"/>
<area shape="rect" href="dma_8c.html#a0ac25a907651fbfbf9710b15dc45e484" title=" " alt="" coords="779,89,909,115"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_a9896b513919b735c2049dd8e59d588c0_icgraph.png" border="0" usemap="#nvme-admin_8c_a9896b513919b735c2049dd8e59d588c0_icgraph" alt=""/></div>
<map name="nvme-admin_8c_a9896b513919b735c2049dd8e59d588c0_icgraph" id="nvme-admin_8c_a9896b513919b735c2049dd8e59d588c0_icgraph">
<area shape="rect" title=" " alt="" coords="1020,5,1157,32"/>
<area shape="rect" href="nvme-admin_8c.html#ae23b14397c30828a57903ec27a4c150c" title=" " alt="" coords="857,5,972,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="a50ae77ec77f7a89c1a067df80c5cd767"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50ae77ec77f7a89c1a067df80c5cd767">&#9670;&nbsp;</a></span>nvme_identify_ns_csi()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t nvme_identify_ns_csi </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFemuCtrl.html">FemuCtrl</a> *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeCmd.html">NvmeCmd</a> *&#160;</td>
          <td class="paramname"><em>cmd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;{</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <a class="code" href="structNvmeNamespace.html">NvmeNamespace</a> *ns;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <a class="code" href="structNvmeIdentity.html">NvmeIdentify</a> *c = (<a class="code" href="structNvmeIdentity.html">NvmeIdentify</a> *)cmd;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    uint32_t nsid = le32_to_cpu(c-&gt;<a class="code" href="structNvmeIdentity.html#a00384fddea98b5e53fde34ddc53260be">nsid</a>);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    uint64_t prp1 = le64_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#a3b34c627a05e2a86edf1a93567422c8c">dptr</a>.<a class="code" href="unionNvmeCmdDptr.html#aaad95622d868c580eadba6c852bf961d">prp1</a>);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    uint64_t prp2 = le64_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#a3b34c627a05e2a86edf1a93567422c8c">dptr</a>.<a class="code" href="unionNvmeCmdDptr.html#a9fc9a97c707652c679097b32ffd84bc3">prp2</a>);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordtype">int</span> pgsz = n-&gt;<a class="code" href="structFemuCtrl.html#a6d0418e38e888b2b8980a34198bfd463">page_size</a>;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160; </div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="nvme-admin_8c.html#afa248954e6428b4efed7549f41e77f2b">nvme_nsid_valid</a>(n, nsid) || nsid == <a class="code" href="nvme_8h.html#aa0fc6c132edf52e49bbf4f575f08c0e0">NVME_NSID_BROADCAST</a>) {</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a4c080463e158441c5b7b4000da2ed3e4">NVME_INVALID_NSID</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    }</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160; </div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    ns = <a class="code" href="nvme-admin_8c.html#a908e1383f81ed82cd271ecf3aa68f9a5">nvme_ns</a>(n, nsid);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="rte__branch__prediction_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(!ns)) {</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme-admin_8c.html#a4288308db73b3aa30b0c2253ffabd2d5">nvme_rpt_empty_id_struct</a>(n, cmd);</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    }</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160; </div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keywordflow">if</span> (c-&gt;<a class="code" href="structNvmeIdentity.html#a138423d987ea5aee71b51d7d580747d2">csi</a> == <a class="code" href="nvme_8h.html#a2342f477442526e6bc2aa046f9bd4a94a28181a48fe56de9ccab6eb11dd3fc9cc">NVME_CSI_NVM</a> &amp;&amp; <a class="code" href="nvme-admin_8c.html#a59ac97b9a3caead40c6651273483ed4c">nvme_csi_has_nvm_support</a>(ns)) {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme-admin_8c.html#a4288308db73b3aa30b0c2253ffabd2d5">nvme_rpt_empty_id_struct</a>(n, cmd);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (c-&gt;<a class="code" href="structNvmeIdentity.html#a138423d987ea5aee71b51d7d580747d2">csi</a> == <a class="code" href="nvme_8h.html#a2342f477442526e6bc2aa046f9bd4a94a64b23085931f2a85c7105d303bb4a495">NVME_CSI_ZONED</a> &amp;&amp; n-&gt;<a class="code" href="structFemuCtrl.html#a0b48d3c6cc09b094369348af59a3b096">csi</a> == <a class="code" href="nvme_8h.html#a2342f477442526e6bc2aa046f9bd4a94a64b23085931f2a85c7105d303bb4a495">NVME_CSI_ZONED</a>) {</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="dma_8c.html#a83e01cb3ebf3721ca1fd024940ed6aa6">dma_read_prp</a>(n, (uint8_t *)n-&gt;<a class="code" href="structFemuCtrl.html#aeaa1d7586c6d9356cc321cc86b7ebb62">id_ns_zoned</a>, pgsz, prp1, prp2);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    }</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160; </div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a8b85ba3cbcb57ab6be06fdced051d11c">NVME_INVALID_FIELD</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_a50ae77ec77f7a89c1a067df80c5cd767_cgraph.png" border="0" usemap="#nvme-admin_8c_a50ae77ec77f7a89c1a067df80c5cd767_cgraph" alt=""/></div>
<map name="nvme-admin_8c_a50ae77ec77f7a89c1a067df80c5cd767_cgraph" id="nvme-admin_8c_a50ae77ec77f7a89c1a067df80c5cd767_cgraph">
<area shape="rect" title=" " alt="" coords="5,88,168,115"/>
<area shape="rect" href="dma_8c.html#a83e01cb3ebf3721ca1fd024940ed6aa6" title=" " alt="" coords="471,88,585,115"/>
<area shape="rect" href="nvme-admin_8c.html#a59ac97b9a3caead40c6651273483ed4c" title=" " alt="" coords="216,37,423,64"/>
<area shape="rect" href="nvme-admin_8c.html#a908e1383f81ed82cd271ecf3aa68f9a5" title=" " alt="" coords="279,88,360,115"/>
<area shape="rect" href="nvme-admin_8c.html#afa248954e6428b4efed7549f41e77f2b" title=" " alt="" coords="253,139,385,165"/>
<area shape="rect" href="nvme-admin_8c.html#a4288308db73b3aa30b0c2253ffabd2d5" title=" " alt="" coords="221,189,417,216"/>
<area shape="rect" href="dma_8c.html#aff05c76845a6cc08d0131d2761153493" title=" " alt="" coords="633,88,756,115"/>
<area shape="rect" href="dma_8c.html#a0ac25a907651fbfbf9710b15dc45e484" title=" " alt="" coords="804,88,935,115"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_a50ae77ec77f7a89c1a067df80c5cd767_icgraph.png" border="0" usemap="#nvme-admin_8c_a50ae77ec77f7a89c1a067df80c5cd767_icgraph" alt=""/></div>
<map name="nvme-admin_8c_a50ae77ec77f7a89c1a067df80c5cd767_icgraph" id="nvme-admin_8c_a50ae77ec77f7a89c1a067df80c5cd767_icgraph">
<area shape="rect" title=" " alt="" coords="1020,5,1183,32"/>
<area shape="rect" href="nvme-admin_8c.html#ae23b14397c30828a57903ec27a4c150c" title=" " alt="" coords="857,5,972,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="aeb087910e36564f94d4dc54c6af7622c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb087910e36564f94d4dc54c6af7622c">&#9670;&nbsp;</a></span>nvme_identify_ns_descr_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t nvme_identify_ns_descr_list </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFemuCtrl.html">FemuCtrl</a> *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeCmd.html">NvmeCmd</a> *&#160;</td>
          <td class="paramname"><em>cmd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;{</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <a class="code" href="structNvmeNamespace.html">NvmeNamespace</a> *ns;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <a class="code" href="structNvmeIdentity.html">NvmeIdentify</a> *c = (<a class="code" href="structNvmeIdentity.html">NvmeIdentify</a> *)cmd;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    uint32_t nsid = le32_to_cpu(c-&gt;<a class="code" href="structNvmeIdentity.html#a00384fddea98b5e53fde34ddc53260be">nsid</a>);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    uint8_t list[<a class="code" href="nvme-admin_8c.html#a2b65aed5d655f3d24732cd3c6aa51ab9">NVME_IDENTIFY_DATA_SIZE</a>] = {};</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    uint64_t prp1 = le64_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#a3b34c627a05e2a86edf1a93567422c8c">dptr</a>.<a class="code" href="unionNvmeCmdDptr.html#aaad95622d868c580eadba6c852bf961d">prp1</a>);</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    uint64_t prp2 = le64_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#a3b34c627a05e2a86edf1a93567422c8c">dptr</a>.<a class="code" href="unionNvmeCmdDptr.html#a9fc9a97c707652c679097b32ffd84bc3">prp2</a>);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160; </div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="keyword">struct </span>data {</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;            <a class="code" href="structNvmeIdNsDescr.html">NvmeIdNsDescr</a> hdr;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            uint8_t v[<a class="code" href="nvme_8h.html#adb2b0bc7615481f312cc37b43e06fc2ea6450719f66e0eea28259c8524aa2855b">NVME_NIDL_UUID</a>];</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        } uuid;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;            <a class="code" href="structNvmeIdNsDescr.html">NvmeIdNsDescr</a> hdr;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;            uint8_t v;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        } csi;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    };</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160; </div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="keyword">struct </span>data *ns_descrs = (<span class="keyword">struct </span>data *)list;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160; </div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="nvme-admin_8c.html#afa248954e6428b4efed7549f41e77f2b">nvme_nsid_valid</a>(n, nsid) || nsid == <a class="code" href="nvme_8h.html#aa0fc6c132edf52e49bbf4f575f08c0e0">NVME_NSID_BROADCAST</a>) {</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a4c080463e158441c5b7b4000da2ed3e4">NVME_INVALID_NSID</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    }</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160; </div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    ns = <a class="code" href="nvme-admin_8c.html#a908e1383f81ed82cd271ecf3aa68f9a5">nvme_ns</a>(n, nsid);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="rte__branch__prediction_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(!ns)) {</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a8b85ba3cbcb57ab6be06fdced051d11c">NVME_INVALID_FIELD</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    }</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160; </div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    ns_descrs-&gt;uuid.hdr.nidt = <a class="code" href="nvme_8h.html#a6b609662c5e39d032784f03f183cb719ad7a20b506648ff4e8c260614537f78ae">NVME_NIDT_UUID</a>;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    ns_descrs-&gt;uuid.hdr.nidl = <a class="code" href="nvme_8h.html#adb2b0bc7615481f312cc37b43e06fc2ea6450719f66e0eea28259c8524aa2855b">NVME_NIDL_UUID</a>;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    memcpy(&amp;ns_descrs-&gt;uuid.v, n-&gt;<a class="code" href="structFemuCtrl.html#a1ede5f20b691c65e599d3f4e1d756bcb">uuid</a>.data, <a class="code" href="nvme_8h.html#adb2b0bc7615481f312cc37b43e06fc2ea6450719f66e0eea28259c8524aa2855b">NVME_NIDL_UUID</a>);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160; </div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    ns_descrs-&gt;csi.hdr.nidt = <a class="code" href="nvme_8h.html#a6b609662c5e39d032784f03f183cb719a9fc5e518a3d0354de233ccb7e16c55f6">NVME_NIDT_CSI</a>;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    ns_descrs-&gt;csi.hdr.nidl = <a class="code" href="nvme_8h.html#adb2b0bc7615481f312cc37b43e06fc2ea702892f216e7734538645256cc611b86">NVME_NIDL_CSI</a>;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    ns_descrs-&gt;csi.v = n-&gt;<a class="code" href="structFemuCtrl.html#a0b48d3c6cc09b094369348af59a3b096">csi</a>;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160; </div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dma_8c.html#a83e01cb3ebf3721ca1fd024940ed6aa6">dma_read_prp</a>(n, list, <span class="keyword">sizeof</span>(list), prp1, prp2);</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_aeb087910e36564f94d4dc54c6af7622c_cgraph.png" border="0" usemap="#nvme-admin_8c_aeb087910e36564f94d4dc54c6af7622c_cgraph" alt=""/></div>
<map name="nvme-admin_8c_aeb087910e36564f94d4dc54c6af7622c_cgraph" id="nvme-admin_8c_aeb087910e36564f94d4dc54c6af7622c_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,212,83"/>
<area shape="rect" href="dma_8c.html#a83e01cb3ebf3721ca1fd024940ed6aa6" title=" " alt="" coords="269,5,383,32"/>
<area shape="rect" href="nvme-admin_8c.html#a908e1383f81ed82cd271ecf3aa68f9a5" title=" " alt="" coords="285,56,367,83"/>
<area shape="rect" href="nvme-admin_8c.html#afa248954e6428b4efed7549f41e77f2b" title=" " alt="" coords="260,107,392,133"/>
<area shape="rect" href="dma_8c.html#aff05c76845a6cc08d0131d2761153493" title=" " alt="" coords="440,5,563,32"/>
<area shape="rect" href="dma_8c.html#a0ac25a907651fbfbf9710b15dc45e484" title=" " alt="" coords="611,5,741,32"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_aeb087910e36564f94d4dc54c6af7622c_icgraph.png" border="0" usemap="#nvme-admin_8c_aeb087910e36564f94d4dc54c6af7622c_icgraph" alt=""/></div>
<map name="nvme-admin_8c_aeb087910e36564f94d4dc54c6af7622c_icgraph" id="nvme-admin_8c_aeb087910e36564f94d4dc54c6af7622c_icgraph">
<area shape="rect" title=" " alt="" coords="1020,5,1227,32"/>
<area shape="rect" href="nvme-admin_8c.html#ae23b14397c30828a57903ec27a4c150c" title=" " alt="" coords="857,5,972,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="a9eeb98def2fad8039662200e9854b7e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9eeb98def2fad8039662200e9854b7e7">&#9670;&nbsp;</a></span>nvme_identify_nslist()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t nvme_identify_nslist </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFemuCtrl.html">FemuCtrl</a> *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeCmd.html">NvmeCmd</a> *&#160;</td>
          <td class="paramname"><em>cmd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;{</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <a class="code" href="structNvmeNamespace.html">NvmeNamespace</a> *ns;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <a class="code" href="structNvmeIdentity.html">NvmeIdentify</a> *c = (<a class="code" href="structNvmeIdentity.html">NvmeIdentify</a> *)cmd;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    uint32_t min_nsid = le32_to_cpu(c-&gt;<a class="code" href="structNvmeIdentity.html#a00384fddea98b5e53fde34ddc53260be">nsid</a>);</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    uint8_t list[<a class="code" href="nvme-admin_8c.html#a2b65aed5d655f3d24732cd3c6aa51ab9">NVME_IDENTIFY_DATA_SIZE</a>] = {};</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> data_len = <span class="keyword">sizeof</span>(list);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    uint32_t *list_ptr = (uint32_t *)list;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="keywordtype">int</span> i, j = 0;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    uint64_t prp1 = le64_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#a3b34c627a05e2a86edf1a93567422c8c">dptr</a>.<a class="code" href="unionNvmeCmdDptr.html#aaad95622d868c580eadba6c852bf961d">prp1</a>);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    uint64_t prp2 = le64_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#a3b34c627a05e2a86edf1a93567422c8c">dptr</a>.<a class="code" href="unionNvmeCmdDptr.html#a9fc9a97c707652c679097b32ffd84bc3">prp2</a>);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160; </div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment">     * Both 0xffffffff (NVME_NSID_BROADCAST) and 0xfffffffe are invalid values</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment">     * since the Active Namespace ID List should return namespaces with ids</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment">     * *higher* than the NSID specified in the command. This is also specified</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment">     * in the spec (NVM Express v1.3d, Section 5.15.4).</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordflow">if</span> (min_nsid &gt;= <a class="code" href="nvme_8h.html#aa0fc6c132edf52e49bbf4f575f08c0e0">NVME_NSID_BROADCAST</a> - 1) {</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a4c080463e158441c5b7b4000da2ed3e4">NVME_INVALID_NSID</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    }</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160; </div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="keywordflow">for</span> (i = 1; i &lt;= n-&gt;<a class="code" href="structFemuCtrl.html#a8bd3f2107e1a59779f7d6a669e29b5af">num_namespaces</a>; i++) {</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        ns = <a class="code" href="nvme-admin_8c.html#a908e1383f81ed82cd271ecf3aa68f9a5">nvme_ns</a>(n, i);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        <span class="keywordflow">if</span> (!ns) {</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        }</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <span class="keywordflow">if</span> (ns-&gt;<a class="code" href="structNvmeNamespace.html#aded48306fad86bd7ca9160443a24604d">id</a> &lt;= min_nsid) {</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        }</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        list_ptr[j++] = cpu_to_le32(ns-&gt;<a class="code" href="structNvmeNamespace.html#aded48306fad86bd7ca9160443a24604d">id</a>);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <span class="keywordflow">if</span> (j == data_len / <span class="keyword">sizeof</span>(uint32_t)) {</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        }</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    }</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160; </div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dma_8c.html#a83e01cb3ebf3721ca1fd024940ed6aa6">dma_read_prp</a>(n, list, data_len, prp1, prp2);</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_a9eeb98def2fad8039662200e9854b7e7_cgraph.png" border="0" usemap="#nvme-admin_8c_a9eeb98def2fad8039662200e9854b7e7_cgraph" alt=""/></div>
<map name="nvme-admin_8c_a9eeb98def2fad8039662200e9854b7e7_cgraph" id="nvme-admin_8c_a9eeb98def2fad8039662200e9854b7e7_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,163,57"/>
<area shape="rect" href="dma_8c.html#a83e01cb3ebf3721ca1fd024940ed6aa6" title=" " alt="" coords="211,5,325,32"/>
<area shape="rect" href="nvme-admin_8c.html#a908e1383f81ed82cd271ecf3aa68f9a5" title=" " alt="" coords="227,56,309,83"/>
<area shape="rect" href="dma_8c.html#aff05c76845a6cc08d0131d2761153493" title=" " alt="" coords="373,5,496,32"/>
<area shape="rect" href="dma_8c.html#a0ac25a907651fbfbf9710b15dc45e484" title=" " alt="" coords="544,5,675,32"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_a9eeb98def2fad8039662200e9854b7e7_icgraph.png" border="0" usemap="#nvme-admin_8c_a9eeb98def2fad8039662200e9854b7e7_icgraph" alt=""/></div>
<map name="nvme-admin_8c_a9eeb98def2fad8039662200e9854b7e7_icgraph" id="nvme-admin_8c_a9eeb98def2fad8039662200e9854b7e7_icgraph">
<area shape="rect" title=" " alt="" coords="1020,5,1177,32"/>
<area shape="rect" href="nvme-admin_8c.html#ae23b14397c30828a57903ec27a4c150c" title=" " alt="" coords="857,5,972,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="a1067c1ab64f621b7e8d68043437c04eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1067c1ab64f621b7e8d68043437c04eb">&#9670;&nbsp;</a></span>nvme_identify_nslist_csi()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t nvme_identify_nslist_csi </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFemuCtrl.html">FemuCtrl</a> *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeCmd.html">NvmeCmd</a> *&#160;</td>
          <td class="paramname"><em>cmd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;{</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <a class="code" href="structNvmeNamespace.html">NvmeNamespace</a> *ns;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <a class="code" href="structNvmeIdentity.html">NvmeIdentify</a> *c = (<a class="code" href="structNvmeIdentity.html">NvmeIdentify</a> *)cmd;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    uint32_t min_nsid = le32_to_cpu(c-&gt;<a class="code" href="structNvmeIdentity.html#a00384fddea98b5e53fde34ddc53260be">nsid</a>);</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    uint8_t list[<a class="code" href="nvme-admin_8c.html#a2b65aed5d655f3d24732cd3c6aa51ab9">NVME_IDENTIFY_DATA_SIZE</a>] = {};</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> data_len = <span class="keyword">sizeof</span>(list);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    uint32_t *list_ptr = (uint32_t *)list;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keywordtype">int</span> i, j = 0;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    uint64_t prp1 = le64_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#a3b34c627a05e2a86edf1a93567422c8c">dptr</a>.<a class="code" href="unionNvmeCmdDptr.html#aaad95622d868c580eadba6c852bf961d">prp1</a>);</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    uint64_t prp2 = le64_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#a3b34c627a05e2a86edf1a93567422c8c">dptr</a>.<a class="code" href="unionNvmeCmdDptr.html#a9fc9a97c707652c679097b32ffd84bc3">prp2</a>);</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160; </div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keywordflow">if</span> (min_nsid &gt;= <a class="code" href="nvme_8h.html#aa0fc6c132edf52e49bbf4f575f08c0e0">NVME_NSID_BROADCAST</a> - 1) {</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a4c080463e158441c5b7b4000da2ed3e4">NVME_INVALID_NSID</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    }</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160; </div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keywordflow">if</span> (c-&gt;<a class="code" href="structNvmeIdentity.html#a138423d987ea5aee71b51d7d580747d2">csi</a> != <a class="code" href="nvme_8h.html#a2342f477442526e6bc2aa046f9bd4a94a28181a48fe56de9ccab6eb11dd3fc9cc">NVME_CSI_NVM</a> &amp;&amp; c-&gt;<a class="code" href="structNvmeIdentity.html#a138423d987ea5aee71b51d7d580747d2">csi</a> != <a class="code" href="nvme_8h.html#a2342f477442526e6bc2aa046f9bd4a94a64b23085931f2a85c7105d303bb4a495">NVME_CSI_ZONED</a>) {</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a8b85ba3cbcb57ab6be06fdced051d11c">NVME_INVALID_FIELD</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    }</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160; </div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="keywordflow">for</span> (i = 1; i &lt;= n-&gt;<a class="code" href="structFemuCtrl.html#a8bd3f2107e1a59779f7d6a669e29b5af">num_namespaces</a>; i++) {</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        ns = <a class="code" href="nvme-admin_8c.html#a908e1383f81ed82cd271ecf3aa68f9a5">nvme_ns</a>(n, i);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <span class="keywordflow">if</span> (!ns) {</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        }</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        <span class="keywordflow">if</span> (ns-&gt;<a class="code" href="structNvmeNamespace.html#aded48306fad86bd7ca9160443a24604d">id</a> &lt;= min_nsid || c-&gt;<a class="code" href="structNvmeIdentity.html#a138423d987ea5aee71b51d7d580747d2">csi</a> != n-&gt;<a class="code" href="structFemuCtrl.html#a0b48d3c6cc09b094369348af59a3b096">csi</a>) {</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        }</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        list_ptr[j++] = cpu_to_le32(ns-&gt;<a class="code" href="structNvmeNamespace.html#aded48306fad86bd7ca9160443a24604d">id</a>);</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        <span class="keywordflow">if</span> (j == data_len / <span class="keyword">sizeof</span>(uint32_t)) {</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        }</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    }</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160; </div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dma_8c.html#a83e01cb3ebf3721ca1fd024940ed6aa6">dma_read_prp</a>(n, list, data_len, prp1, prp2);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_a1067c1ab64f621b7e8d68043437c04eb_cgraph.png" border="0" usemap="#nvme-admin_8c_a1067c1ab64f621b7e8d68043437c04eb_cgraph" alt=""/></div>
<map name="nvme-admin_8c_a1067c1ab64f621b7e8d68043437c04eb_cgraph" id="nvme-admin_8c_a1067c1ab64f621b7e8d68043437c04eb_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,188,57"/>
<area shape="rect" href="dma_8c.html#a83e01cb3ebf3721ca1fd024940ed6aa6" title=" " alt="" coords="236,5,351,32"/>
<area shape="rect" href="nvme-admin_8c.html#a908e1383f81ed82cd271ecf3aa68f9a5" title=" " alt="" coords="253,56,334,83"/>
<area shape="rect" href="dma_8c.html#aff05c76845a6cc08d0131d2761153493" title=" " alt="" coords="399,5,521,32"/>
<area shape="rect" href="dma_8c.html#a0ac25a907651fbfbf9710b15dc45e484" title=" " alt="" coords="569,5,700,32"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_a1067c1ab64f621b7e8d68043437c04eb_icgraph.png" border="0" usemap="#nvme-admin_8c_a1067c1ab64f621b7e8d68043437c04eb_icgraph" alt=""/></div>
<map name="nvme-admin_8c_a1067c1ab64f621b7e8d68043437c04eb_icgraph" id="nvme-admin_8c_a1067c1ab64f621b7e8d68043437c04eb_icgraph">
<area shape="rect" title=" " alt="" coords="1020,5,1203,32"/>
<area shape="rect" href="nvme-admin_8c.html#ae23b14397c30828a57903ec27a4c150c" title=" " alt="" coords="857,5,972,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="a908e1383f81ed82cd271ecf3aa68f9a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a908e1383f81ed82cd271ecf3aa68f9a5">&#9670;&nbsp;</a></span>nvme_ns()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structNvmeNamespace.html">NvmeNamespace</a>* nvme_ns </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFemuCtrl.html">FemuCtrl</a> *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>nsid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;{</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="keywordflow">if</span> (!nsid || nsid &gt; n-&gt;<a class="code" href="structFemuCtrl.html#a8bd3f2107e1a59779f7d6a669e29b5af">num_namespaces</a>) {</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    }</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160; </div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordflow">return</span> &amp;n-&gt;<a class="code" href="structFemuCtrl.html#a98ca6ff3bc65ccc7f98a589e018b7d71">namespaces</a>[nsid - 1];</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_a908e1383f81ed82cd271ecf3aa68f9a5_icgraph.png" border="0" usemap="#nvme-admin_8c_a908e1383f81ed82cd271ecf3aa68f9a5_icgraph" alt=""/></div>
<map name="nvme-admin_8c_a908e1383f81ed82cd271ecf3aa68f9a5_icgraph" id="nvme-admin_8c_a908e1383f81ed82cd271ecf3aa68f9a5_icgraph">
<area shape="rect" title=" " alt="" coords="1275,107,1356,133"/>
<area shape="rect" href="nvme-admin_8c.html#a9896b513919b735c2049dd8e59d588c0" title=" " alt="" coords="1055,5,1192,32"/>
<area shape="rect" href="nvme-admin_8c.html#a50ae77ec77f7a89c1a067df80c5cd767" title=" " alt="" coords="1042,56,1205,83"/>
<area shape="rect" href="nvme-admin_8c.html#aeb087910e36564f94d4dc54c6af7622c" title=" " alt="" coords="1020,107,1227,133"/>
<area shape="rect" href="nvme-admin_8c.html#a9eeb98def2fad8039662200e9854b7e7" title=" " alt="" coords="1045,157,1202,184"/>
<area shape="rect" href="nvme-admin_8c.html#a1067c1ab64f621b7e8d68043437c04eb" title=" " alt="" coords="1032,208,1215,235"/>
<area shape="rect" href="nvme-admin_8c.html#ae23b14397c30828a57903ec27a4c150c" title=" " alt="" coords="857,107,972,133"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="667,107,809,133"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,107,619,133"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,107,384,133"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,107,149,133"/>
</map>
</div>

</div>
</div>
<a id="afa248954e6428b4efed7549f41e77f2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa248954e6428b4efed7549f41e77f2b">&#9670;&nbsp;</a></span>nvme_nsid_valid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool nvme_nsid_valid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFemuCtrl.html">FemuCtrl</a> *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>nsid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;{</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">return</span> nsid &amp;&amp; (nsid == <a class="code" href="nvme_8h.html#aa0fc6c132edf52e49bbf4f575f08c0e0">NVME_NSID_BROADCAST</a> || nsid &lt;= n-&gt;<a class="code" href="structFemuCtrl.html#a8bd3f2107e1a59779f7d6a669e29b5af">num_namespaces</a>);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_afa248954e6428b4efed7549f41e77f2b_icgraph.png" border="0" usemap="#nvme-admin_8c_afa248954e6428b4efed7549f41e77f2b_icgraph" alt=""/></div>
<map name="nvme-admin_8c_afa248954e6428b4efed7549f41e77f2b_icgraph" id="nvme-admin_8c_afa248954e6428b4efed7549f41e77f2b_icgraph">
<area shape="rect" title=" " alt="" coords="1275,56,1407,83"/>
<area shape="rect" href="nvme-admin_8c.html#a9896b513919b735c2049dd8e59d588c0" title=" " alt="" coords="1055,5,1192,32"/>
<area shape="rect" href="nvme-admin_8c.html#a50ae77ec77f7a89c1a067df80c5cd767" title=" " alt="" coords="1042,56,1205,83"/>
<area shape="rect" href="nvme-admin_8c.html#aeb087910e36564f94d4dc54c6af7622c" title=" " alt="" coords="1020,107,1227,133"/>
<area shape="rect" href="nvme-admin_8c.html#ae23b14397c30828a57903ec27a4c150c" title=" " alt="" coords="857,56,972,83"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="667,56,809,83"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,56,619,83"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,56,384,83"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,56,149,83"/>
</map>
</div>

</div>
</div>
<a id="a7042f589909852500d6f26c36b78850b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7042f589909852500d6f26c36b78850b">&#9670;&nbsp;</a></span>nvme_process_sq_admin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nvme_process_sq_admin </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>opaque</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;{</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    <a class="code" href="structNvmeSQueue.html">NvmeSQueue</a> *sq = opaque;</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    <a class="code" href="structFemuCtrl.html">FemuCtrl</a> *n = sq-&gt;<a class="code" href="structNvmeSQueue.html#a09944fa7acccfc87c0c8440aeacc3dc7">ctrl</a>;</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <a class="code" href="structNvmeCQueue.html">NvmeCQueue</a> *cq = n-&gt;<a class="code" href="structFemuCtrl.html#a380a277dfc1bb8f2a192f6244a3f4fdb">cq</a>[sq-&gt;<a class="code" href="structNvmeSQueue.html#a201708806f82565f9dc80a1649f11246">cqid</a>];</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160; </div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    uint16_t status;</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    hwaddr addr;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    <a class="code" href="structNvmeCmd.html">NvmeCmd</a> cmd;</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    <a class="code" href="structNvmeCqe.html">NvmeCqe</a> cqe;</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160; </div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    <span class="keywordflow">while</span> (!(<a class="code" href="nvme-util_8c.html#a4fdc790b9e67ae29e3ef256182ed345b">nvme_sq_empty</a>(sq))) {</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;        <span class="keywordflow">if</span> (sq-&gt;<a class="code" href="structNvmeSQueue.html#abb10aae49e80be9c67dd28f484514adb">phys_contig</a>) {</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;            addr = sq-&gt;<a class="code" href="structNvmeSQueue.html#a7e289d563e907e4a724af16364350602">dma_addr</a> + sq-&gt;<a class="code" href="structNvmeSQueue.html#aec83bc34b2dd3541fda15c0279348264">head</a> * n-&gt;<a class="code" href="structFemuCtrl.html#a3cbec385b70e8c6a03b463e00ac08d92">sqe_size</a>;</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;            addr = <a class="code" href="nvme_8h.html#ab5c77706290dc892f52e14dfe39504b6">nvme_discontig</a>(sq-&gt;<a class="code" href="structNvmeSQueue.html#a168092b36fc33b9d4367f36613e9eb9d">prp_list</a>, sq-&gt;<a class="code" href="structNvmeSQueue.html#aec83bc34b2dd3541fda15c0279348264">head</a>, n-&gt;<a class="code" href="structFemuCtrl.html#a6d0418e38e888b2b8980a34198bfd463">page_size</a>,</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;                    n-&gt;<a class="code" href="structFemuCtrl.html#a3cbec385b70e8c6a03b463e00ac08d92">sqe_size</a>);</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;        }</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;        <a class="code" href="dma_8c.html#a0ac25a907651fbfbf9710b15dc45e484">nvme_addr_read</a>(n, addr, (<span class="keywordtype">void</span> *)&amp;cmd, <span class="keyword">sizeof</span>(cmd));</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;        <a class="code" href="nvme-util_8c.html#a0c728e2926a6efc38005202a2b224647">nvme_inc_sq_head</a>(sq);</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160; </div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;        memset(&amp;cqe, 0, <span class="keyword">sizeof</span>(cqe));</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160; </div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;        status = <a class="code" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1">nvme_admin_cmd</a>(n, &amp;cmd, &amp;cqe);</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;        cqe.<a class="code" href="structNvmeCqe.html#a8e87b5e0e44fd97e1e92f41c851eb764">cid</a> = cmd.cid;</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;        cqe.<a class="code" href="structNvmeCqe.html#af30104c7014aee1c55b68672efc0c143">status</a> = cpu_to_le16(status &lt;&lt; 1 | cq-&gt;<a class="code" href="structNvmeCQueue.html#a550822923ef54d73d7efa7f4bf6159c3">phase</a>);</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;        cqe.<a class="code" href="structNvmeCqe.html#a7717de66db45f6ca9c69bc3880825aee">sq_id</a> = cpu_to_le16(sq-&gt;<a class="code" href="structNvmeSQueue.html#ac5aa365b6e571542994f682254a5e457">sqid</a>);</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;        cqe.<a class="code" href="structNvmeCqe.html#a4707dde71101275a917c49286b4178c4">sq_head</a> = cpu_to_le16(sq-&gt;<a class="code" href="structNvmeSQueue.html#aec83bc34b2dd3541fda15c0279348264">head</a>);</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160; </div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;        <span class="keywordflow">if</span> (cq-&gt;<a class="code" href="structNvmeCQueue.html#a376ae99c71a9fb4157bd4fb45b2a5090">phys_contig</a>) {</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;            addr = cq-&gt;<a class="code" href="structNvmeCQueue.html#a212c26a71132a5d3ca6e4c3992773235">dma_addr</a> + cq-&gt;<a class="code" href="structNvmeCQueue.html#a8ecbdfc4863d2633f279c2ae70dff1dd">tail</a> * n-&gt;<a class="code" href="structFemuCtrl.html#ac4f8d305f94dfd341fe6e7f39c06c47c">cqe_size</a>;</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;            addr = <a class="code" href="nvme_8h.html#ab5c77706290dc892f52e14dfe39504b6">nvme_discontig</a>(cq-&gt;<a class="code" href="structNvmeCQueue.html#abee73fe2f6a1749b69ee6edf4b08f751">prp_list</a>, cq-&gt;<a class="code" href="structNvmeCQueue.html#a8ecbdfc4863d2633f279c2ae70dff1dd">tail</a>, n-&gt;<a class="code" href="structFemuCtrl.html#a6d0418e38e888b2b8980a34198bfd463">page_size</a>, n-&gt;<a class="code" href="structFemuCtrl.html#ac4f8d305f94dfd341fe6e7f39c06c47c">cqe_size</a>);</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;        }</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;        <a class="code" href="dma_8c.html#a08f51254313a657c3826f77e6bd9a1b8">nvme_addr_write</a>(n, addr, (<span class="keywordtype">void</span> *)&amp;cqe, <span class="keyword">sizeof</span>(cqe));</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;        <a class="code" href="nvme-util_8c.html#a1983cbf62a2b154bc0c1e8f01f2bb1b6">nvme_inc_cq_tail</a>(cq);</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;        <a class="code" href="intr_8c.html#ab8fc684c66f6970e095cb683d02426d5">nvme_isr_notify_admin</a>(cq);</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    }</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_a7042f589909852500d6f26c36b78850b_cgraph.png" border="0" usemap="#nvme-admin_8c_a7042f589909852500d6f26c36b78850b_cgraph" alt=""/></div>
<map name="nvme-admin_8c_a7042f589909852500d6f26c36b78850b_cgraph" id="nvme-admin_8c_a7042f589909852500d6f26c36b78850b_cgraph">
<area shape="rect" title=" " alt="" coords="5,503,192,530"/>
<area shape="rect" href="dma_8c.html#a0ac25a907651fbfbf9710b15dc45e484" title=" " alt="" coords="725,215,855,242"/>
<area shape="rect" href="dma_8c.html#a08f51254313a657c3826f77e6bd9a1b8" title=" " alt="" coords="1179,266,1313,292"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="256,478,399,504"/>
<area shape="rect" href="nvme_8h.html#ab5c77706290dc892f52e14dfe39504b6" title=" " alt="" coords="727,266,853,292"/>
<area shape="rect" href="nvme-util_8c.html#a1983cbf62a2b154bc0c1e8f01f2bb1b6" title=" " alt="" coords="260,528,395,555"/>
<area shape="rect" href="nvme-util_8c.html#a0c728e2926a6efc38005202a2b224647" title=" " alt="" coords="254,579,401,606"/>
<area shape="rect" href="intr_8c.html#ab8fc684c66f6970e095cb683d02426d5" title=" " alt="" coords="240,630,415,656"/>
<area shape="rect" href="nvme-util_8c.html#a4fdc790b9e67ae29e3ef256182ed345b" title=" " alt="" coords="262,680,393,707"/>
<area shape="rect" href="nvme-admin_8c.html#abd65f91764a2624cdc4e608f3dc7932e" title=" " alt="" coords="487,367,615,394"/>
<area shape="rect" href="nvme-admin_8c.html#af3ddf1e4e280aa3f367a5b2b44879b41" title=" " alt="" coords="486,164,615,191"/>
<area shape="rect" href="nvme-admin_8c.html#a2c43f1bdb51a2e35c2ecdb9ed9db64ec" title=" " alt="" coords="486,420,615,447"/>
<area shape="rect" href="nvme-admin_8c.html#ac1090eb738e0aa389ef5a647e647a09f" title=" " alt="" coords="497,316,605,343"/>
<area shape="rect" href="nvme-admin_8c.html#a6f5c22b725b5eca5912f17066e95cf67" title=" " alt="" coords="497,478,605,504"/>
<area shape="rect" href="nvme-admin_8c.html#af11a6f9497c3496eb41dda00362bac96" title=" " alt="" coords="495,540,606,567"/>
<area shape="rect" href="nvme-admin_8c.html#abf593ed87b332bec6cb6fca0e2bed1be" title=" " alt="" coords="480,718,621,744"/>
<area shape="rect" href="nvme-admin_8c.html#ace67c34426486b78b1b20cba61ab28b8" title=" " alt="" coords="493,848,608,875"/>
<area shape="rect" href="nvme-admin_8c.html#ae23b14397c30828a57903ec27a4c150c" title=" " alt="" coords="493,1152,608,1179"/>
<area shape="rect" href="nvme-admin_8c.html#a8b2764426b75545dfc03229b811607eb" title=" " alt="" coords="465,1203,636,1230"/>
<area shape="rect" href="nvme-admin_8c.html#ad712f926297fd28d117c32d18e3566dc" title=" " alt="" coords="481,616,621,643"/>
<area shape="rect" href="nvme-util_8c.html#ab586dd53da50fb72e2a7359e5f5ce7b6" title=" " alt="" coords="721,418,859,444"/>
<area shape="rect" href="nvme-util_8c.html#a7c210df43397e8f04e184a472f8efe0e" title=" " alt="" coords="721,316,859,343"/>
<area shape="rect" href="nvme-util_8c.html#accdd9730e70228b02a109051bcd3ac93" title=" " alt="" coords="733,164,847,191"/>
<area shape="rect" href="nvme-util_8c.html#a6410408d19dd2986cba9a815d25871a8" title=" " alt="" coords="735,114,845,140"/>
<area shape="rect" href="intr_8c.html#aa6089f663c0aef824344bde303c46238" title=" " alt="" coords="723,63,857,90"/>
<area shape="rect" href="nvme-util_8c.html#a9d8a42fcd63a79e262250aa8f54522da" title=" " alt="" coords="952,266,1120,292"/>
<area shape="rect" href="intr_8c.html#a4546f8dc3153b6b272979b26d9ee3a5f" title=" " alt="" coords="941,114,1131,140"/>
<area shape="rect" href="intr_8c.html#a404cdb00218c3c3b27c4048b43d7d8db" title=" " alt="" coords="945,164,1127,191"/>
<area shape="rect" href="intr_8c.html#aef207536dce0a636e5d7c2467c73110a" title=" " alt="" coords="961,63,1111,90"/>
<area shape="rect" href="nvme-util_8c.html#ac3b74834e78afe9ce3db5074e8398a0f" title=" " alt="" coords="735,468,845,495"/>
<area shape="rect" href="nvme-util_8c.html#ae00a56019ece0039e9a209dfa7bc398e" title=" " alt="" coords="733,519,847,546"/>
<area shape="rect" href="nvme-io_8c.html#a03a3accd495e0b00d01b80e009af5c9f" title=" " alt="" coords="715,570,865,596"/>
<area shape="rect" href="nvme-admin_8c.html#a1068e4177c9ff25ec1cc15b18d26356b" title=" " alt="" coords="694,620,886,647"/>
<area shape="rect" href="dma_8c.html#a83e01cb3ebf3721ca1fd024940ed6aa6" title=" " alt="" coords="979,1076,1093,1103"/>
<area shape="rect" href="nvme_8h.html#ae412c484b40ac7903597a299757a7a83" title=" " alt="" coords="718,772,862,799"/>
<area shape="rect" href="nvme-admin_8c.html#aff81480a8e081d70ea6fc2b09a02af21" title=" " alt="" coords="717,874,863,900"/>
<area shape="rect" href="nvme-admin_8c.html#a4e3add88b587075ed1a120f75f73ea44" title=" " alt="" coords="712,924,868,951"/>
<area shape="rect" href="nvme-admin_8c.html#a295e47dd4c386bd7ad30d98ea4b45929" title=" " alt="" coords="720,975,860,1002"/>
<area shape="rect" href="nvme-admin_8c.html#af7d9ef3eb88525869cf3506520028cf0" title=" " alt="" coords="722,823,858,850"/>
<area shape="rect" href="nvme-admin_8c.html#a834f603280a3a10a14da324da6bd9a62" title=" " alt="" coords="701,1330,879,1356"/>
<area shape="rect" href="nvme-admin_8c.html#a6a27adda12530ad69ecc17512ede9ddd" title=" " alt="" coords="719,1380,861,1407"/>
<area shape="rect" href="nvme-admin_8c.html#a7db584730c5821def2e8208f0aaf3f05" title=" " alt="" coords="706,1026,874,1052"/>
<area shape="rect" href="nvme-admin_8c.html#a9896b513919b735c2049dd8e59d588c0" title=" " alt="" coords="721,1076,859,1103"/>
<area shape="rect" href="nvme-admin_8c.html#a50ae77ec77f7a89c1a067df80c5cd767" title=" " alt="" coords="709,1127,871,1154"/>
<area shape="rect" href="nvme-admin_8c.html#aeb087910e36564f94d4dc54c6af7622c" title=" " alt="" coords="687,1178,893,1204"/>
<area shape="rect" href="nvme-admin_8c.html#a9eeb98def2fad8039662200e9854b7e7" title=" " alt="" coords="711,1228,869,1255"/>
<area shape="rect" href="nvme-admin_8c.html#a1067c1ab64f621b7e8d68043437c04eb" title=" " alt="" coords="699,1279,881,1306"/>
<area shape="rect" href="nvme-io_8c.html#a81f7e8af7ddcdfe9bef6af6c0333462d" title=" " alt="" coords="715,1431,865,1458"/>
<area shape="rect" href="dma_8c.html#adef0f21bc237d992b4ae8b29258645a8" title=" " alt="" coords="731,671,849,698"/>
<area shape="rect" href="intr_8c.html#a1bcc1a1b3495a3ea33365a4afaf44b0a" title=" " alt="" coords="463,1254,639,1280"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_a7042f589909852500d6f26c36b78850b_icgraph.png" border="0" usemap="#nvme-admin_8c_a7042f589909852500d6f26c36b78850b_icgraph" alt=""/></div>
<map name="nvme-admin_8c_a7042f589909852500d6f26c36b78850b_icgraph" id="nvme-admin_8c_a7042f589909852500d6f26c36b78850b_icgraph">
<area shape="rect" title=" " alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="a4288308db73b3aa30b0c2253ffabd2d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4288308db73b3aa30b0c2253ffabd2d5">&#9670;&nbsp;</a></span>nvme_rpt_empty_id_struct()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t nvme_rpt_empty_id_struct </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFemuCtrl.html">FemuCtrl</a> *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeCmd.html">NvmeCmd</a> *&#160;</td>
          <td class="paramname"><em>cmd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;{</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    uint64_t prp1 = le64_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#a3b34c627a05e2a86edf1a93567422c8c">dptr</a>.<a class="code" href="unionNvmeCmdDptr.html#aaad95622d868c580eadba6c852bf961d">prp1</a>);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    uint64_t prp2 = le64_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#a3b34c627a05e2a86edf1a93567422c8c">dptr</a>.<a class="code" href="unionNvmeCmdDptr.html#a9fc9a97c707652c679097b32ffd84bc3">prp2</a>);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    uint8_t <span class="keywordtype">id</span>[<a class="code" href="nvme-admin_8c.html#a2b65aed5d655f3d24732cd3c6aa51ab9">NVME_IDENTIFY_DATA_SIZE</a>] = {};</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160; </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dma_8c.html#a83e01cb3ebf3721ca1fd024940ed6aa6">dma_read_prp</a>(n, <span class="keywordtype">id</span>, <span class="keyword">sizeof</span>(<span class="keywordtype">id</span>), prp1, prp2);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_a4288308db73b3aa30b0c2253ffabd2d5_cgraph.png" border="0" usemap="#nvme-admin_8c_a4288308db73b3aa30b0c2253ffabd2d5_cgraph" alt=""/></div>
<map name="nvme-admin_8c_a4288308db73b3aa30b0c2253ffabd2d5_cgraph" id="nvme-admin_8c_a4288308db73b3aa30b0c2253ffabd2d5_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,201,32"/>
<area shape="rect" href="dma_8c.html#a83e01cb3ebf3721ca1fd024940ed6aa6" title=" " alt="" coords="249,5,364,32"/>
<area shape="rect" href="dma_8c.html#aff05c76845a6cc08d0131d2761153493" title=" " alt="" coords="412,5,535,32"/>
<area shape="rect" href="dma_8c.html#a0ac25a907651fbfbf9710b15dc45e484" title=" " alt="" coords="583,5,713,32"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_a4288308db73b3aa30b0c2253ffabd2d5_icgraph.png" border="0" usemap="#nvme-admin_8c_a4288308db73b3aa30b0c2253ffabd2d5_icgraph" alt=""/></div>
<map name="nvme-admin_8c_a4288308db73b3aa30b0c2253ffabd2d5_icgraph" id="nvme-admin_8c_a4288308db73b3aa30b0c2253ffabd2d5_icgraph">
<area shape="rect" title=" " alt="" coords="1236,56,1432,83"/>
<area shape="rect" href="nvme-admin_8c.html#a7db584730c5821def2e8208f0aaf3f05" title=" " alt="" coords="1020,5,1188,32"/>
<area shape="rect" href="nvme-admin_8c.html#a9896b513919b735c2049dd8e59d588c0" title=" " alt="" coords="1035,56,1173,83"/>
<area shape="rect" href="nvme-admin_8c.html#a50ae77ec77f7a89c1a067df80c5cd767" title=" " alt="" coords="1023,107,1185,133"/>
<area shape="rect" href="nvme-admin_8c.html#ae23b14397c30828a57903ec27a4c150c" title=" " alt="" coords="857,56,972,83"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="667,56,809,83"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,56,619,83"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,56,384,83"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,56,149,83"/>
</map>
</div>

</div>
</div>
<a id="a8b2764426b75545dfc03229b811607eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b2764426b75545dfc03229b811607eb">&#9670;&nbsp;</a></span>nvme_set_db_memory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t nvme_set_db_memory </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFemuCtrl.html">FemuCtrl</a> *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structNvmeCmd.html">NvmeCmd</a> *&#160;</td>
          <td class="paramname"><em>cmd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;{</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    uint64_t dbs_addr = le64_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#a3b34c627a05e2a86edf1a93567422c8c">dptr</a>.<a class="code" href="unionNvmeCmdDptr.html#aaad95622d868c580eadba6c852bf961d">prp1</a>);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    uint64_t eis_addr = le64_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#a3b34c627a05e2a86edf1a93567422c8c">dptr</a>.<a class="code" href="unionNvmeCmdDptr.html#a9fc9a97c707652c679097b32ffd84bc3">prp2</a>);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    uint8_t stride = n-&gt;<a class="code" href="structFemuCtrl.html#a4f7a49ec4c0d8551955122bf9ddb73c5">db_stride</a>;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keywordtype">int</span> dbbuf_entry_sz = 1 &lt;&lt; (2 + stride);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    AddressSpace *as = pci_get_address_space(&amp;n-&gt;<a class="code" href="structFemuCtrl.html#a9d862ea82682f6232413280b92ddc4d1">parent_obj</a>);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    dma_addr_t dbs_tlen = n-&gt;<a class="code" href="structFemuCtrl.html#a6d0418e38e888b2b8980a34198bfd463">page_size</a>, eis_tlen = n-&gt;<a class="code" href="structFemuCtrl.html#a6d0418e38e888b2b8980a34198bfd463">page_size</a>;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="comment">/* Addresses should not be NULL and should be page aligned. */</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">if</span> (dbs_addr == 0 || dbs_addr &amp; (n-&gt;<a class="code" href="structFemuCtrl.html#a6d0418e38e888b2b8980a34198bfd463">page_size</a> - 1) ||</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            eis_addr == 0 || eis_addr &amp; (n-&gt;<a class="code" href="structFemuCtrl.html#a6d0418e38e888b2b8980a34198bfd463">page_size</a> - 1)) {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a8b85ba3cbcb57ab6be06fdced051d11c">NVME_INVALID_FIELD</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    }</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    n-&gt;<a class="code" href="structFemuCtrl.html#a9eed30c84e2fdec251abd2d112aa857a">dbs_addr</a> = dbs_addr;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    n-&gt;<a class="code" href="structFemuCtrl.html#a6f86d8c1d2b5365aef55a5d879316868">eis_addr</a> = eis_addr;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    n-&gt;<a class="code" href="structFemuCtrl.html#a8deef2eb4dfac999392c54657407b645">dbs_addr_hva</a> = (uint64_t)dma_memory_map(as, dbs_addr, &amp;dbs_tlen, 0);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    n-&gt;<a class="code" href="structFemuCtrl.html#a525d33d10ee74874b135c7899fe80847">eis_addr_hva</a> = (uint64_t)dma_memory_map(as, eis_addr, &amp;eis_tlen, 0);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160; </div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt;= n-&gt;<a class="code" href="structFemuCtrl.html#ab09f359cd5d2e1882bd8a04046becf28">num_io_queues</a>; i++) {</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <a class="code" href="structNvmeSQueue.html">NvmeSQueue</a> *sq = n-&gt;<a class="code" href="structFemuCtrl.html#a9f37c1e2d56205e4c7d0015aa9af44e2">sq</a>[i];</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <a class="code" href="structNvmeCQueue.html">NvmeCQueue</a> *cq = n-&gt;<a class="code" href="structFemuCtrl.html#a380a277dfc1bb8f2a192f6244a3f4fdb">cq</a>[i];</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160; </div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <span class="keywordflow">if</span> (sq) {</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            <span class="comment">/* Submission queue tail pointer location, 2 * QID * stride. */</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            sq-&gt;<a class="code" href="structNvmeSQueue.html#a6c854ba52b14d2f7bbc195451d41dc6d">db_addr</a> = dbs_addr + 2 * i * dbbuf_entry_sz;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            sq-&gt;<a class="code" href="structNvmeSQueue.html#a0328aeea530626544944138d5a1bca54">db_addr_hva</a> = n-&gt;<a class="code" href="structFemuCtrl.html#a8deef2eb4dfac999392c54657407b645">dbs_addr_hva</a> + 2 * i * dbbuf_entry_sz;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            sq-&gt;<a class="code" href="structNvmeSQueue.html#a019c28f2b0e28a7c7d0f511de65b5045">eventidx_addr</a> = eis_addr + 2 * i * dbbuf_entry_sz;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            sq-&gt;<a class="code" href="structNvmeSQueue.html#a8bb4d3fdefc90c08fb147071153c112d">eventidx_addr_hva</a> = n-&gt;<a class="code" href="structFemuCtrl.html#a525d33d10ee74874b135c7899fe80847">eis_addr_hva</a> + 2 * i * dbbuf_entry_sz;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            <a class="code" href="nvme_8h.html#aef2bfc05ccbdba79aef90226efe46ad4">femu_debug</a>(<span class="stringliteral">&quot;DBBUF,sq[%d]:db=%&quot;</span> PRIu64 <span class="stringliteral">&quot;,ei=%&quot;</span> PRIu64 <span class="stringliteral">&quot;\n&quot;</span>, i,</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                    sq-&gt;<a class="code" href="structNvmeSQueue.html#a6c854ba52b14d2f7bbc195451d41dc6d">db_addr</a>, sq-&gt;<a class="code" href="structNvmeSQueue.html#a019c28f2b0e28a7c7d0f511de65b5045">eventidx_addr</a>);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <span class="keywordflow">if</span> (cq) {</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            <span class="comment">/* Completion queue head pointer location, (2 * QID + 1) * stride. */</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            cq-&gt;<a class="code" href="structNvmeCQueue.html#a90d654f42e288f38b3ff2df34ed71eda">db_addr</a> = dbs_addr + (2 * i + 1) * dbbuf_entry_sz;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            cq-&gt;<a class="code" href="structNvmeCQueue.html#a38b8318d3c3040f22eff1fff5f1482e5">db_addr_hva</a> = n-&gt;<a class="code" href="structFemuCtrl.html#a8deef2eb4dfac999392c54657407b645">dbs_addr_hva</a> + (2 * i + 1) * dbbuf_entry_sz;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            cq-&gt;<a class="code" href="structNvmeCQueue.html#acae37027eeb09a4a07017b099f3faabe">eventidx_addr</a> = eis_addr + (2 * i + 1) * dbbuf_entry_sz;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            cq-&gt;<a class="code" href="structNvmeCQueue.html#af31e498d59d5db90e6fe9d1e7127119d">eventidx_addr_hva</a> = n-&gt;<a class="code" href="structFemuCtrl.html#a525d33d10ee74874b135c7899fe80847">eis_addr_hva</a> + (2 * i + 1) * dbbuf_entry_sz;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            <a class="code" href="nvme_8h.html#aef2bfc05ccbdba79aef90226efe46ad4">femu_debug</a>(<span class="stringliteral">&quot;DBBUF,cq[%d]:db=%&quot;</span> PRIu64 <span class="stringliteral">&quot;,ei=%&quot;</span> PRIu64 <span class="stringliteral">&quot;\n&quot;</span>, i,</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                    cq-&gt;<a class="code" href="structNvmeCQueue.html#a90d654f42e288f38b3ff2df34ed71eda">db_addr</a>, cq-&gt;<a class="code" href="structNvmeCQueue.html#acae37027eeb09a4a07017b099f3faabe">eventidx_addr</a>);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        }</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    }</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    assert(n-&gt;<a class="code" href="structFemuCtrl.html#a6291ffd43b13aa9c7bc871a7e1bb4a11">dataplane_started</a> == <span class="keyword">false</span>);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordflow">if</span> (!n-&gt;<a class="code" href="structFemuCtrl.html#a0a9669e4a908e3dd0b732c8d69b88a6d">poller_on</a>) {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <span class="comment">/* Coperd: make sure this only run once across all controller resets */</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        <a class="code" href="nvme-io_8c.html#a81f7e8af7ddcdfe9bef6af6c0333462d">nvme_create_poller</a>(n);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        n-&gt;<a class="code" href="structFemuCtrl.html#a0a9669e4a908e3dd0b732c8d69b88a6d">poller_on</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    }</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    n-&gt;<a class="code" href="structFemuCtrl.html#a6291ffd43b13aa9c7bc871a7e1bb4a11">dataplane_started</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <a class="code" href="nvme_8h.html#aef2bfc05ccbdba79aef90226efe46ad4">femu_debug</a>(<span class="stringliteral">&quot;nvme_set_db_memory returns SUCCESS!\n&quot;</span>);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a3268f6be90861f0c2270d86a44d5b09c">NVME_SUCCESS</a>;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_a8b2764426b75545dfc03229b811607eb_cgraph.png" border="0" usemap="#nvme-admin_8c_a8b2764426b75545dfc03229b811607eb_cgraph" alt=""/></div>
<map name="nvme-admin_8c_a8b2764426b75545dfc03229b811607eb_cgraph" id="nvme-admin_8c_a8b2764426b75545dfc03229b811607eb_cgraph">
<area shape="rect" title=" " alt="" coords="5,271,176,297"/>
<area shape="rect" href="nvme-io_8c.html#a81f7e8af7ddcdfe9bef6af6c0333462d" title=" " alt="" coords="224,271,375,297"/>
<area shape="rect" href="nvme-io_8c.html#a667ab7f8de6f02e513acd0c14c0407e9" title=" " alt="" coords="453,68,528,95"/>
<area shape="rect" href="rte__ring_8h.html#a6bc92444f7239ca27c5a89de99f5f4ac" title=" " alt="" coords="423,119,559,145"/>
<area shape="rect" href="nvme-io_8c.html#a2b5cc5f1e45642543fa0bfe8db2dd428" title=" " alt="" coords="454,169,527,196"/>
<area shape="rect" href="nvme-io_8c.html#a4d0ede8cb67c2a87a6af7ba60b878b86" title=" " alt="" coords="457,220,524,247"/>
<area shape="rect" href="nvme-io_8c.html#acb7bf552fb77faee4d0aa021d51af4b7" title=" " alt="" coords="439,321,542,348"/>
<area shape="rect" href="pqueue_8h.html#a2c27c13ed1c988e9fc7b259e6820ca8c" title=" " alt="" coords="441,372,540,399"/>
<area shape="rect" href="rte__ring_8h.html#abf9a7cda8ef5a62ee0a286c11d45d1bf" title=" " alt="" coords="628,220,749,247"/>
<area shape="rect" href="nvme-io_8c.html#af3708eed16007bc4b715785d1ea06cd0" title=" " alt="" coords="455,423,527,449"/>
<area shape="rect" href="nvme-io_8c.html#a4201ce0351a86f139fa684f7b963f867" title=" " alt="" coords="457,473,524,500"/>
<area shape="rect" href="rte__ring_8c.html#a122812947c00f9ed3066232accf5fa5a" title=" " alt="" coords="629,81,749,108"/>
<area shape="rect" href="rte__ring_8h.html#a5a85fd1038be9376de166494057e6aa1" title=" " alt="" coords="1087,95,1217,121"/>
<area shape="rect" href="rte__ring_8c.html#ac29f8523d355c107377858bdeb468486" title=" " alt="" coords="834,56,1001,83"/>
<area shape="rect" href="rte__ring_8c.html#a7a44f25853c926ac1b29562857244366" title=" " alt="" coords="867,5,967,32"/>
<area shape="rect" href="nvme-io_8c.html#a581e208522e056298eed5248b50af242" title=" " alt="" coords="607,385,771,412"/>
<area shape="rect" href="nvme-io_8c.html#aaa8fe64369c3e7b33785cabed5a4cbde" title=" " alt="" coords="610,841,767,868"/>
<area shape="rect" href="nvme_8h.html#acd64982aef4cb1864b53952a92068c27" title=" " alt="" coords="884,613,951,640"/>
<area shape="rect" href="rte__ring_8h.html#a96ef17a77ac3deecdb8a1fb71b6bdf63" title=" " alt="" coords="852,208,983,235"/>
<area shape="rect" href="rte__ring_8h.html#ab2417e0e85ffd0e61ec4b0ee263ab809" title=" " alt="" coords="842,309,993,336"/>
<area shape="rect" href="intr_8c.html#ac07d39a331aa32f4da4f27f31f1abc1c" title=" " alt="" coords="845,360,990,387"/>
<area shape="rect" href="nvme-io_8c.html#aa412c2f46a5bc43ac2234173c9743abe" title=" " alt="" coords="855,461,979,488"/>
<area shape="rect" href="pqueue_8h.html#addd8cdfbc8c47b8cdd7eb4c4560de7aa" title=" " alt="" coords="860,411,975,437"/>
<area shape="rect" href="pqueue_8h.html#a2919d3e817688b81da746d4123f51ba3" title=" " alt="" coords="863,512,972,539"/>
<area shape="rect" href="pqueue_8h.html#abec9363c7a9cc89190bf0925a4a1652c" title=" " alt="" coords="867,259,968,285"/>
<area shape="rect" href="pqueue_8h.html#ae0cf88c8360a5f08ada81feaaeb40505" title=" " alt="" coords="866,563,969,589"/>
<area shape="rect" href="rte__ring_8h.html#abc8376d2c6e609707d52032860880b34" title=" " alt="" coords="1095,171,1209,197"/>
<area shape="rect" href="rte__ring_8h.html#a8742d4b89ce43dbd93cc2ef48518ccf0" title=" " alt="" coords="1065,309,1239,336"/>
<area shape="rect" href="rte__ring_8h.html#a201b5c512389dd58216906866aba1ec5" title=" " alt="" coords="1288,309,1460,336"/>
<area shape="rect" href="intr_8c.html#a1bcc1a1b3495a3ea33365a4afaf44b0a" title=" " alt="" coords="1064,360,1240,387"/>
<area shape="rect" href="dma_8c.html#a08f51254313a657c3826f77e6bd9a1b8" title=" " alt="" coords="1085,667,1219,693"/>
<area shape="rect" href="nvme_8h.html#ab5c77706290dc892f52e14dfe39504b6" title=" " alt="" coords="1089,547,1215,573"/>
<area shape="rect" href="nvme-util_8c.html#a1983cbf62a2b154bc0c1e8f01f2bb1b6" title=" " alt="" coords="1085,461,1219,488"/>
<area shape="rect" href="pqueue_8c.html#a918fcd7df850b9a0c17111abc9c323b1" title=" " alt="" coords="1107,411,1197,437"/>
<area shape="rect" href="pqueue_8c.html#a69ad19c161ae75369d1a444c83f4600c" title=" " alt="" coords="1089,259,1215,285"/>
<area shape="rect" href="pqueue_8c.html#a3e99f0cb15bfac6eeee46df9c875073a" title=" " alt="" coords="1333,259,1415,285"/>
<area shape="rect" href="rte__ring_8h.html#a3afc06d02f63e84fe1569c99955af57a" title=" " alt="" coords="842,1031,993,1057"/>
<area shape="rect" href="dma_8c.html#a0ac25a907651fbfbf9710b15dc45e484" title=" " alt="" coords="1309,1005,1439,1032"/>
<area shape="rect" href="nvme-io_8c.html#aa9fdaa77f86c065d69d158184951be32" title=" " alt="" coords="851,765,983,792"/>
<area shape="rect" href="nvme-util_8c.html#a0c728e2926a6efc38005202a2b224647" title=" " alt="" coords="844,867,991,893"/>
<area shape="rect" href="nvme-io_8c.html#ae6d2b4ae7957a876e1e221b7f2ee1fb8" title=" " alt="" coords="861,917,974,944"/>
<area shape="rect" href="nvme-util_8c.html#a4fdc790b9e67ae29e3ef256182ed345b" title=" " alt="" coords="852,715,983,741"/>
<area shape="rect" href="nvme-io_8c.html#aa8cac05ad399a3b98a28abe2c89b5509" title=" " alt="" coords="819,816,1016,843"/>
<area shape="rect" href="nvme-util_8c.html#a21b2434a9d5f978d0b4cf9661820ca63" title=" " alt="" coords="1071,1005,1233,1032"/>
<area shape="rect" href="rte__ring_8h.html#ab8debfb458e927d559e7ce750048502d" title=" " alt="" coords="1067,1056,1237,1083"/>
<area shape="rect" href="nvme-io_8c.html#a1ea0938f847741b1399583080d7bd9ae" title=" " alt="" coords="1091,752,1213,779"/>
<area shape="rect" href="nvme-io_8c.html#ae1f6c99fbfdd8d6c788ee82c6d13086d" title=" " alt="" coords="1105,904,1199,931"/>
<area shape="rect" href="nvme-io_8c.html#a0ecae506951d74f3dc9826f76e133d81" title=" " alt="" coords="1103,955,1201,981"/>
<area shape="rect" href="nvme-io_8c.html#a646ae4b9455eb7bf01b18eea275a2379" title=" " alt="" coords="1081,803,1223,829"/>
<area shape="rect" href="nvme-io_8c.html#ae3fe0206159ec6d704c59e7393b6d85c" title=" " alt="" coords="1081,853,1223,880"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_a8b2764426b75545dfc03229b811607eb_icgraph.png" border="0" usemap="#nvme-admin_8c_a8b2764426b75545dfc03229b811607eb_icgraph" alt=""/></div>
<map name="nvme-admin_8c_a8b2764426b75545dfc03229b811607eb_icgraph" id="nvme-admin_8c_a8b2764426b75545dfc03229b811607eb_icgraph">
<area shape="rect" title=" " alt="" coords="857,5,1028,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="ad712f926297fd28d117c32d18e3566dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad712f926297fd28d117c32d18e3566dc">&#9670;&nbsp;</a></span>nvme_set_feature()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t nvme_set_feature </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFemuCtrl.html">FemuCtrl</a> *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeCmd.html">NvmeCmd</a> *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeCqe.html">NvmeCqe</a> *&#160;</td>
          <td class="paramname"><em>cqe</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;{</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <a class="code" href="structNvmeRangeType.html">NvmeRangeType</a> *rt;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    uint32_t dw10 = le32_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#ab217950fc2408f7a848af10f36b0cd8f">cdw10</a>);</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    uint32_t dw11 = le32_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#a542065d60952eff1b4de0fdf3ecb5b29">cdw11</a>);</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    uint32_t nsid = le32_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#aa0daded9eb948cb9c13ae14a0852ed08">nsid</a>);</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    uint64_t prp1 = le64_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#a3b34c627a05e2a86edf1a93567422c8c">dptr</a>.<a class="code" href="unionNvmeCmdDptr.html#aaad95622d868c580eadba6c852bf961d">prp1</a>);</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    uint64_t prp2 = le64_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#a3b34c627a05e2a86edf1a93567422c8c">dptr</a>.<a class="code" href="unionNvmeCmdDptr.html#a9fc9a97c707652c679097b32ffd84bc3">prp2</a>);</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160; </div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <span class="keywordflow">switch</span> (dw10) {</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a4a839eb668ded988a682e6cbf0b337f9a60cff59fa05a82754282f95a12a746cc">NVME_ARBITRATION</a>:</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        cqe-&gt;<a class="code" href="structNvmeCqe.html#a04d90512c54de01e2e60649ecd1ea2e9">n</a>.result = cpu_to_le32(n-&gt;<a class="code" href="structFemuCtrl.html#a4bd5012806e5cda6eb475cb787f4be3d">features</a>.<a class="code" href="structNvmeFeatureVal.html#a58f1323ae312b9d4781f1bb8d3a30e0f">arbitration</a>);</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        n-&gt;<a class="code" href="structFemuCtrl.html#a4bd5012806e5cda6eb475cb787f4be3d">features</a>.<a class="code" href="structNvmeFeatureVal.html#a58f1323ae312b9d4781f1bb8d3a30e0f">arbitration</a> = dw11;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a4a839eb668ded988a682e6cbf0b337f9adc5f6071d7ed2b4b797845788987d467">NVME_POWER_MANAGEMENT</a>:</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        n-&gt;<a class="code" href="structFemuCtrl.html#a4bd5012806e5cda6eb475cb787f4be3d">features</a>.<a class="code" href="structNvmeFeatureVal.html#ad0949f4a41576cf534231a8ceb73bec7">power_mgmt</a> = dw11;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a4a839eb668ded988a682e6cbf0b337f9a6e35aeafb8118eaa3cb3da7c76f5478c">NVME_LBA_RANGE_TYPE</a>:</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        <span class="keywordflow">if</span> (nsid == 0 || nsid &gt; n-&gt;<a class="code" href="structFemuCtrl.html#a8bd3f2107e1a59779f7d6a669e29b5af">num_namespaces</a>) {</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a4c080463e158441c5b7b4000da2ed3e4">NVME_INVALID_NSID</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        }</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        rt = n-&gt;<a class="code" href="structFemuCtrl.html#a98ca6ff3bc65ccc7f98a589e018b7d71">namespaces</a>[nsid - 1].<a class="code" href="structNvmeNamespace.html#a36234dd5b24e40e6c5ef51058d0cfbaf">lba_range</a>;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="dma_8c.html#adef0f21bc237d992b4ae8b29258645a8">dma_write_prp</a>(n, (uint8_t *)rt,</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                MIN(<span class="keyword">sizeof</span>(*rt), (dw11 &amp; 0x3f) * <span class="keyword">sizeof</span>(*rt)),</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                prp1, prp2);</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a4a839eb668ded988a682e6cbf0b337f9a82205e373f1a9340794494312d1cfea1">NVME_NUMBER_OF_QUEUES</a>:</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        <span class="comment">/* Coperd: num_io_queues is 0-based */</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        cqe-&gt;<a class="code" href="structNvmeCqe.html#a04d90512c54de01e2e60649ecd1ea2e9">n</a>.result = cpu_to_le32((n-&gt;<a class="code" href="structFemuCtrl.html#ab09f359cd5d2e1882bd8a04046becf28">num_io_queues</a> - 1) |</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;                ((n-&gt;<a class="code" href="structFemuCtrl.html#ab09f359cd5d2e1882bd8a04046becf28">num_io_queues</a> - 1) &lt;&lt; 16));</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a4a839eb668ded988a682e6cbf0b337f9afba914c18c70ad9ed8ceda8605a8449d">NVME_TEMPERATURE_THRESHOLD</a>:</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        n-&gt;<a class="code" href="structFemuCtrl.html#a4bd5012806e5cda6eb475cb787f4be3d">features</a>.<a class="code" href="structNvmeFeatureVal.html#a8462a22290ca55a344ab3047aa1d55bd">temp_thresh</a> = dw11;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        <span class="keywordflow">if</span> (n-&gt;<a class="code" href="structFemuCtrl.html#a4bd5012806e5cda6eb475cb787f4be3d">features</a>.<a class="code" href="structNvmeFeatureVal.html#a8462a22290ca55a344ab3047aa1d55bd">temp_thresh</a> &lt;= n-&gt;<a class="code" href="structFemuCtrl.html#ada17b92a62409a544d72524c34cfe8e4">temperature</a> &amp;&amp; !n-&gt;<a class="code" href="structFemuCtrl.html#a76662c7f1b9027edb1088c28b811c335">temp_warn_issued</a>) {</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;            n-&gt;<a class="code" href="structFemuCtrl.html#a76662c7f1b9027edb1088c28b811c335">temp_warn_issued</a> = 1;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (n-&gt;<a class="code" href="structFemuCtrl.html#a4bd5012806e5cda6eb475cb787f4be3d">features</a>.<a class="code" href="structNvmeFeatureVal.html#a8462a22290ca55a344ab3047aa1d55bd">temp_thresh</a> &gt; n-&gt;<a class="code" href="structFemuCtrl.html#ada17b92a62409a544d72524c34cfe8e4">temperature</a> &amp;&amp;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;                !(n-&gt;<a class="code" href="structFemuCtrl.html#a45247e5e62c92173076f634f536ba62f">aer_mask</a> &amp; 1 &lt;&lt; <a class="code" href="nvme_8h.html#a984776745dc393d9516716738a918922ae85183c5e4231385ba8df51a5c65c913">NVME_AER_TYPE_SMART</a>)) {</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;            n-&gt;<a class="code" href="structFemuCtrl.html#a76662c7f1b9027edb1088c28b811c335">temp_warn_issued</a> = 0;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        }</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a4a839eb668ded988a682e6cbf0b337f9a639d1d4a213e04288a037dd8d4cb9e20">NVME_ERROR_RECOVERY</a>:</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        n-&gt;<a class="code" href="structFemuCtrl.html#a4bd5012806e5cda6eb475cb787f4be3d">features</a>.<a class="code" href="structNvmeFeatureVal.html#a63adb2ba3685f4bf39e7375c37be8b14">err_rec</a> = dw11;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a4a839eb668ded988a682e6cbf0b337f9a6557de53c613773d79c3fded23975221">NVME_VOLATILE_WRITE_CACHE</a>:</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        n-&gt;<a class="code" href="structFemuCtrl.html#a4bd5012806e5cda6eb475cb787f4be3d">features</a>.<a class="code" href="structNvmeFeatureVal.html#a3425f02bb96f18760ef44b0e0a055741">volatile_wc</a> = dw11;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a4a839eb668ded988a682e6cbf0b337f9a2209f76e484de16a87bd3f60c0f9ad10">NVME_INTERRUPT_COALESCING</a>:</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        n-&gt;<a class="code" href="structFemuCtrl.html#a4bd5012806e5cda6eb475cb787f4be3d">features</a>.<a class="code" href="structNvmeFeatureVal.html#a484359e6104d0f3bfc1f3a81189497d7">int_coalescing</a> = dw11;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a4a839eb668ded988a682e6cbf0b337f9adfcc384847fbafc0fe4223f66f53ea4e">NVME_INTERRUPT_VECTOR_CONF</a>:</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        <span class="keywordflow">if</span> ((dw11 &amp; 0xffff) &gt; n-&gt;<a class="code" href="structFemuCtrl.html#ab09f359cd5d2e1882bd8a04046becf28">num_io_queues</a>) {</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a8b85ba3cbcb57ab6be06fdced051d11c">NVME_INVALID_FIELD</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        }</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        n-&gt;<a class="code" href="structFemuCtrl.html#a4bd5012806e5cda6eb475cb787f4be3d">features</a>.<a class="code" href="structNvmeFeatureVal.html#a392d23a7bae9920c1573f7c601419ea7">int_vector_config</a>[dw11 &amp; 0xffff] = dw11 &amp; 0x1ffff;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a4a839eb668ded988a682e6cbf0b337f9aecddfc72198446c44bfe5ac17575c29a">NVME_WRITE_ATOMICITY</a>:</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        n-&gt;<a class="code" href="structFemuCtrl.html#a4bd5012806e5cda6eb475cb787f4be3d">features</a>.<a class="code" href="structNvmeFeatureVal.html#a2d973610d2446267d4290905c373407a">write_atomicity</a> = dw11;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a4a839eb668ded988a682e6cbf0b337f9ae41692366ed6ceacca3568d562c8b407">NVME_ASYNCHRONOUS_EVENT_CONF</a>:</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        n-&gt;<a class="code" href="structFemuCtrl.html#a4bd5012806e5cda6eb475cb787f4be3d">features</a>.<a class="code" href="structNvmeFeatureVal.html#a36ec14134ad2d2e9e12ee59cf8c7f8b2">async_config</a> = dw11;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="nvme_8h.html#a4a839eb668ded988a682e6cbf0b337f9a4d1eddbbd76fa0dd2ee3170f5952a862">NVME_SOFTWARE_PROGRESS_MARKER</a>:</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        n-&gt;<a class="code" href="structFemuCtrl.html#a4bd5012806e5cda6eb475cb787f4be3d">features</a>.<a class="code" href="structNvmeFeatureVal.html#a877d533f2292d0b48b8fa51a0982e7be">sw_prog_marker</a> = dw11;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a8b85ba3cbcb57ab6be06fdced051d11c">NVME_INVALID_FIELD</a> | <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a>;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    }</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160; </div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a3268f6be90861f0c2270d86a44d5b09c">NVME_SUCCESS</a>;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_ad712f926297fd28d117c32d18e3566dc_cgraph.png" border="0" usemap="#nvme-admin_8c_ad712f926297fd28d117c32d18e3566dc_cgraph" alt=""/></div>
<map name="nvme-admin_8c_ad712f926297fd28d117c32d18e3566dc_cgraph" id="nvme-admin_8c_ad712f926297fd28d117c32d18e3566dc_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,145,32"/>
<area shape="rect" href="dma_8c.html#adef0f21bc237d992b4ae8b29258645a8" title=" " alt="" coords="193,5,312,32"/>
<area shape="rect" href="dma_8c.html#aff05c76845a6cc08d0131d2761153493" title=" " alt="" coords="360,5,483,32"/>
<area shape="rect" href="dma_8c.html#a0ac25a907651fbfbf9710b15dc45e484" title=" " alt="" coords="531,5,661,32"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_ad712f926297fd28d117c32d18e3566dc_icgraph.png" border="0" usemap="#nvme-admin_8c_ad712f926297fd28d117c32d18e3566dc_icgraph" alt=""/></div>
<map name="nvme-admin_8c_ad712f926297fd28d117c32d18e3566dc_icgraph" id="nvme-admin_8c_ad712f926297fd28d117c32d18e3566dc_icgraph">
<area shape="rect" title=" " alt="" coords="857,5,997,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="af7d9ef3eb88525869cf3506520028cf0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7d9ef3eb88525869cf3506520028cf0">&#9670;&nbsp;</a></span>nvme_smart_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t nvme_smart_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFemuCtrl.html">FemuCtrl</a> *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structNvmeCmd.html">NvmeCmd</a> *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>buf_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;{</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    uint64_t prp1 = le64_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#a3b34c627a05e2a86edf1a93567422c8c">dptr</a>.<a class="code" href="unionNvmeCmdDptr.html#aaad95622d868c580eadba6c852bf961d">prp1</a>);</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    uint64_t prp2 = le64_to_cpu(cmd-&gt;<a class="code" href="structNvmeCmd.html#a3b34c627a05e2a86edf1a93567422c8c">dptr</a>.<a class="code" href="unionNvmeCmdDptr.html#a9fc9a97c707652c679097b32ffd84bc3">prp2</a>);</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160; </div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    uint32_t trans_len;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    time_t current_seconds;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <a class="code" href="structNvmeSmartLog.html">NvmeSmartLog</a> smart;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160; </div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    trans_len = MIN(<span class="keyword">sizeof</span>(smart), buf_len);</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    memset(&amp;smart, 0x0, <span class="keyword">sizeof</span>(smart));</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    smart.<a class="code" href="structNvmeSmartLog.html#aeba9bddba6accf5b5aeb4ae00cc0613c">data_units_read</a>[0] = cpu_to_le64(0);</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    smart.<a class="code" href="structNvmeSmartLog.html#a1d5a52ca94b9af18392eaa568432c60e">data_units_written</a>[0] = cpu_to_le64(0);</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    smart.<a class="code" href="structNvmeSmartLog.html#aa9b3d156aa69c2ee44f1539fc3c509cf">host_read_commands</a>[0] = cpu_to_le64(0);</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    smart.<a class="code" href="structNvmeSmartLog.html#abc8868ecb1b7cf486d9f4bce11a75d96">host_write_commands</a>[0] = cpu_to_le64(0);</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160; </div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    smart.<a class="code" href="structNvmeSmartLog.html#ae226eb57d620b84a7401ddbb7f6aac70">number_of_error_log_entries</a>[0] = cpu_to_le64(n-&gt;<a class="code" href="structFemuCtrl.html#a6461a7eda526fcc86770a43380615b7c">num_errors</a>);</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    smart.<a class="code" href="structNvmeSmartLog.html#a01879f6bed7352501f1577de1e187a2f">temperature</a>[0] = n-&gt;<a class="code" href="structFemuCtrl.html#ada17b92a62409a544d72524c34cfe8e4">temperature</a> &amp; 0xff;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    smart.<a class="code" href="structNvmeSmartLog.html#a01879f6bed7352501f1577de1e187a2f">temperature</a>[1] = (n-&gt;<a class="code" href="structFemuCtrl.html#ada17b92a62409a544d72524c34cfe8e4">temperature</a> &gt;&gt; 8) &amp; 0xff;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160; </div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    current_seconds = time(NULL);</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    smart.<a class="code" href="structNvmeSmartLog.html#a3c71d90e6a3d7366315e90257ec5b6b2">power_on_hours</a>[0] = cpu_to_le64(</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;        ((current_seconds - n-&gt;<a class="code" href="structFemuCtrl.html#a9d1a8fc9f8a06cfff7668affaa2fbbf6">start_time</a>) / 60) / 60);</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160; </div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    smart.<a class="code" href="structNvmeSmartLog.html#a22c2f976aa9a8a3e13a6f9b401f8774a">available_spare_threshold</a> = <a class="code" href="nvme_8h.html#a9d822b5bc01693c1ba6297c247dc2897">NVME_SPARE_THRESHOLD</a>;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <span class="keywordflow">if</span> (smart.<a class="code" href="structNvmeSmartLog.html#aa0935a50a577278a952f9e0e5bceb7a2">available_spare</a> &lt;= <a class="code" href="nvme_8h.html#a9d822b5bc01693c1ba6297c247dc2897">NVME_SPARE_THRESHOLD</a>) {</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        smart.<a class="code" href="structNvmeSmartLog.html#a10c9c8ee78e97e4a3ae2d6fd7de28190">critical_warning</a> |= <a class="code" href="nvme_8h.html#a7f06ce121f8c162a3d431948f82a781bab14bdc34229430a70bc407d797a3bd79">NVME_SMART_SPARE</a>;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    }</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="keywordflow">if</span> (n-&gt;<a class="code" href="structFemuCtrl.html#a4bd5012806e5cda6eb475cb787f4be3d">features</a>.<a class="code" href="structNvmeFeatureVal.html#a8462a22290ca55a344ab3047aa1d55bd">temp_thresh</a> &lt;= n-&gt;<a class="code" href="structFemuCtrl.html#ada17b92a62409a544d72524c34cfe8e4">temperature</a>) {</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        smart.<a class="code" href="structNvmeSmartLog.html#a10c9c8ee78e97e4a3ae2d6fd7de28190">critical_warning</a> |= <a class="code" href="nvme_8h.html#a7f06ce121f8c162a3d431948f82a781baf4d0bf4bed020a990ca8b74802f1439e">NVME_SMART_TEMPERATURE</a>;</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    }</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160; </div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    n-&gt;<a class="code" href="structFemuCtrl.html#a45247e5e62c92173076f634f536ba62f">aer_mask</a> &amp;= ~(1 &lt;&lt; <a class="code" href="nvme_8h.html#a984776745dc393d9516716738a918922ae85183c5e4231385ba8df51a5c65c913">NVME_AER_TYPE_SMART</a>);</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160; </div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dma_8c.html#a83e01cb3ebf3721ca1fd024940ed6aa6">dma_read_prp</a>(n, (uint8_t *)&amp;smart, trans_len, prp1, prp2);</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_af7d9ef3eb88525869cf3506520028cf0_cgraph.png" border="0" usemap="#nvme-admin_8c_af7d9ef3eb88525869cf3506520028cf0_cgraph" alt=""/></div>
<map name="nvme-admin_8c_af7d9ef3eb88525869cf3506520028cf0_cgraph" id="nvme-admin_8c_af7d9ef3eb88525869cf3506520028cf0_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,141,32"/>
<area shape="rect" href="dma_8c.html#a83e01cb3ebf3721ca1fd024940ed6aa6" title=" " alt="" coords="189,5,304,32"/>
<area shape="rect" href="dma_8c.html#aff05c76845a6cc08d0131d2761153493" title=" " alt="" coords="352,5,475,32"/>
<area shape="rect" href="dma_8c.html#a0ac25a907651fbfbf9710b15dc45e484" title=" " alt="" coords="523,5,653,32"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="nvme-admin_8c_af7d9ef3eb88525869cf3506520028cf0_icgraph.png" border="0" usemap="#nvme-admin_8c_af7d9ef3eb88525869cf3506520028cf0_icgraph" alt=""/></div>
<map name="nvme-admin_8c_af7d9ef3eb88525869cf3506520028cf0_icgraph" id="nvme-admin_8c_af7d9ef3eb88525869cf3506520028cf0_icgraph">
<area shape="rect" title=" " alt="" coords="1020,5,1156,32"/>
<area shape="rect" href="nvme-admin_8c.html#ace67c34426486b78b1b20cba61ab28b8" title=" " alt="" coords="857,5,972,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">变量说明</h2>
<a id="aea2f9a310930687c4298773a3e9c1612"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea2f9a310930687c4298773a3e9c1612">&#9670;&nbsp;</a></span>nvme_cse_acs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint32_t nvme_cse_acs[256]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>初始值:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    [<a class="code" href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2a417ffb2d4b3b805a596e05734e4a277b">NVME_ADM_CMD_DELETE_SQ</a>]        = <a class="code" href="nvme_8h.html#a385c44f6fb256e5716a2302a5b940388aa96fee4290456a0cb31701e59834fc04">NVME_CMD_EFF_CSUPP</a>,</div>
<div class="line">    [<a class="code" href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2a9fe26376ca7f7f260e56724d5ca8d7ba">NVME_ADM_CMD_CREATE_SQ</a>]        = <a class="code" href="nvme_8h.html#a385c44f6fb256e5716a2302a5b940388aa96fee4290456a0cb31701e59834fc04">NVME_CMD_EFF_CSUPP</a>,</div>
<div class="line">    [<a class="code" href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2a647d011a38718d421b6441e08e5519ab">NVME_ADM_CMD_GET_LOG_PAGE</a>]     = <a class="code" href="nvme_8h.html#a385c44f6fb256e5716a2302a5b940388aa96fee4290456a0cb31701e59834fc04">NVME_CMD_EFF_CSUPP</a>,</div>
<div class="line">    [<a class="code" href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2a8df5d7d60a4198a9036e6c2b7005241e">NVME_ADM_CMD_DELETE_CQ</a>]        = <a class="code" href="nvme_8h.html#a385c44f6fb256e5716a2302a5b940388aa96fee4290456a0cb31701e59834fc04">NVME_CMD_EFF_CSUPP</a>,</div>
<div class="line">    [<a class="code" href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2a2628e50d0a8811c53926a07090883b7e">NVME_ADM_CMD_CREATE_CQ</a>]        = <a class="code" href="nvme_8h.html#a385c44f6fb256e5716a2302a5b940388aa96fee4290456a0cb31701e59834fc04">NVME_CMD_EFF_CSUPP</a>,</div>
<div class="line">    [<a class="code" href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2a30d757882f74173a6571542b16a90f62">NVME_ADM_CMD_IDENTIFY</a>]         = <a class="code" href="nvme_8h.html#a385c44f6fb256e5716a2302a5b940388aa96fee4290456a0cb31701e59834fc04">NVME_CMD_EFF_CSUPP</a>,</div>
<div class="line">    [<a class="code" href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2a7a0e1726646532b948fb1d8b377bad37">NVME_ADM_CMD_ABORT</a>]            = <a class="code" href="nvme_8h.html#a385c44f6fb256e5716a2302a5b940388aa96fee4290456a0cb31701e59834fc04">NVME_CMD_EFF_CSUPP</a>,</div>
<div class="line">    [<a class="code" href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2a6e5a3b773a6dd50a3c81c87c23815346">NVME_ADM_CMD_SET_FEATURES</a>]     = <a class="code" href="nvme_8h.html#a385c44f6fb256e5716a2302a5b940388aa96fee4290456a0cb31701e59834fc04">NVME_CMD_EFF_CSUPP</a>,</div>
<div class="line">    [<a class="code" href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2a652e2c2c1bdde8e600c920e4ec442570">NVME_ADM_CMD_GET_FEATURES</a>]     = <a class="code" href="nvme_8h.html#a385c44f6fb256e5716a2302a5b940388aa96fee4290456a0cb31701e59834fc04">NVME_CMD_EFF_CSUPP</a>,</div>
<div class="line">    [<a class="code" href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2a93a81a4a544e0244cbad00915c2bb20a">NVME_ADM_CMD_ASYNC_EV_REQ</a>]     = <a class="code" href="nvme_8h.html#a385c44f6fb256e5716a2302a5b940388aa96fee4290456a0cb31701e59834fc04">NVME_CMD_EFF_CSUPP</a>,</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3d75f111de790b87949e3c7bf2d4ea04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d75f111de790b87949e3c7bf2d4ea04">&#9670;&nbsp;</a></span>nvme_cse_iocs_nvm</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint32_t nvme_cse_iocs_nvm[256]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>初始值:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    [<a class="code" href="nvme_8h.html#a01e3a918ff89282c841471f5d797fbf6a95c9b9c84ed8581bc4a06c07611e594c">NVME_CMD_FLUSH</a>]                = <a class="code" href="nvme_8h.html#a385c44f6fb256e5716a2302a5b940388aa96fee4290456a0cb31701e59834fc04">NVME_CMD_EFF_CSUPP</a> | <a class="code" href="nvme_8h.html#a385c44f6fb256e5716a2302a5b940388abb43a71db274146e970ac1e4d59d1fc8">NVME_CMD_EFF_LBCC</a>,</div>
<div class="line">    [<a class="code" href="nvme_8h.html#a01e3a918ff89282c841471f5d797fbf6a012d1c22c46c99812568a7a7857eff90">NVME_CMD_WRITE_ZEROES</a>]         = <a class="code" href="nvme_8h.html#a385c44f6fb256e5716a2302a5b940388aa96fee4290456a0cb31701e59834fc04">NVME_CMD_EFF_CSUPP</a> | <a class="code" href="nvme_8h.html#a385c44f6fb256e5716a2302a5b940388abb43a71db274146e970ac1e4d59d1fc8">NVME_CMD_EFF_LBCC</a>,</div>
<div class="line">    [<a class="code" href="nvme_8h.html#a01e3a918ff89282c841471f5d797fbf6af12c69a9bdf0ad418e4a144ef5424336">NVME_CMD_WRITE</a>]                = <a class="code" href="nvme_8h.html#a385c44f6fb256e5716a2302a5b940388aa96fee4290456a0cb31701e59834fc04">NVME_CMD_EFF_CSUPP</a> | <a class="code" href="nvme_8h.html#a385c44f6fb256e5716a2302a5b940388abb43a71db274146e970ac1e4d59d1fc8">NVME_CMD_EFF_LBCC</a>,</div>
<div class="line">    [<a class="code" href="nvme_8h.html#a01e3a918ff89282c841471f5d797fbf6a13421e16e166f06ef616c86258232336">NVME_CMD_READ</a>]                 = <a class="code" href="nvme_8h.html#a385c44f6fb256e5716a2302a5b940388aa96fee4290456a0cb31701e59834fc04">NVME_CMD_EFF_CSUPP</a>,</div>
<div class="line">    [<a class="code" href="nvme_8h.html#a01e3a918ff89282c841471f5d797fbf6a324318d7d84def33dd8a53724f14ab10">NVME_CMD_DSM</a>]                  = <a class="code" href="nvme_8h.html#a385c44f6fb256e5716a2302a5b940388aa96fee4290456a0cb31701e59834fc04">NVME_CMD_EFF_CSUPP</a> | <a class="code" href="nvme_8h.html#a385c44f6fb256e5716a2302a5b940388abb43a71db274146e970ac1e4d59d1fc8">NVME_CMD_EFF_LBCC</a>,</div>
<div class="line">    [<a class="code" href="nvme_8h.html#a01e3a918ff89282c841471f5d797fbf6ada1d765c850987feea79854f0141694b">NVME_CMD_COMPARE</a>]              = <a class="code" href="nvme_8h.html#a385c44f6fb256e5716a2302a5b940388aa96fee4290456a0cb31701e59834fc04">NVME_CMD_EFF_CSUPP</a>,</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1e2e18c22d91a9627bba1982011c2d56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e2e18c22d91a9627bba1982011c2d56">&#9670;&nbsp;</a></span>nvme_cse_iocs_zoned</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint32_t nvme_cse_iocs_zoned[256]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>初始值:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    [<a class="code" href="nvme_8h.html#a01e3a918ff89282c841471f5d797fbf6a95c9b9c84ed8581bc4a06c07611e594c">NVME_CMD_FLUSH</a>]                = <a class="code" href="nvme_8h.html#a385c44f6fb256e5716a2302a5b940388aa96fee4290456a0cb31701e59834fc04">NVME_CMD_EFF_CSUPP</a> | <a class="code" href="nvme_8h.html#a385c44f6fb256e5716a2302a5b940388abb43a71db274146e970ac1e4d59d1fc8">NVME_CMD_EFF_LBCC</a>,</div>
<div class="line">    [<a class="code" href="nvme_8h.html#a01e3a918ff89282c841471f5d797fbf6a012d1c22c46c99812568a7a7857eff90">NVME_CMD_WRITE_ZEROES</a>]         = <a class="code" href="nvme_8h.html#a385c44f6fb256e5716a2302a5b940388aa96fee4290456a0cb31701e59834fc04">NVME_CMD_EFF_CSUPP</a> | <a class="code" href="nvme_8h.html#a385c44f6fb256e5716a2302a5b940388abb43a71db274146e970ac1e4d59d1fc8">NVME_CMD_EFF_LBCC</a>,</div>
<div class="line">    [<a class="code" href="nvme_8h.html#a01e3a918ff89282c841471f5d797fbf6af12c69a9bdf0ad418e4a144ef5424336">NVME_CMD_WRITE</a>]                = <a class="code" href="nvme_8h.html#a385c44f6fb256e5716a2302a5b940388aa96fee4290456a0cb31701e59834fc04">NVME_CMD_EFF_CSUPP</a> | <a class="code" href="nvme_8h.html#a385c44f6fb256e5716a2302a5b940388abb43a71db274146e970ac1e4d59d1fc8">NVME_CMD_EFF_LBCC</a>,</div>
<div class="line">    [<a class="code" href="nvme_8h.html#a01e3a918ff89282c841471f5d797fbf6a13421e16e166f06ef616c86258232336">NVME_CMD_READ</a>]                 = <a class="code" href="nvme_8h.html#a385c44f6fb256e5716a2302a5b940388aa96fee4290456a0cb31701e59834fc04">NVME_CMD_EFF_CSUPP</a>,</div>
<div class="line">    [<a class="code" href="nvme_8h.html#a01e3a918ff89282c841471f5d797fbf6a324318d7d84def33dd8a53724f14ab10">NVME_CMD_DSM</a>]                  = <a class="code" href="nvme_8h.html#a385c44f6fb256e5716a2302a5b940388aa96fee4290456a0cb31701e59834fc04">NVME_CMD_EFF_CSUPP</a> | <a class="code" href="nvme_8h.html#a385c44f6fb256e5716a2302a5b940388abb43a71db274146e970ac1e4d59d1fc8">NVME_CMD_EFF_LBCC</a>,</div>
<div class="line">    [<a class="code" href="nvme_8h.html#a01e3a918ff89282c841471f5d797fbf6ada1d765c850987feea79854f0141694b">NVME_CMD_COMPARE</a>]              = <a class="code" href="nvme_8h.html#a385c44f6fb256e5716a2302a5b940388aa96fee4290456a0cb31701e59834fc04">NVME_CMD_EFF_CSUPP</a>,</div>
<div class="line">    [<a class="code" href="nvme_8h.html#a01e3a918ff89282c841471f5d797fbf6af03a6460a154989e7816c9518c281422">NVME_CMD_ZONE_APPEND</a>]          = <a class="code" href="nvme_8h.html#a385c44f6fb256e5716a2302a5b940388aa96fee4290456a0cb31701e59834fc04">NVME_CMD_EFF_CSUPP</a> | <a class="code" href="nvme_8h.html#a385c44f6fb256e5716a2302a5b940388abb43a71db274146e970ac1e4d59d1fc8">NVME_CMD_EFF_LBCC</a>,</div>
<div class="line">    [<a class="code" href="nvme_8h.html#a01e3a918ff89282c841471f5d797fbf6a9c323c2099e3f3da156bb6896b824724">NVME_CMD_ZONE_MGMT_SEND</a>]       = <a class="code" href="nvme_8h.html#a385c44f6fb256e5716a2302a5b940388aa96fee4290456a0cb31701e59834fc04">NVME_CMD_EFF_CSUPP</a> | <a class="code" href="nvme_8h.html#a385c44f6fb256e5716a2302a5b940388abb43a71db274146e970ac1e4d59d1fc8">NVME_CMD_EFF_LBCC</a>,</div>
<div class="line">    [<a class="code" href="nvme_8h.html#a01e3a918ff89282c841471f5d797fbf6aa4fe58ce24eda3bf7e1e5e3c22470b30">NVME_CMD_ZONE_MGMT_RECV</a>]       = <a class="code" href="nvme_8h.html#a385c44f6fb256e5716a2302a5b940388aa96fee4290456a0cb31701e59834fc04">NVME_CMD_EFF_CSUPP</a>,</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="adma_8c_html_adef0f21bc237d992b4ae8b29258645a8"><div class="ttname"><a href="dma_8c.html#adef0f21bc237d992b4ae8b29258645a8">dma_write_prp</a></div><div class="ttdeci">uint16_t dma_write_prp(FemuCtrl *n, uint8_t *ptr, uint32_t len, uint64_t prp1, uint64_t prp2)</div><div class="ttdef"><b>Definition:</b> dma.c:112</div></div>
<div class="ttc" id="astructNvmeCmd_html_ad190f17cf3c0c25282639e880d57c464"><div class="ttname"><a href="structNvmeCmd.html#ad190f17cf3c0c25282639e880d57c464">NvmeCmd::cdw15</a></div><div class="ttdeci">uint32_t cdw15</div><div class="ttdef"><b>Definition:</b> nvme.h:305</div></div>
<div class="ttc" id="astructNvmeCQueue_html"><div class="ttname"><a href="structNvmeCQueue.html">NvmeCQueue</a></div><div class="ttdef"><b>Definition:</b> nvme.h:1028</div></div>
<div class="ttc" id="anvme-admin_8c_html_afa248954e6428b4efed7549f41e77f2b"><div class="ttname"><a href="nvme-admin_8c.html#afa248954e6428b4efed7549f41e77f2b">nvme_nsid_valid</a></div><div class="ttdeci">static bool nvme_nsid_valid(FemuCtrl *n, uint32_t nsid)</div><div class="ttdef"><b>Definition:</b> nvme-admin.c:265</div></div>
<div class="ttc" id="anvme_8h_html_a7f06ce121f8c162a3d431948f82a781baf4d0bf4bed020a990ca8b74802f1439e"><div class="ttname"><a href="nvme_8h.html#a7f06ce121f8c162a3d431948f82a781baf4d0bf4bed020a990ca8b74802f1439e">NVME_SMART_TEMPERATURE</a></div><div class="ttdeci">@ NVME_SMART_TEMPERATURE</div><div class="ttdef"><b>Definition:</b> nvme.h:628</div></div>
<div class="ttc" id="astructNvmeCmd_html"><div class="ttname"><a href="structNvmeCmd.html">NvmeCmd</a></div><div class="ttdef"><b>Definition:</b> nvme.h:290</div></div>
<div class="ttc" id="anvme-admin_8c_html_af7d9ef3eb88525869cf3506520028cf0"><div class="ttname"><a href="nvme-admin_8c.html#af7d9ef3eb88525869cf3506520028cf0">nvme_smart_info</a></div><div class="ttdeci">static uint16_t nvme_smart_info(FemuCtrl *n, NvmeCmd *cmd, uint32_t buf_len)</div><div class="ttdef"><b>Definition:</b> nvme-admin.c:704</div></div>
<div class="ttc" id="astructNvmeSQueue_html_a019c28f2b0e28a7c7d0f511de65b5045"><div class="ttname"><a href="structNvmeSQueue.html#a019c28f2b0e28a7c7d0f511de65b5045">NvmeSQueue::eventidx_addr</a></div><div class="ttdeci">uint64_t eventidx_addr</div><div class="ttdef"><b>Definition:</b> nvme.h:1023</div></div>
<div class="ttc" id="astructNvmeCmd_html_a542065d60952eff1b4de0fdf3ecb5b29"><div class="ttname"><a href="structNvmeCmd.html#a542065d60952eff1b4de0fdf3ecb5b29">NvmeCmd::cdw11</a></div><div class="ttdeci">uint32_t cdw11</div><div class="ttdef"><b>Definition:</b> nvme.h:301</div></div>
<div class="ttc" id="anvme-admin_8c_html_a2b65aed5d655f3d24732cd3c6aa51ab9"><div class="ttname"><a href="nvme-admin_8c.html#a2b65aed5d655f3d24732cd3c6aa51ab9">NVME_IDENTIFY_DATA_SIZE</a></div><div class="ttdeci">#define NVME_IDENTIFY_DATA_SIZE</div><div class="ttdef"><b>Definition:</b> nvme-admin.c:3</div></div>
<div class="ttc" id="astructNvmeCQueue_html_a8b941ba9a13366bf3348b3b7e73009a1"><div class="ttname"><a href="structNvmeCQueue.html#a8b941ba9a13366bf3348b3b7e73009a1">NvmeCQueue::is_active</a></div><div class="ttdeci">bool is_active</div><div class="ttdef"><b>Definition:</b> nvme.h:1050</div></div>
<div class="ttc" id="anvme_8h_html_a01e3a918ff89282c841471f5d797fbf6a9c323c2099e3f3da156bb6896b824724"><div class="ttname"><a href="nvme_8h.html#a01e3a918ff89282c841471f5d797fbf6a9c323c2099e3f3da156bb6896b824724">NVME_CMD_ZONE_MGMT_SEND</a></div><div class="ttdeci">@ NVME_CMD_ZONE_MGMT_SEND</div><div class="ttdef"><b>Definition:</b> nvme.h:340</div></div>
<div class="ttc" id="anvme-admin_8c_html_af11a6f9497c3496eb41dda00362bac96"><div class="ttname"><a href="nvme-admin_8c.html#af11a6f9497c3496eb41dda00362bac96">nvme_format</a></div><div class="ttdeci">static uint16_t nvme_format(FemuCtrl *n, NvmeCmd *cmd)</div><div class="ttdef"><b>Definition:</b> nvme-admin.c:916</div></div>
<div class="ttc" id="anvme_8h_html_a385c44f6fb256e5716a2302a5b940388abb43a71db274146e970ac1e4d59d1fc8"><div class="ttname"><a href="nvme_8h.html#a385c44f6fb256e5716a2302a5b940388abb43a71db274146e970ac1e4d59d1fc8">NVME_CMD_EFF_LBCC</a></div><div class="ttdeci">@ NVME_CMD_EFF_LBCC</div><div class="ttdef"><b>Definition:</b> nvme.h:642</div></div>
<div class="ttc" id="astructNvmeIdNs_html_ad67c077eb81ad2014ec2d9217c2c537d"><div class="ttname"><a href="structNvmeIdNs.html#ad67c077eb81ad2014ec2d9217c2c537d">NvmeIdNs::nuse</a></div><div class="ttdeci">uint64_t nuse</div><div class="ttdef"><b>Definition:</b> nvme.h:860</div></div>
<div class="ttc" id="astructNvmeNamespace_html_aded48306fad86bd7ca9160443a24604d"><div class="ttname"><a href="structNvmeNamespace.html#aded48306fad86bd7ca9160443a24604d">NvmeNamespace::id</a></div><div class="ttdeci">uint32_t id</div><div class="ttdef"><b>Definition:</b> nvme.h:1065</div></div>
<div class="ttc" id="anvme-admin_8c_html_a1e2e18c22d91a9627bba1982011c2d56"><div class="ttname"><a href="nvme-admin_8c.html#a1e2e18c22d91a9627bba1982011c2d56">nvme_cse_iocs_zoned</a></div><div class="ttdeci">static const uint32_t nvme_cse_iocs_zoned[256]</div><div class="ttdef"><b>Definition:</b> nvme-admin.c:56</div></div>
<div class="ttc" id="anvme_8h_html_ae412c484b40ac7903597a299757a7a83"><div class="ttname"><a href="nvme_8h.html#ae412c484b40ac7903597a299757a7a83">nvme_check_mdts</a></div><div class="ttdeci">static uint16_t nvme_check_mdts(FemuCtrl *n, size_t len)</div><div class="ttdef"><b>Definition:</b> nvme.h:1466</div></div>
<div class="ttc" id="anvme_8h_html_aa0fc6c132edf52e49bbf4f575f08c0e0"><div class="ttname"><a href="nvme_8h.html#aa0fc6c132edf52e49bbf4f575f08c0e0">NVME_NSID_BROADCAST</a></div><div class="ttdeci">#define NVME_NSID_BROADCAST</div><div class="ttdef"><b>Definition:</b> nvme.h:855</div></div>
<div class="ttc" id="anvme_8h_html_af20816a3cd379c419f8306038c444025"><div class="ttname"><a href="nvme_8h.html#af20816a3cd379c419f8306038c444025">NVME_SQ_FLAGS_PC</a></div><div class="ttdeci">#define NVME_SQ_FLAGS_PC(sq_flags)</div><div class="ttdef"><b>Definition:</b> nvme.h:389</div></div>
<div class="ttc" id="astructNvmeSmartLog_html_aa9b3d156aa69c2ee44f1539fc3c509cf"><div class="ttname"><a href="structNvmeSmartLog.html#aa9b3d156aa69c2ee44f1539fc3c509cf">NvmeSmartLog::host_read_commands</a></div><div class="ttdeci">uint64_t host_read_commands[2]</div><div class="ttdef"><b>Definition:</b> nvme.h:615</div></div>
<div class="ttc" id="astructFemuCtrl_html_a31fb867a33c2ccad78e9c82456391e89"><div class="ttname"><a href="structFemuCtrl.html#a31fb867a33c2ccad78e9c82456391e89">FemuCtrl::elpe</a></div><div class="ttdeci">uint8_t elpe</div><div class="ttdef"><b>Definition:</b> nvme.h:1225</div></div>
<div class="ttc" id="anvme-admin_8c_html_aff81480a8e081d70ea6fc2b09a02af21"><div class="ttname"><a href="nvme-admin_8c.html#aff81480a8e081d70ea6fc2b09a02af21">nvme_cmd_effects</a></div><div class="ttdeci">static uint16_t nvme_cmd_effects(FemuCtrl *n, NvmeCmd *cmd, uint8_t csi, uint32_t buf_len, uint64_t off)</div><div class="ttdef"><b>Definition:</b> nvme-admin.c:741</div></div>
<div class="ttc" id="anvme_8h_html_a7f06ce121f8c162a3d431948f82a781bab14bdc34229430a70bc407d797a3bd79"><div class="ttname"><a href="nvme_8h.html#a7f06ce121f8c162a3d431948f82a781bab14bdc34229430a70bc407d797a3bd79">NVME_SMART_SPARE</a></div><div class="ttdeci">@ NVME_SMART_SPARE</div><div class="ttdef"><b>Definition:</b> nvme.h:627</div></div>
<div class="ttc" id="astructNvmeDeleteQ_html"><div class="ttname"><a href="structNvmeDeleteQ.html">NvmeDeleteQ</a></div><div class="ttdef"><b>Definition:</b> nvme.h:348</div></div>
<div class="ttc" id="astructNvmeSQueue_html_a09944fa7acccfc87c0c8440aeacc3dc7"><div class="ttname"><a href="structNvmeSQueue.html#a09944fa7acccfc87c0c8440aeacc3dc7">NvmeSQueue::ctrl</a></div><div class="ttdeci">struct FemuCtrl * ctrl</div><div class="ttdef"><b>Definition:</b> nvme.h:1004</div></div>
<div class="ttc" id="astructFemuCtrl_html"><div class="ttname"><a href="structFemuCtrl.html">FemuCtrl</a></div><div class="ttdef"><b>Definition:</b> nvme.h:1170</div></div>
<div class="ttc" id="anvme_8h_html_a2259ab6ad32aaf55b340159f4fb043f4ae4c94bdfbea8f654451c284b72645e66"><div class="ttname"><a href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4ae4c94bdfbea8f654451c284b72645e66">NVME_MAX_QSIZE_EXCEEDED</a></div><div class="ttdeci">@ NVME_MAX_QSIZE_EXCEEDED</div><div class="ttdef"><b>Definition:</b> nvme.h:540</div></div>
<div class="ttc" id="astructFemuCtrl_html_a9f37c1e2d56205e4c7d0015aa9af44e2"><div class="ttname"><a href="structFemuCtrl.html#a9f37c1e2d56205e4c7d0015aa9af44e2">FemuCtrl::sq</a></div><div class="ttdeci">NvmeSQueue ** sq</div><div class="ttdef"><b>Definition:</b> nvme.h:1266</div></div>
<div class="ttc" id="astructNvmeCreateSq_html_abc7239431de02ee635493d91ebbe8791"><div class="ttname"><a href="structNvmeCreateSq.html#abc7239431de02ee635493d91ebbe8791">NvmeCreateSq::qsize</a></div><div class="ttdeci">uint16_t qsize</div><div class="ttdef"><b>Definition:</b> nvme.h:383</div></div>
<div class="ttc" id="astructNvmeSQueue_html_a6c854ba52b14d2f7bbc195451d41dc6d"><div class="ttname"><a href="structNvmeSQueue.html#a6c854ba52b14d2f7bbc195451d41dc6d">NvmeSQueue::db_addr</a></div><div class="ttdeci">uint64_t db_addr</div><div class="ttdef"><b>Definition:</b> nvme.h:1021</div></div>
<div class="ttc" id="astructFemuCtrl_html_a2b07accc41de60cd0c6de43adde355ad"><div class="ttname"><a href="structFemuCtrl.html#a2b07accc41de60cd0c6de43adde355ad">FemuCtrl::ext_ops</a></div><div class="ttdeci">FemuExtCtrlOps ext_ops</div><div class="ttdef"><b>Definition:</b> nvme.h:1206</div></div>
<div class="ttc" id="astructNvmeCqe_html_af30104c7014aee1c55b68672efc0c143"><div class="ttname"><a href="structNvmeCqe.html#af30104c7014aee1c55b68672efc0c143">NvmeCqe::status</a></div><div class="ttdeci">uint16_t status</div><div class="ttdef"><b>Definition:</b> nvme.h:516</div></div>
<div class="ttc" id="anvme-admin_8c_html_ae23b14397c30828a57903ec27a4c150c"><div class="ttname"><a href="nvme-admin_8c.html#ae23b14397c30828a57903ec27a4c150c">nvme_identify</a></div><div class="ttdeci">static uint16_t nvme_identify(FemuCtrl *n, NvmeCmd *cmd)</div><div class="ttdef"><b>Definition:</b> nvme-admin.c:517</div></div>
<div class="ttc" id="astructNvmeIdNs_html"><div class="ttname"><a href="structNvmeIdNs.html">NvmeIdNs</a></div><div class="ttdef"><b>Definition:</b> nvme.h:857</div></div>
<div class="ttc" id="anvme-admin_8c_html_abd65f91764a2624cdc4e608f3dc7932e"><div class="ttname"><a href="nvme-admin_8c.html#abd65f91764a2624cdc4e608f3dc7932e">nvme_abort_req</a></div><div class="ttdeci">static uint16_t nvme_abort_req(FemuCtrl *n, NvmeCmd *cmd, uint32_t *result)</div><div class="ttdef"><b>Definition:</b> nvme-admin.c:828</div></div>
<div class="ttc" id="aintr_8c_html_aa6089f663c0aef824344bde303c46238"><div class="ttname"><a href="intr_8c.html#aa6089f663c0aef824344bde303c46238">nvme_setup_virq</a></div><div class="ttdeci">int nvme_setup_virq(FemuCtrl *n, NvmeCQueue *cq)</div><div class="ttdef"><b>Definition:</b> intr.c:192</div></div>
<div class="ttc" id="astructNvmeCreateSq_html_adfbafe8fa776a8bb396fd86175cd6d41"><div class="ttname"><a href="structNvmeCreateSq.html#adfbafe8fa776a8bb396fd86175cd6d41">NvmeCreateSq::sq_flags</a></div><div class="ttdeci">uint16_t sq_flags</div><div class="ttdef"><b>Definition:</b> nvme.h:384</div></div>
<div class="ttc" id="arte__branch__prediction_8h_html_ac6c45889010c1bd68631771b64f18101"><div class="ttname"><a href="rte__branch__prediction_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a></div><div class="ttdeci">#define unlikely(x)</div><div class="ttdef"><b>Definition:</b> rte_branch_prediction.h:38</div></div>
<div class="ttc" id="anvme_8h_html_a4a839eb668ded988a682e6cbf0b337f9ae41692366ed6ceacca3568d562c8b407"><div class="ttname"><a href="nvme_8h.html#a4a839eb668ded988a682e6cbf0b337f9ae41692366ed6ceacca3568d562c8b407">NVME_ASYNCHRONOUS_EVENT_CONF</a></div><div class="ttdeci">@ NVME_ASYNCHRONOUS_EVENT_CONF</div><div class="ttdef"><b>Definition:</b> nvme.h:820</div></div>
<div class="ttc" id="astructNvmeCreateCq_html"><div class="ttname"><a href="structNvmeCreateCq.html">NvmeCreateCq</a></div><div class="ttdef"><b>Definition:</b> nvme.h:358</div></div>
<div class="ttc" id="anvme_8h_html_af84c4c35c60574c51e83e47bbc873fc2a72bc844e40f9e3684044dc6c779c7398"><div class="ttname"><a href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2a72bc844e40f9e3684044dc6c779c7398">NVME_ADM_CMD_ACTIVATE_FW</a></div><div class="ttdeci">@ NVME_ADM_CMD_ACTIVATE_FW</div><div class="ttdef"><b>Definition:</b> nvme.h:322</div></div>
<div class="ttc" id="astructFemuExtCtrlOps_html_a6ceccf6f103ceee67ac7af7516fdc454"><div class="ttname"><a href="structFemuExtCtrlOps.html#a6ceccf6f103ceee67ac7af7516fdc454">FemuExtCtrlOps::get_log</a></div><div class="ttdeci">uint16_t(* get_log)(struct FemuCtrl *, NvmeCmd *)</div><div class="ttdef"><b>Definition:</b> nvme.h:1167</div></div>
<div class="ttc" id="anvme_8h_html_a07e46a853151dc5e5a8233d7eea6fb87a343dfbc6faf04413ab5c5834729df739"><div class="ttname"><a href="nvme_8h.html#a07e46a853151dc5e5a8233d7eea6fb87a343dfbc6faf04413ab5c5834729df739">NVME_ID_CNS_CS_NS</a></div><div class="ttdeci">@ NVME_ID_CNS_CS_NS</div><div class="ttdef"><b>Definition:</b> nvme.h:676</div></div>
<div class="ttc" id="astructNvmeCreateSq_html"><div class="ttname"><a href="structNvmeCreateSq.html">NvmeCreateSq</a></div><div class="ttdef"><b>Definition:</b> nvme.h:375</div></div>
<div class="ttc" id="astructNvmeSmartLog_html_a01879f6bed7352501f1577de1e187a2f"><div class="ttname"><a href="structNvmeSmartLog.html#a01879f6bed7352501f1577de1e187a2f">NvmeSmartLog::temperature</a></div><div class="ttdeci">uint8_t temperature[2]</div><div class="ttdef"><b>Definition:</b> nvme.h:608</div></div>
<div class="ttc" id="astructNvmeIdNs_html_aaa72a59d6652fb5fb0a2453d58fb9fa3"><div class="ttname"><a href="structNvmeIdNs.html#aaa72a59d6652fb5fb0a2453d58fb9fa3">NvmeIdNs::nlbaf</a></div><div class="ttdeci">uint8_t nlbaf</div><div class="ttdef"><b>Definition:</b> nvme.h:862</div></div>
<div class="ttc" id="anvme-admin_8c_html_a295e47dd4c386bd7ad30d98ea4b45929"><div class="ttname"><a href="nvme-admin_8c.html#a295e47dd4c386bd7ad30d98ea4b45929">nvme_fw_log_info</a></div><div class="ttdeci">static uint16_t nvme_fw_log_info(FemuCtrl *n, NvmeCmd *cmd, uint32_t buf_len)</div><div class="ttdef"><b>Definition:</b> nvme-admin.c:680</div></div>
<div class="ttc" id="astructNvmeEffectsLog_html_a62450a98acbee78bb2f692b795584768"><div class="ttname"><a href="structNvmeEffectsLog.html#a62450a98acbee78bb2f692b795584768">NvmeEffectsLog::iocs</a></div><div class="ttdeci">uint32_t iocs[256]</div><div class="ttdef"><b>Definition:</b> nvme.h:636</div></div>
<div class="ttc" id="anvme_8h_html_a01e3a918ff89282c841471f5d797fbf6a324318d7d84def33dd8a53724f14ab10"><div class="ttname"><a href="nvme_8h.html#a01e3a918ff89282c841471f5d797fbf6a324318d7d84def33dd8a53724f14ab10">NVME_CMD_DSM</a></div><div class="ttdeci">@ NVME_CMD_DSM</div><div class="ttdef"><b>Definition:</b> nvme.h:339</div></div>
<div class="ttc" id="anvme_8h_html_a07e46a853151dc5e5a8233d7eea6fb87a9d80c9e0882ad010ee0255cca96996fe"><div class="ttname"><a href="nvme_8h.html#a07e46a853151dc5e5a8233d7eea6fb87a9d80c9e0882ad010ee0255cca96996fe">NVME_ID_CNS_IO_COMMAND_SET</a></div><div class="ttdeci">@ NVME_ID_CNS_IO_COMMAND_SET</div><div class="ttdef"><b>Definition:</b> nvme.h:683</div></div>
<div class="ttc" id="anvme_8h_html_a279462a0d67217a97c8946fa74531952"><div class="ttname"><a href="nvme_8h.html#a279462a0d67217a97c8946fa74531952">femu_log</a></div><div class="ttdeci">#define femu_log(fmt,...)</div><div class="ttdef"><b>Definition:</b> nvme.h:1492</div></div>
<div class="ttc" id="astructFemuCtrl_html_ac6e80e0bc39d8878bee79720f0733909"><div class="ttname"><a href="structFemuCtrl.html#ac6e80e0bc39d8878bee79720f0733909">FemuCtrl::zasl_bs</a></div><div class="ttdeci">uint32_t zasl_bs</div><div class="ttdef"><b>Definition:</b> nvme.h:1178</div></div>
<div class="ttc" id="anvme_8h_html_af84c4c35c60574c51e83e47bbc873fc2a9fe26376ca7f7f260e56724d5ca8d7ba"><div class="ttname"><a href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2a9fe26376ca7f7f260e56724d5ca8d7ba">NVME_ADM_CMD_CREATE_SQ</a></div><div class="ttdeci">@ NVME_ADM_CMD_CREATE_SQ</div><div class="ttdef"><b>Definition:</b> nvme.h:313</div></div>
<div class="ttc" id="astructNvmeCQueue_html_a8ecbdfc4863d2633f279c2ae70dff1dd"><div class="ttname"><a href="structNvmeCQueue.html#a8ecbdfc4863d2633f279c2ae70dff1dd">NvmeCQueue::tail</a></div><div class="ttdeci">uint32_t tail</div><div class="ttdef"><b>Definition:</b> nvme.h:1035</div></div>
<div class="ttc" id="anvme-admin_8c_html_a59ac97b9a3caead40c6651273483ed4c"><div class="ttname"><a href="nvme-admin_8c.html#a59ac97b9a3caead40c6651273483ed4c">nvme_csi_has_nvm_support</a></div><div class="ttdeci">static bool nvme_csi_has_nvm_support(NvmeNamespace *ns)</div><div class="ttdef"><b>Definition:</b> nvme-admin.c:288</div></div>
<div class="ttc" id="anvme_8h_html_ae3418c924869bd02b41bfc8575d4e3f6a6be594038cc74913b8f19ef58dfa9bf6"><div class="ttname"><a href="nvme_8h.html#ae3418c924869bd02b41bfc8575d4e3f6a6be594038cc74913b8f19ef58dfa9bf6">NVME_LOG_CMD_EFFECTS</a></div><div class="ttdeci">@ NVME_LOG_CMD_EFFECTS</div><div class="ttdef"><b>Definition:</b> nvme.h:654</div></div>
<div class="ttc" id="anvme_8h_html_af84c4c35c60574c51e83e47bbc873fc2a417ffb2d4b3b805a596e05734e4a277b"><div class="ttname"><a href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2a417ffb2d4b3b805a596e05734e4a277b">NVME_ADM_CMD_DELETE_SQ</a></div><div class="ttdeci">@ NVME_ADM_CMD_DELETE_SQ</div><div class="ttdef"><b>Definition:</b> nvme.h:312</div></div>
<div class="ttc" id="astructNvmeFeatureVal_html_a2d973610d2446267d4290905c373407a"><div class="ttname"><a href="structNvmeFeatureVal.html#a2d973610d2446267d4290905c373407a">NvmeFeatureVal::write_atomicity</a></div><div class="ttdeci">uint32_t write_atomicity</div><div class="ttdef"><b>Definition:</b> nvme.h:794</div></div>
<div class="ttc" id="anvme_8h_html_a4a839eb668ded988a682e6cbf0b337f9afba914c18c70ad9ed8ceda8605a8449d"><div class="ttname"><a href="nvme_8h.html#a4a839eb668ded988a682e6cbf0b337f9afba914c18c70ad9ed8ceda8605a8449d">NVME_TEMPERATURE_THRESHOLD</a></div><div class="ttdeci">@ NVME_TEMPERATURE_THRESHOLD</div><div class="ttdef"><b>Definition:</b> nvme.h:813</div></div>
<div class="ttc" id="anvme_8h_html_ade3f32bb0eea4050edff1fa6aa9d7adc"><div class="ttname"><a href="nvme_8h.html#ade3f32bb0eea4050edff1fa6aa9d7adc">NVME_ID_NS_MC_EXTENDED</a></div><div class="ttdeci">#define NVME_ID_NS_MC_EXTENDED(mc)</div><div class="ttdef"><b>Definition:</b> nvme.h:916</div></div>
<div class="ttc" id="astructNvmeDeleteQ_html_a84398ee834ed95e2f537e9b4deaf173e"><div class="ttname"><a href="structNvmeDeleteQ.html#a84398ee834ed95e2f537e9b4deaf173e">NvmeDeleteQ::qid</a></div><div class="ttdeci">uint16_t qid</div><div class="ttdef"><b>Definition:</b> nvme.h:353</div></div>
<div class="ttc" id="astructNvmeBar_html_a1c99ea162fb33570d0928805284ad5bd"><div class="ttname"><a href="structNvmeBar.html#a1c99ea162fb33570d0928805284ad5bd">NvmeBar::cc</a></div><div class="ttdeci">uint32_t cc</div><div class="ttdef"><b>Definition:</b> nvme.h:38</div></div>
<div class="ttc" id="anvme_8h_html_ae3418c924869bd02b41bfc8575d4e3f6aaba2d20f6746458f38402441b2cfc7ec"><div class="ttname"><a href="nvme_8h.html#ae3418c924869bd02b41bfc8575d4e3f6aaba2d20f6746458f38402441b2cfc7ec">NVME_LOG_SMART_INFO</a></div><div class="ttdeci">@ NVME_LOG_SMART_INFO</div><div class="ttdef"><b>Definition:</b> nvme.h:652</div></div>
<div class="ttc" id="astructFemuCtrl_html_a8dc93dbc4b721983afa203722a769e7a"><div class="ttname"><a href="structFemuCtrl.html#a8dc93dbc4b721983afa203722a769e7a">FemuCtrl::zasl</a></div><div class="ttdeci">uint8_t zasl</div><div class="ttdef"><b>Definition:</b> nvme.h:1179</div></div>
<div class="ttc" id="astructNvmeCreateCq_html_a1f6e893b66e832d380fefcb2cf63c2e6"><div class="ttname"><a href="structNvmeCreateCq.html#a1f6e893b66e832d380fefcb2cf63c2e6">NvmeCreateCq::cqid</a></div><div class="ttdeci">uint16_t cqid</div><div class="ttdef"><b>Definition:</b> nvme.h:365</div></div>
<div class="ttc" id="astructNvmeFeatureVal_html_a58f1323ae312b9d4781f1bb8d3a30e0f"><div class="ttname"><a href="structNvmeFeatureVal.html#a58f1323ae312b9d4781f1bb8d3a30e0f">NvmeFeatureVal::arbitration</a></div><div class="ttdeci">uint32_t arbitration</div><div class="ttdef"><b>Definition:</b> nvme.h:786</div></div>
<div class="ttc" id="astructFemuCtrl_html_abeb08c1f98c5566cf217fe63bce0f98e"><div class="ttname"><a href="structFemuCtrl.html#abeb08c1f98c5566cf217fe63bce0f98e">FemuCtrl::chnl_pg_xfer_lat_ns</a></div><div class="ttdeci">int64_t chnl_pg_xfer_lat_ns</div><div class="ttdef"><b>Definition:</b> nvme.h:1305</div></div>
<div class="ttc" id="anvme_8h_html_ae3418c924869bd02b41bfc8575d4e3f6affb675d8ef7208f87e85fa5c909cee1e"><div class="ttname"><a href="nvme_8h.html#ae3418c924869bd02b41bfc8575d4e3f6affb675d8ef7208f87e85fa5c909cee1e">NVME_LOG_ERROR_INFO</a></div><div class="ttdeci">@ NVME_LOG_ERROR_INFO</div><div class="ttdef"><b>Definition:</b> nvme.h:651</div></div>
<div class="ttc" id="anvme_8h_html_a01e3a918ff89282c841471f5d797fbf6a95c9b9c84ed8581bc4a06c07611e594c"><div class="ttname"><a href="nvme_8h.html#a01e3a918ff89282c841471f5d797fbf6a95c9b9c84ed8581bc4a06c07611e594c">NVME_CMD_FLUSH</a></div><div class="ttdeci">@ NVME_CMD_FLUSH</div><div class="ttdef"><b>Definition:</b> nvme.h:333</div></div>
<div class="ttc" id="astructNvmeCmd_html_abe88eab6edc75248f89446542ae46eed"><div class="ttname"><a href="structNvmeCmd.html#abe88eab6edc75248f89446542ae46eed">NvmeCmd::cdw13</a></div><div class="ttdeci">uint32_t cdw13</div><div class="ttdef"><b>Definition:</b> nvme.h:303</div></div>
<div class="ttc" id="anvme-admin_8c_html_aeb087910e36564f94d4dc54c6af7622c"><div class="ttname"><a href="nvme-admin_8c.html#aeb087910e36564f94d4dc54c6af7622c">nvme_identify_ns_descr_list</a></div><div class="ttdeci">static uint16_t nvme_identify_ns_descr_list(FemuCtrl *n, NvmeCmd *cmd)</div><div class="ttdef"><b>Definition:</b> nvme-admin.c:462</div></div>
<div class="ttc" id="astructFemuCtrl_html_afafee7b0c2ba0b0da504668a95a87191"><div class="ttname"><a href="structFemuCtrl.html#afafee7b0c2ba0b0da504668a95a87191">FemuCtrl::upg_wr_lat_ns</a></div><div class="ttdeci">int64_t upg_wr_lat_ns</div><div class="ttdef"><b>Definition:</b> nvme.h:1299</div></div>
<div class="ttc" id="anvme_8h_html_aef2bfc05ccbdba79aef90226efe46ad4"><div class="ttname"><a href="nvme_8h.html#aef2bfc05ccbdba79aef90226efe46ad4">femu_debug</a></div><div class="ttdeci">#define femu_debug(fmt,...)</div><div class="ttdef"><b>Definition:</b> nvme.h:1485</div></div>
<div class="ttc" id="anvme-admin_8c_html_ac726ef5f792706a8a28f07f19c5097b1"><div class="ttname"><a href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1">nvme_admin_cmd</a></div><div class="ttdeci">static uint16_t nvme_admin_cmd(FemuCtrl *n, NvmeCmd *cmd, NvmeCqe *cqe)</div><div class="ttdef"><b>Definition:</b> nvme-admin.c:951</div></div>
<div class="ttc" id="astructNvmeRequest_html_a6c614d6e18850245fb2b05f087c4cc71"><div class="ttname"><a href="structNvmeRequest.html#a6c614d6e18850245fb2b05f087c4cc71">NvmeRequest::status</a></div><div class="ttdeci">uint16_t status</div><div class="ttdef"><b>Definition:</b> nvme.h:965</div></div>
<div class="ttc" id="anvme_8h_html_a2342f477442526e6bc2aa046f9bd4a94a64b23085931f2a85c7105d303bb4a495"><div class="ttname"><a href="nvme_8h.html#a2342f477442526e6bc2aa046f9bd4a94a64b23085931f2a85c7105d303bb4a495">NVME_CSI_ZONED</a></div><div class="ttdeci">@ NVME_CSI_ZONED</div><div class="ttdef"><b>Definition:</b> nvme.h:119</div></div>
<div class="ttc" id="astructNvmeIdentity_html"><div class="ttname"><a href="structNvmeIdentity.html">NvmeIdentity</a></div><div class="ttdef"><b>Definition:</b> nvme.h:400</div></div>
<div class="ttc" id="anvme_8h_html_a2259ab6ad32aaf55b340159f4fb043f4a3268f6be90861f0c2270d86a44d5b09c"><div class="ttname"><a href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a3268f6be90861f0c2270d86a44d5b09c">NVME_SUCCESS</a></div><div class="ttdeci">@ NVME_SUCCESS</div><div class="ttdef"><b>Definition:</b> nvme.h:520</div></div>
<div class="ttc" id="anvme_8h_html_a4a839eb668ded988a682e6cbf0b337f9a4d1eddbbd76fa0dd2ee3170f5952a862"><div class="ttname"><a href="nvme_8h.html#a4a839eb668ded988a682e6cbf0b337f9a4d1eddbbd76fa0dd2ee3170f5952a862">NVME_SOFTWARE_PROGRESS_MARKER</a></div><div class="ttdeci">@ NVME_SOFTWARE_PROGRESS_MARKER</div><div class="ttdef"><b>Definition:</b> nvme.h:822</div></div>
<div class="ttc" id="astructFemuCtrl_html_ae419c3a209fe0ffb9f6e04bc6ff3cd7e"><div class="ttname"><a href="structFemuCtrl.html#ae419c3a209fe0ffb9f6e04bc6ff3cd7e">FemuCtrl::bar</a></div><div class="ttdeci">NvmeBar bar</div><div class="ttdef"><b>Definition:</b> nvme.h:1174</div></div>
<div class="ttc" id="anvme_8h_html_af84c4c35c60574c51e83e47bbc873fc2a647d011a38718d421b6441e08e5519ab"><div class="ttname"><a href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2a647d011a38718d421b6441e08e5519ab">NVME_ADM_CMD_GET_LOG_PAGE</a></div><div class="ttdeci">@ NVME_ADM_CMD_GET_LOG_PAGE</div><div class="ttdef"><b>Definition:</b> nvme.h:314</div></div>
<div class="ttc" id="anvme-admin_8c_html_a6a27adda12530ad69ecc17512ede9ddd"><div class="ttname"><a href="nvme-admin_8c.html#a6a27adda12530ad69ecc17512ede9ddd">nvme_identify_ctrl</a></div><div class="ttdeci">static uint16_t nvme_identify_ctrl(FemuCtrl *n, NvmeCmd *cmd)</div><div class="ttdef"><b>Definition:</b> nvme-admin.c:352</div></div>
<div class="ttc" id="anvme_8h_html_af84c4c35c60574c51e83e47bbc873fc2a8df5d7d60a4198a9036e6c2b7005241e"><div class="ttname"><a href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2a8df5d7d60a4198a9036e6c2b7005241e">NVME_ADM_CMD_DELETE_CQ</a></div><div class="ttdeci">@ NVME_ADM_CMD_DELETE_CQ</div><div class="ttdef"><b>Definition:</b> nvme.h:315</div></div>
<div class="ttc" id="astructFemuCtrl_html_a3cbec385b70e8c6a03b463e00ac08d92"><div class="ttname"><a href="structFemuCtrl.html#a3cbec385b70e8c6a03b463e00ac08d92">FemuCtrl::sqe_size</a></div><div class="ttdeci">uint16_t sqe_size</div><div class="ttdef"><b>Definition:</b> nvme.h:1214</div></div>
<div class="ttc" id="anvme_8h_html_a26b13d1406710f5752075a032f0ff1b1a8cbd7aab51e47a53337eb29d1c87f34d"><div class="ttname"><a href="nvme_8h.html#a26b13d1406710f5752075a032f0ff1b1a8cbd7aab51e47a53337eb29d1c87f34d">NVME_CC_CSS_CSI</a></div><div class="ttdeci">@ NVME_CC_CSS_CSI</div><div class="ttdef"><b>Definition:</b> nvme.h:158</div></div>
<div class="ttc" id="anvme-admin_8c_html_a1067c1ab64f621b7e8d68043437c04eb"><div class="ttname"><a href="nvme-admin_8c.html#a1067c1ab64f621b7e8d68043437c04eb">nvme_identify_nslist_csi</a></div><div class="ttdeci">static uint16_t nvme_identify_nslist_csi(FemuCtrl *n, NvmeCmd *cmd)</div><div class="ttdef"><b>Definition:</b> nvme-admin.c:425</div></div>
<div class="ttc" id="anvme_8h_html_a01e3a918ff89282c841471f5d797fbf6ada1d765c850987feea79854f0141694b"><div class="ttname"><a href="nvme_8h.html#a01e3a918ff89282c841471f5d797fbf6ada1d765c850987feea79854f0141694b">NVME_CMD_COMPARE</a></div><div class="ttdeci">@ NVME_CMD_COMPARE</div><div class="ttdef"><b>Definition:</b> nvme.h:337</div></div>
<div class="ttc" id="astructNvmeCQueue_html_a212c26a71132a5d3ca6e4c3992773235"><div class="ttname"><a href="structNvmeCQueue.html#a212c26a71132a5d3ca6e4c3992773235">NvmeCQueue::dma_addr</a></div><div class="ttdeci">uint64_t dma_addr</div><div class="ttdef"><b>Definition:</b> nvme.h:1039</div></div>
<div class="ttc" id="astructFemuCtrl_html_a8deef2eb4dfac999392c54657407b645"><div class="ttname"><a href="structFemuCtrl.html#a8deef2eb4dfac999392c54657407b645">FemuCtrl::dbs_addr_hva</a></div><div class="ttdeci">uint64_t dbs_addr_hva</div><div class="ttdef"><b>Definition:</b> nvme.h:1279</div></div>
<div class="ttc" id="anvme_8h_html_a385c44f6fb256e5716a2302a5b940388aa96fee4290456a0cb31701e59834fc04"><div class="ttname"><a href="nvme_8h.html#a385c44f6fb256e5716a2302a5b940388aa96fee4290456a0cb31701e59834fc04">NVME_CMD_EFF_CSUPP</a></div><div class="ttdeci">@ NVME_CMD_EFF_CSUPP</div><div class="ttdef"><b>Definition:</b> nvme.h:641</div></div>
<div class="ttc" id="astructNvmeSmartLog_html_ae226eb57d620b84a7401ddbb7f6aac70"><div class="ttname"><a href="structNvmeSmartLog.html#ae226eb57d620b84a7401ddbb7f6aac70">NvmeSmartLog::number_of_error_log_entries</a></div><div class="ttdeci">uint64_t number_of_error_log_entries[2]</div><div class="ttdef"><b>Definition:</b> nvme.h:622</div></div>
<div class="ttc" id="anvme_8h_html_a07e46a853151dc5e5a8233d7eea6fb87a40848ce16b2b50557c4988e889d8d433"><div class="ttname"><a href="nvme_8h.html#a07e46a853151dc5e5a8233d7eea6fb87a40848ce16b2b50557c4988e889d8d433">NVME_ID_CNS_CS_NS_ACTIVE_LIST</a></div><div class="ttdeci">@ NVME_ID_CNS_CS_NS_ACTIVE_LIST</div><div class="ttdef"><b>Definition:</b> nvme.h:678</div></div>
<div class="ttc" id="anvme-admin_8c_html_ac1090eb738e0aa389ef5a647e647a09f"><div class="ttname"><a href="nvme-admin_8c.html#ac1090eb738e0aa389ef5a647e647a09f">nvme_del_cq</a></div><div class="ttdeci">static uint16_t nvme_del_cq(FemuCtrl *n, NvmeCmd *cmd)</div><div class="ttdef"><b>Definition:</b> nvme-admin.c:188</div></div>
<div class="ttc" id="anvme_8h_html_adb2b0bc7615481f312cc37b43e06fc2ea6450719f66e0eea28259c8524aa2855b"><div class="ttname"><a href="nvme_8h.html#adb2b0bc7615481f312cc37b43e06fc2ea6450719f66e0eea28259c8524aa2855b">NVME_NIDL_UUID</a></div><div class="ttdeci">@ NVME_NIDL_UUID</div><div class="ttdef"><b>Definition:</b> nvme.h:901</div></div>
<div class="ttc" id="astructFemuCtrl_html_a4f7a49ec4c0d8551955122bf9ddb73c5"><div class="ttname"><a href="structFemuCtrl.html#a4f7a49ec4c0d8551955122bf9ddb73c5">FemuCtrl::db_stride</a></div><div class="ttdeci">uint8_t db_stride</div><div class="ttdef"><b>Definition:</b> nvme.h:1222</div></div>
<div class="ttc" id="astructFemuCtrl_html_a6461a7eda526fcc86770a43380615b7c"><div class="ttname"><a href="structFemuCtrl.html#a6461a7eda526fcc86770a43380615b7c">FemuCtrl::num_errors</a></div><div class="ttdeci">uint8_t num_errors</div><div class="ttdef"><b>Definition:</b> nvme.h:1249</div></div>
<div class="ttc" id="astructFemuCtrl_html_a5041dc83c0338e246fff9287f3bf53ed"><div class="ttname"><a href="structFemuCtrl.html#a5041dc83c0338e246fff9287f3bf53ed">FemuCtrl::lpg_rd_lat_ns</a></div><div class="ttdeci">int64_t lpg_rd_lat_ns</div><div class="ttdef"><b>Definition:</b> nvme.h:1298</div></div>
<div class="ttc" id="anvme-io_8c_html_a81f7e8af7ddcdfe9bef6af6c0333462d"><div class="ttname"><a href="nvme-io_8c.html#a81f7e8af7ddcdfe9bef6af6c0333462d">nvme_create_poller</a></div><div class="ttdeci">void nvme_create_poller(FemuCtrl *n)</div><div class="ttdef"><b>Definition:</b> nvme-io.c:260</div></div>
<div class="ttc" id="astructNvmeIdCtrlZoned_html"><div class="ttname"><a href="structNvmeIdCtrlZoned.html">NvmeIdCtrlZoned</a></div><div class="ttdef"><b>Definition:</b> zns.h:10</div></div>
<div class="ttc" id="astructFemuCtrl_html_a9eed30c84e2fdec251abd2d112aa857a"><div class="ttname"><a href="structFemuCtrl.html#a9eed30c84e2fdec251abd2d112aa857a">FemuCtrl::dbs_addr</a></div><div class="ttdeci">uint64_t dbs_addr</div><div class="ttdef"><b>Definition:</b> nvme.h:1277</div></div>
<div class="ttc" id="astructNvmeEffectsLog_html"><div class="ttname"><a href="structNvmeEffectsLog.html">NvmeEffectsLog</a></div><div class="ttdef"><b>Definition:</b> nvme.h:634</div></div>
<div class="ttc" id="astructFemuCtrl_html_a4bd5012806e5cda6eb475cb787f4be3d"><div class="ttname"><a href="structFemuCtrl.html#a4bd5012806e5cda6eb475cb787f4be3d">FemuCtrl::features</a></div><div class="ttdeci">NvmeFeatureVal features</div><div class="ttdef"><b>Definition:</b> nvme.h:1270</div></div>
<div class="ttc" id="anvme_8h_html_a4a839eb668ded988a682e6cbf0b337f9a639d1d4a213e04288a037dd8d4cb9e20"><div class="ttname"><a href="nvme_8h.html#a4a839eb668ded988a682e6cbf0b337f9a639d1d4a213e04288a037dd8d4cb9e20">NVME_ERROR_RECOVERY</a></div><div class="ttdeci">@ NVME_ERROR_RECOVERY</div><div class="ttdef"><b>Definition:</b> nvme.h:814</div></div>
<div class="ttc" id="astructNvmeFeatureVal_html_a8462a22290ca55a344ab3047aa1d55bd"><div class="ttname"><a href="structNvmeFeatureVal.html#a8462a22290ca55a344ab3047aa1d55bd">NvmeFeatureVal::temp_thresh</a></div><div class="ttdeci">uint32_t temp_thresh</div><div class="ttdef"><b>Definition:</b> nvme.h:788</div></div>
<div class="ttc" id="anvme_8h_html_a6b609662c5e39d032784f03f183cb719ad7a20b506648ff4e8c260614537f78ae"><div class="ttname"><a href="nvme_8h.html#a6b609662c5e39d032784f03f183cb719ad7a20b506648ff4e8c260614537f78ae">NVME_NIDT_UUID</a></div><div class="ttdeci">@ NVME_NIDT_UUID</div><div class="ttdef"><b>Definition:</b> nvme.h:908</div></div>
<div class="ttc" id="adma_8c_html_a83e01cb3ebf3721ca1fd024940ed6aa6"><div class="ttname"><a href="dma_8c.html#a83e01cb3ebf3721ca1fd024940ed6aa6">dma_read_prp</a></div><div class="ttdeci">uint16_t dma_read_prp(FemuCtrl *n, uint8_t *ptr, uint32_t len, uint64_t prp1, uint64_t prp2)</div><div class="ttdef"><b>Definition:</b> dma.c:137</div></div>
<div class="ttc" id="astructNvmeNamespace_html"><div class="ttname"><a href="structNvmeNamespace.html">NvmeNamespace</a></div><div class="ttdef"><b>Definition:</b> nvme.h:1059</div></div>
<div class="ttc" id="anvme_8h_html_a01e3a918ff89282c841471f5d797fbf6af12c69a9bdf0ad418e4a144ef5424336"><div class="ttname"><a href="nvme_8h.html#a01e3a918ff89282c841471f5d797fbf6af12c69a9bdf0ad418e4a144ef5424336">NVME_CMD_WRITE</a></div><div class="ttdeci">@ NVME_CMD_WRITE</div><div class="ttdef"><b>Definition:</b> nvme.h:334</div></div>
<div class="ttc" id="anvme_8h_html_a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1"><div class="ttname"><a href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a885e33aaef46f9a32806fd9d576167a1">NVME_DNR</a></div><div class="ttdeci">@ NVME_DNR</div><div class="ttdef"><b>Definition:</b> nvme.h:575</div></div>
<div class="ttc" id="astructFemuCtrl_html_a4b7f32e83ebc30211ec827db395523e5"><div class="ttname"><a href="structFemuCtrl.html#a4b7f32e83ebc30211ec827db395523e5">FemuCtrl::lpg_wr_lat_ns</a></div><div class="ttdeci">int64_t lpg_wr_lat_ns</div><div class="ttdef"><b>Definition:</b> nvme.h:1303</div></div>
<div class="ttc" id="anvme-util_8c_html_a7c210df43397e8f04e184a472f8efe0e"><div class="ttname"><a href="nvme-util_8c.html#a7c210df43397e8f04e184a472f8efe0e">nvme_check_cqid</a></div><div class="ttdeci">int nvme_check_cqid(FemuCtrl *n, uint16_t cqid)</div><div class="ttdef"><b>Definition:</b> nvme-util.c:8</div></div>
<div class="ttc" id="astructNvmeFwSlotInfoLog_html"><div class="ttname"><a href="structNvmeFwSlotInfoLog.html">NvmeFwSlotInfoLog</a></div><div class="ttdef"><b>Definition:</b> nvme.h:581</div></div>
<div class="ttc" id="astructNvmeSQueue_html_a007bae54f6cd81bd45ddbe5fc64cf993"><div class="ttname"><a href="structNvmeSQueue.html#a007bae54f6cd81bd45ddbe5fc64cf993">NvmeSQueue::is_active</a></div><div class="ttdeci">bool is_active</div><div class="ttdef"><b>Definition:</b> nvme.h:1025</div></div>
<div class="ttc" id="astructNvmeCmd_html_aa0daded9eb948cb9c13ae14a0852ed08"><div class="ttname"><a href="structNvmeCmd.html#aa0daded9eb948cb9c13ae14a0852ed08">NvmeCmd::nsid</a></div><div class="ttdeci">uint32_t nsid</div><div class="ttdef"><b>Definition:</b> nvme.h:296</div></div>
<div class="ttc" id="anvme-util_8c_html_a0c728e2926a6efc38005202a2b224647"><div class="ttname"><a href="nvme-util_8c.html#a0c728e2926a6efc38005202a2b224647">nvme_inc_sq_head</a></div><div class="ttdeci">void nvme_inc_sq_head(NvmeSQueue *sq)</div><div class="ttdef"><b>Definition:</b> nvme-util.c:22</div></div>
<div class="ttc" id="astructNvmeSmartLog_html_a22c2f976aa9a8a3e13a6f9b401f8774a"><div class="ttname"><a href="structNvmeSmartLog.html#a22c2f976aa9a8a3e13a6f9b401f8774a">NvmeSmartLog::available_spare_threshold</a></div><div class="ttdeci">uint8_t available_spare_threshold</div><div class="ttdef"><b>Definition:</b> nvme.h:610</div></div>
<div class="ttc" id="astructNvmeRangeType_html"><div class="ttname"><a href="structNvmeRangeType.html">NvmeRangeType</a></div><div class="ttdef"><b>Definition:</b> nvme.h:839</div></div>
<div class="ttc" id="anvme_8h_html_aaa7181e8c0f5909e2343e4ecf8e60eea"><div class="ttname"><a href="nvme_8h.html#aaa7181e8c0f5909e2343e4ecf8e60eea">NVME_ID_NS_DPC_LAST_EIGHT</a></div><div class="ttdeci">#define NVME_ID_NS_DPC_LAST_EIGHT(dpc)</div><div class="ttdef"><b>Definition:</b> nvme.h:917</div></div>
<div class="ttc" id="anvme-admin_8c_html_a908e1383f81ed82cd271ecf3aa68f9a5"><div class="ttname"><a href="nvme-admin_8c.html#a908e1383f81ed82cd271ecf3aa68f9a5">nvme_ns</a></div><div class="ttdeci">static NvmeNamespace * nvme_ns(FemuCtrl *n, uint32_t nsid)</div><div class="ttdef"><b>Definition:</b> nvme-admin.c:270</div></div>
<div class="ttc" id="anvme_8h_html_a2342f477442526e6bc2aa046f9bd4a94a28181a48fe56de9ccab6eb11dd3fc9cc"><div class="ttname"><a href="nvme_8h.html#a2342f477442526e6bc2aa046f9bd4a94a28181a48fe56de9ccab6eb11dd3fc9cc">NVME_CSI_NVM</a></div><div class="ttdeci">@ NVME_CSI_NVM</div><div class="ttdef"><b>Definition:</b> nvme.h:118</div></div>
<div class="ttc" id="anvme_8h_html_a07e46a853151dc5e5a8233d7eea6fb87a9cdabd967c5a58f08d2c64196da8f8b6"><div class="ttname"><a href="nvme_8h.html#a07e46a853151dc5e5a8233d7eea6fb87a9cdabd967c5a58f08d2c64196da8f8b6">NVME_ID_CNS_NS</a></div><div class="ttdeci">@ NVME_ID_CNS_NS</div><div class="ttdef"><b>Definition:</b> nvme.h:672</div></div>
<div class="ttc" id="anvme_8h_html_a2259ab6ad32aaf55b340159f4fb043f4ac44750a3ebe435c0ddbb37d6ce26fb78"><div class="ttname"><a href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4ac44750a3ebe435c0ddbb37d6ce26fb78">NVME_INVALID_QUEUE_DEL</a></div><div class="ttdeci">@ NVME_INVALID_QUEUE_DEL</div><div class="ttdef"><b>Definition:</b> nvme.h:550</div></div>
<div class="ttc" id="astructNvmeSQueue_html_a201708806f82565f9dc80a1649f11246"><div class="ttname"><a href="structNvmeSQueue.html#a201708806f82565f9dc80a1649f11246">NvmeSQueue::cqid</a></div><div class="ttdeci">uint16_t cqid</div><div class="ttdef"><b>Definition:</b> nvme.h:1008</div></div>
<div class="ttc" id="anvme_8h_html_a4a839eb668ded988a682e6cbf0b337f9a82205e373f1a9340794494312d1cfea1"><div class="ttname"><a href="nvme_8h.html#a4a839eb668ded988a682e6cbf0b337f9a82205e373f1a9340794494312d1cfea1">NVME_NUMBER_OF_QUEUES</a></div><div class="ttdeci">@ NVME_NUMBER_OF_QUEUES</div><div class="ttdef"><b>Definition:</b> nvme.h:816</div></div>
<div class="ttc" id="astructNvmeFeatureVal_html_a36ec14134ad2d2e9e12ee59cf8c7f8b2"><div class="ttname"><a href="structNvmeFeatureVal.html#a36ec14134ad2d2e9e12ee59cf8c7f8b2">NvmeFeatureVal::async_config</a></div><div class="ttdeci">uint32_t async_config</div><div class="ttdef"><b>Definition:</b> nvme.h:795</div></div>
<div class="ttc" id="anvme_8h_html_a01e3a918ff89282c841471f5d797fbf6aa4fe58ce24eda3bf7e1e5e3c22470b30"><div class="ttname"><a href="nvme_8h.html#a01e3a918ff89282c841471f5d797fbf6aa4fe58ce24eda3bf7e1e5e3c22470b30">NVME_CMD_ZONE_MGMT_RECV</a></div><div class="ttdeci">@ NVME_CMD_ZONE_MGMT_RECV</div><div class="ttdef"><b>Definition:</b> nvme.h:341</div></div>
<div class="ttc" id="astructNvmeSQueue_html"><div class="ttname"><a href="structNvmeSQueue.html">NvmeSQueue</a></div><div class="ttdef"><b>Definition:</b> nvme.h:1003</div></div>
<div class="ttc" id="astructNvmeIdNs_html_a0588b7533fd0a4d1d56fd12b8fb7502d"><div class="ttname"><a href="structNvmeIdNs.html#a0588b7533fd0a4d1d56fd12b8fb7502d">NvmeIdNs::ncap</a></div><div class="ttdeci">uint64_t ncap</div><div class="ttdef"><b>Definition:</b> nvme.h:859</div></div>
<div class="ttc" id="anvme_8h_html_a9d822b5bc01693c1ba6297c247dc2897"><div class="ttname"><a href="nvme_8h.html#a9d822b5bc01693c1ba6297c247dc2897">NVME_SPARE_THRESHOLD</a></div><div class="ttdeci">#define NVME_SPARE_THRESHOLD</div><div class="ttdef"><b>Definition:</b> nvme.h:82</div></div>
<div class="ttc" id="astructNvmeNamespace_html_a8354f38841896795412b089fdfbe1528"><div class="ttname"><a href="structNvmeNamespace.html#a8354f38841896795412b089fdfbe1528">NvmeNamespace::ctrl</a></div><div class="ttdeci">struct FemuCtrl * ctrl</div><div class="ttdef"><b>Definition:</b> nvme.h:1060</div></div>
<div class="ttc" id="astructNvmeSQueue_html_a0328aeea530626544944138d5a1bca54"><div class="ttname"><a href="structNvmeSQueue.html#a0328aeea530626544944138d5a1bca54">NvmeSQueue::db_addr_hva</a></div><div class="ttdeci">uint64_t db_addr_hva</div><div class="ttdef"><b>Definition:</b> nvme.h:1022</div></div>
<div class="ttc" id="anvme_8h_html_a995a87eb911c6c3ba93166c8fe71147f"><div class="ttname"><a href="nvme_8h.html#a995a87eb911c6c3ba93166c8fe71147f">NVME_CQ_FLAGS_IEN</a></div><div class="ttdeci">#define NVME_CQ_FLAGS_IEN(cq_flags)</div><div class="ttdef"><b>Definition:</b> nvme.h:373</div></div>
<div class="ttc" id="anvme-admin_8c_html_a834f603280a3a10a14da324da6bd9a62"><div class="ttname"><a href="nvme-admin_8c.html#a834f603280a3a10a14da324da6bd9a62">nvme_identify_cmd_set</a></div><div class="ttdeci">static uint16_t nvme_identify_cmd_set(FemuCtrl *n, NvmeCmd *cmd)</div><div class="ttdef"><b>Definition:</b> nvme-admin.c:504</div></div>
<div class="ttc" id="anvme-admin_8c_html_a8b2764426b75545dfc03229b811607eb"><div class="ttname"><a href="nvme-admin_8c.html#a8b2764426b75545dfc03229b811607eb">nvme_set_db_memory</a></div><div class="ttdeci">static uint16_t nvme_set_db_memory(FemuCtrl *n, const NvmeCmd *cmd)</div><div class="ttdef"><b>Definition:</b> nvme-admin.c:209</div></div>
<div class="ttc" id="astructNvmeCreateSq_html_a244182d0e0d8d30d9914bb11e314720b"><div class="ttname"><a href="structNvmeCreateSq.html#a244182d0e0d8d30d9914bb11e314720b">NvmeCreateSq::sqid</a></div><div class="ttdeci">uint16_t sqid</div><div class="ttdef"><b>Definition:</b> nvme.h:382</div></div>
<div class="ttc" id="astructNvmeSmartLog_html_a1d5a52ca94b9af18392eaa568432c60e"><div class="ttname"><a href="structNvmeSmartLog.html#a1d5a52ca94b9af18392eaa568432c60e">NvmeSmartLog::data_units_written</a></div><div class="ttdeci">uint64_t data_units_written[2]</div><div class="ttdef"><b>Definition:</b> nvme.h:614</div></div>
<div class="ttc" id="astructNvmeIdCtrlZoned_html_abca382fcb34aea822a0b15533979cab6"><div class="ttname"><a href="structNvmeIdCtrlZoned.html#abca382fcb34aea822a0b15533979cab6">NvmeIdCtrlZoned::rsvd1</a></div><div class="ttdeci">uint8_t rsvd1[4095]</div><div class="ttdef"><b>Definition:</b> zns.h:12</div></div>
<div class="ttc" id="astructNvmeCmd_html_a8322f6c084bb932bc2d53f693544dcc0"><div class="ttname"><a href="structNvmeCmd.html#a8322f6c084bb932bc2d53f693544dcc0">NvmeCmd::cdw14</a></div><div class="ttdeci">uint32_t cdw14</div><div class="ttdef"><b>Definition:</b> nvme.h:304</div></div>
<div class="ttc" id="anvme-admin_8c_html_a2c43f1bdb51a2e35c2ecdb9ed9db64ec"><div class="ttname"><a href="nvme-admin_8c.html#a2c43f1bdb51a2e35c2ecdb9ed9db64ec">nvme_create_sq</a></div><div class="ttdeci">static uint16_t nvme_create_sq(FemuCtrl *n, NvmeCmd *cmd)</div><div class="ttdef"><b>Definition:</b> nvme-admin.c:101</div></div>
<div class="ttc" id="astructNvmeNamespace_html_ac5c0ddf3fd8b71e4387062b8a5e1075d"><div class="ttname"><a href="structNvmeNamespace.html#ac5c0ddf3fd8b71e4387062b8a5e1075d">NvmeNamespace::id_ns</a></div><div class="ttdeci">NvmeIdNs id_ns</div><div class="ttdef"><b>Definition:</b> nvme.h:1061</div></div>
<div class="ttc" id="anvme_8h_html_a6b609662c5e39d032784f03f183cb719a9fc5e518a3d0354de233ccb7e16c55f6"><div class="ttname"><a href="nvme_8h.html#a6b609662c5e39d032784f03f183cb719a9fc5e518a3d0354de233ccb7e16c55f6">NVME_NIDT_CSI</a></div><div class="ttdeci">@ NVME_NIDT_CSI</div><div class="ttdef"><b>Definition:</b> nvme.h:909</div></div>
<div class="ttc" id="astructNvmeBar_html_ad5910458ce9220c367e14c8482117018"><div class="ttname"><a href="structNvmeBar.html#ad5910458ce9220c367e14c8482117018">NvmeBar::cap</a></div><div class="ttdeci">uint64_t cap</div><div class="ttdef"><b>Definition:</b> nvme.h:34</div></div>
<div class="ttc" id="astructNvmeCQueue_html_a376ae99c71a9fb4157bd4fb45b2a5090"><div class="ttname"><a href="structNvmeCQueue.html#a376ae99c71a9fb4157bd4fb45b2a5090">NvmeCQueue::phys_contig</a></div><div class="ttdeci">uint8_t phys_contig</div><div class="ttdef"><b>Definition:</b> nvme.h:1030</div></div>
<div class="ttc" id="astructFemuCtrl_html_a45247e5e62c92173076f634f536ba62f"><div class="ttname"><a href="structFemuCtrl.html#a45247e5e62c92173076f634f536ba62f">FemuCtrl::aer_mask</a></div><div class="ttdeci">uint8_t aer_mask</div><div class="ttdef"><b>Definition:</b> nvme.h:1275</div></div>
<div class="ttc" id="anvme_8h_html_adf53862fece86b6d4aea0eacd394a89c"><div class="ttname"><a href="nvme_8h.html#adf53862fece86b6d4aea0eacd394a89c">NVME_ID_NS_DPC_FIRST_EIGHT</a></div><div class="ttdeci">#define NVME_ID_NS_DPC_FIRST_EIGHT(dpc)</div><div class="ttdef"><b>Definition:</b> nvme.h:918</div></div>
<div class="ttc" id="anvme_8h_html_a07e46a853151dc5e5a8233d7eea6fb87afaf6de7b9a93370c65d3a6a4736171fb"><div class="ttname"><a href="nvme_8h.html#a07e46a853151dc5e5a8233d7eea6fb87afaf6de7b9a93370c65d3a6a4736171fb">NVME_ID_CNS_CS_NS_PRESENT</a></div><div class="ttdeci">@ NVME_ID_CNS_CS_NS_PRESENT</div><div class="ttdef"><b>Definition:</b> nvme.h:682</div></div>
<div class="ttc" id="anvme_8h_html_a4a839eb668ded988a682e6cbf0b337f9a60cff59fa05a82754282f95a12a746cc"><div class="ttname"><a href="nvme_8h.html#a4a839eb668ded988a682e6cbf0b337f9a60cff59fa05a82754282f95a12a746cc">NVME_ARBITRATION</a></div><div class="ttdeci">@ NVME_ARBITRATION</div><div class="ttdef"><b>Definition:</b> nvme.h:810</div></div>
<div class="ttc" id="anvme-admin_8c_html_af3ddf1e4e280aa3f367a5b2b44879b41"><div class="ttname"><a href="nvme-admin_8c.html#af3ddf1e4e280aa3f367a5b2b44879b41">nvme_create_cq</a></div><div class="ttdeci">static uint16_t nvme_create_cq(FemuCtrl *n, NvmeCmd *cmd)</div><div class="ttdef"><b>Definition:</b> nvme-admin.c:142</div></div>
<div class="ttc" id="anvme-admin_8c_html_ad712f926297fd28d117c32d18e3566dc"><div class="ttname"><a href="nvme-admin_8c.html#ad712f926297fd28d117c32d18e3566dc">nvme_set_feature</a></div><div class="ttdeci">static uint16_t nvme_set_feature(FemuCtrl *n, NvmeCmd *cmd, NvmeCqe *cqe)</div><div class="ttdef"><b>Definition:</b> nvme-admin.c:610</div></div>
<div class="ttc" id="astructNvmeCqe_html"><div class="ttname"><a href="structNvmeCqe.html">NvmeCqe</a></div><div class="ttdef"><b>Definition:</b> nvme.h:505</div></div>
<div class="ttc" id="astructFemuCtrl_html_a9d1a8fc9f8a06cfff7668affaa2fbbf6"><div class="ttname"><a href="structFemuCtrl.html#a9d1a8fc9f8a06cfff7668affaa2fbbf6">FemuCtrl::start_time</a></div><div class="ttdeci">time_t start_time</div><div class="ttdef"><b>Definition:</b> nvme.h:1208</div></div>
<div class="ttc" id="anvme_8h_html_a984776745dc393d9516716738a918922ae85183c5e4231385ba8df51a5c65c913"><div class="ttname"><a href="nvme_8h.html#a984776745dc393d9516716738a918922ae85183c5e4231385ba8df51a5c65c913">NVME_AER_TYPE_SMART</a></div><div class="ttdeci">@ NVME_AER_TYPE_SMART</div><div class="ttdef"><b>Definition:</b> nvme.h:484</div></div>
<div class="ttc" id="azns_8h_html_ae7adf364f249708c677c0df1b1b84592"><div class="ttname"><a href="zns_8h.html#ae7adf364f249708c677c0df1b1b84592">NvmeIdCtrlZoned</a></div><div class="ttdeci">struct NvmeIdCtrlZoned NvmeIdCtrlZoned</div></div>
<div class="ttc" id="astructFemuCtrl_html_a1ede5f20b691c65e599d3f4e1d756bcb"><div class="ttname"><a href="structFemuCtrl.html#a1ede5f20b691c65e599d3f4e1d756bcb">FemuCtrl::uuid</a></div><div class="ttdeci">QemuUUID uuid</div><div class="ttdef"><b>Definition:</b> nvme.h:1177</div></div>
<div class="ttc" id="astructNvmeSmartLog_html_a3c71d90e6a3d7366315e90257ec5b6b2"><div class="ttname"><a href="structNvmeSmartLog.html#a3c71d90e6a3d7366315e90257ec5b6b2">NvmeSmartLog::power_on_hours</a></div><div class="ttdeci">uint64_t power_on_hours[2]</div><div class="ttdef"><b>Definition:</b> nvme.h:619</div></div>
<div class="ttc" id="anvme_8h_html_a4a839eb668ded988a682e6cbf0b337f9a2209f76e484de16a87bd3f60c0f9ad10"><div class="ttname"><a href="nvme_8h.html#a4a839eb668ded988a682e6cbf0b337f9a2209f76e484de16a87bd3f60c0f9ad10">NVME_INTERRUPT_COALESCING</a></div><div class="ttdeci">@ NVME_INTERRUPT_COALESCING</div><div class="ttdef"><b>Definition:</b> nvme.h:817</div></div>
<div class="ttc" id="anvme_8h_html_af84c4c35c60574c51e83e47bbc873fc2ac533bf9d2463d12e93da507e44f17f0a"><div class="ttname"><a href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2ac533bf9d2463d12e93da507e44f17f0a">NVME_ADM_CMD_SET_DB_MEMORY</a></div><div class="ttdeci">@ NVME_ADM_CMD_SET_DB_MEMORY</div><div class="ttdef"><b>Definition:</b> nvme.h:327</div></div>
<div class="ttc" id="astructNvmeIdentity_html_a138423d987ea5aee71b51d7d580747d2"><div class="ttname"><a href="structNvmeIdentity.html#a138423d987ea5aee71b51d7d580747d2">NvmeIdentity::csi</a></div><div class="ttdeci">uint8_t csi</div><div class="ttdef"><b>Definition:</b> nvme.h:411</div></div>
<div class="ttc" id="adma_8c_html_a0ac25a907651fbfbf9710b15dc45e484"><div class="ttname"><a href="dma_8c.html#a0ac25a907651fbfbf9710b15dc45e484">nvme_addr_read</a></div><div class="ttdeci">void nvme_addr_read(FemuCtrl *n, hwaddr addr, void *buf, int size)</div><div class="ttdef"><b>Definition:</b> dma.c:3</div></div>
<div class="ttc" id="anvme-admin_8c_html_a4288308db73b3aa30b0c2253ffabd2d5"><div class="ttname"><a href="nvme-admin_8c.html#a4288308db73b3aa30b0c2253ffabd2d5">nvme_rpt_empty_id_struct</a></div><div class="ttdeci">static uint16_t nvme_rpt_empty_id_struct(FemuCtrl *n, NvmeCmd *cmd)</div><div class="ttdef"><b>Definition:</b> nvme-admin.c:279</div></div>
<div class="ttc" id="astructNvmeCmd_html_ab8451175fd2fa5932757675268633fab"><div class="ttname"><a href="structNvmeCmd.html#ab8451175fd2fa5932757675268633fab">NvmeCmd::cdw12</a></div><div class="ttdeci">uint32_t cdw12</div><div class="ttdef"><b>Definition:</b> nvme.h:302</div></div>
<div class="ttc" id="anvme_8h_html_a07e46a853151dc5e5a8233d7eea6fb87a20c89134f7c6521c680fc7b1f6a30a21"><div class="ttname"><a href="nvme_8h.html#a07e46a853151dc5e5a8233d7eea6fb87a20c89134f7c6521c680fc7b1f6a30a21">NVME_ID_CNS_NS_PRESENT_LIST</a></div><div class="ttdeci">@ NVME_ID_CNS_NS_PRESENT_LIST</div><div class="ttdef"><b>Definition:</b> nvme.h:679</div></div>
<div class="ttc" id="anvme_8h_html_a4a839eb668ded988a682e6cbf0b337f9aecddfc72198446c44bfe5ac17575c29a"><div class="ttname"><a href="nvme_8h.html#a4a839eb668ded988a682e6cbf0b337f9aecddfc72198446c44bfe5ac17575c29a">NVME_WRITE_ATOMICITY</a></div><div class="ttdeci">@ NVME_WRITE_ATOMICITY</div><div class="ttdef"><b>Definition:</b> nvme.h:819</div></div>
<div class="ttc" id="astructNvmeCreateCq_html_a65f23d91a215ed559265c6200918ca45"><div class="ttname"><a href="structNvmeCreateCq.html#a65f23d91a215ed559265c6200918ca45">NvmeCreateCq::irq_vector</a></div><div class="ttdeci">uint16_t irq_vector</div><div class="ttdef"><b>Definition:</b> nvme.h:368</div></div>
<div class="ttc" id="anvme_8h_html_a07e46a853151dc5e5a8233d7eea6fb87aae01e124b6bd54974d5bcbd91a242a67"><div class="ttname"><a href="nvme_8h.html#a07e46a853151dc5e5a8233d7eea6fb87aae01e124b6bd54974d5bcbd91a242a67">NVME_ID_CNS_CS_CTRL</a></div><div class="ttdeci">@ NVME_ID_CNS_CS_CTRL</div><div class="ttdef"><b>Definition:</b> nvme.h:677</div></div>
<div class="ttc" id="astructNvmeCQueue_html_a90d654f42e288f38b3ff2df34ed71eda"><div class="ttname"><a href="structNvmeCQueue.html#a90d654f42e288f38b3ff2df34ed71eda">NvmeCQueue::db_addr</a></div><div class="ttdeci">uint64_t db_addr</div><div class="ttdef"><b>Definition:</b> nvme.h:1046</div></div>
<div class="ttc" id="astructFemuCtrl_html_a6f86d8c1d2b5365aef55a5d879316868"><div class="ttname"><a href="structFemuCtrl.html#a6f86d8c1d2b5365aef55a5d879316868">FemuCtrl::eis_addr</a></div><div class="ttdeci">uint64_t eis_addr</div><div class="ttdef"><b>Definition:</b> nvme.h:1278</div></div>
<div class="ttc" id="astructNvmeSmartLog_html"><div class="ttname"><a href="structNvmeSmartLog.html">NvmeSmartLog</a></div><div class="ttdef"><b>Definition:</b> nvme.h:606</div></div>
<div class="ttc" id="astructFemuCtrl_html_ac4f8d305f94dfd341fe6e7f39c06c47c"><div class="ttname"><a href="structFemuCtrl.html#ac4f8d305f94dfd341fe6e7f39c06c47c">FemuCtrl::cqe_size</a></div><div class="ttdeci">uint16_t cqe_size</div><div class="ttdef"><b>Definition:</b> nvme.h:1213</div></div>
<div class="ttc" id="astructNvmeCreateCq_html_a7998b3041c20963ce19975d6917b5fa7"><div class="ttname"><a href="structNvmeCreateCq.html#a7998b3041c20963ce19975d6917b5fa7">NvmeCreateCq::cq_flags</a></div><div class="ttdeci">uint16_t cq_flags</div><div class="ttdef"><b>Definition:</b> nvme.h:367</div></div>
<div class="ttc" id="anvme-admin_8c_html_a7db584730c5821def2e8208f0aaf3f05"><div class="ttname"><a href="nvme-admin_8c.html#a7db584730c5821def2e8208f0aaf3f05">nvme_identify_ctrl_csi</a></div><div class="ttdeci">static uint16_t nvme_identify_ctrl_csi(FemuCtrl *n, NvmeCmd *cmd)</div><div class="ttdef"><b>Definition:</b> nvme-admin.c:361</div></div>
<div class="ttc" id="astructFemuCtrl_html_ab09f359cd5d2e1882bd8a04046becf28"><div class="ttname"><a href="structFemuCtrl.html#ab09f359cd5d2e1882bd8a04046becf28">FemuCtrl::num_io_queues</a></div><div class="ttdeci">uint32_t num_io_queues</div><div class="ttdef"><b>Definition:</b> nvme.h:1219</div></div>
<div class="ttc" id="astructNvmeCQueue_html_a38b8318d3c3040f22eff1fff5f1482e5"><div class="ttname"><a href="structNvmeCQueue.html#a38b8318d3c3040f22eff1fff5f1482e5">NvmeCQueue::db_addr_hva</a></div><div class="ttdeci">uint64_t db_addr_hva</div><div class="ttdef"><b>Definition:</b> nvme.h:1047</div></div>
<div class="ttc" id="anvme-util_8c_html_ae00a56019ece0039e9a209dfa7bc398e"><div class="ttname"><a href="nvme-util_8c.html#ae00a56019ece0039e9a209dfa7bc398e">nvme_free_sq</a></div><div class="ttdeci">void nvme_free_sq(NvmeSQueue *sq, FemuCtrl *n)</div><div class="ttdef"><b>Definition:</b> nvme-util.c:146</div></div>
<div class="ttc" id="anvme-admin_8c_html_aea2f9a310930687c4298773a3e9c1612"><div class="ttname"><a href="nvme-admin_8c.html#aea2f9a310930687c4298773a3e9c1612">nvme_cse_acs</a></div><div class="ttdeci">static const uint32_t nvme_cse_acs[256]</div><div class="ttdef"><b>Definition:</b> nvme-admin.c:32</div></div>
<div class="ttc" id="anvme_8h_html_a07e46a853151dc5e5a8233d7eea6fb87a876a99f46d10f09d2f27097e6de26c1f"><div class="ttname"><a href="nvme_8h.html#a07e46a853151dc5e5a8233d7eea6fb87a876a99f46d10f09d2f27097e6de26c1f">NVME_ID_CNS_NS_DESCR_LIST</a></div><div class="ttdeci">@ NVME_ID_CNS_NS_DESCR_LIST</div><div class="ttdef"><b>Definition:</b> nvme.h:675</div></div>
<div class="ttc" id="anvme_8h_html_af84c4c35c60574c51e83e47bbc873fc2ae1bbd2cb73b95167c0cd0d32012d3217"><div class="ttname"><a href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2ae1bbd2cb73b95167c0cd0d32012d3217">NVME_ADM_CMD_SECURITY_SEND</a></div><div class="ttdeci">@ NVME_ADM_CMD_SECURITY_SEND</div><div class="ttdef"><b>Definition:</b> nvme.h:325</div></div>
<div class="ttc" id="anvme-admin_8c_html_a9896b513919b735c2049dd8e59d588c0"><div class="ttname"><a href="nvme-admin_8c.html#a9896b513919b735c2049dd8e59d588c0">nvme_identify_ns</a></div><div class="ttdeci">static uint16_t nvme_identify_ns(FemuCtrl *n, NvmeCmd *cmd)</div><div class="ttdef"><b>Definition:</b> nvme-admin.c:300</div></div>
<div class="ttc" id="anvme_8h_html_a2259ab6ad32aaf55b340159f4fb043f4aa5ab648b9cadbb35665f4ffcd735899f"><div class="ttname"><a href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4aa5ab648b9cadbb35665f4ffcd735899f">NVME_INVALID_CQID</a></div><div class="ttdeci">@ NVME_INVALID_CQID</div><div class="ttdef"><b>Definition:</b> nvme.h:538</div></div>
<div class="ttc" id="astructFemuCtrl_html_ada17b92a62409a544d72524c34cfe8e4"><div class="ttname"><a href="structFemuCtrl.html#ada17b92a62409a544d72524c34cfe8e4">FemuCtrl::temperature</a></div><div class="ttdeci">uint16_t temperature</div><div class="ttdef"><b>Definition:</b> nvme.h:1209</div></div>
<div class="ttc" id="astructNvmeCqe_html_a7717de66db45f6ca9c69bc3880825aee"><div class="ttname"><a href="structNvmeCqe.html#a7717de66db45f6ca9c69bc3880825aee">NvmeCqe::sq_id</a></div><div class="ttdeci">uint16_t sq_id</div><div class="ttdef"><b>Definition:</b> nvme.h:514</div></div>
<div class="ttc" id="adma_8c_html_a08f51254313a657c3826f77e6bd9a1b8"><div class="ttname"><a href="dma_8c.html#a08f51254313a657c3826f77e6bd9a1b8">nvme_addr_write</a></div><div class="ttdeci">void nvme_addr_write(FemuCtrl *n, hwaddr addr, void *buf, int size)</div><div class="ttdef"><b>Definition:</b> dma.c:13</div></div>
<div class="ttc" id="anvme-admin_8c_html_abf593ed87b332bec6cb6fca0e2bed1be"><div class="ttname"><a href="nvme-admin_8c.html#abf593ed87b332bec6cb6fca0e2bed1be">nvme_get_feature</a></div><div class="ttdeci">static uint16_t nvme_get_feature(FemuCtrl *n, NvmeCmd *cmd, NvmeCqe *cqe)</div><div class="ttdef"><b>Definition:</b> nvme-admin.c:548</div></div>
<div class="ttc" id="anvme_8h_html_a03137cbac8b6ac5f506253e388449a39"><div class="ttname"><a href="nvme_8h.html#a03137cbac8b6ac5f506253e388449a39">NVME_SQ_FLAGS_QPRIO</a></div><div class="ttdeci">#define NVME_SQ_FLAGS_QPRIO(sq_flags)</div><div class="ttdef"><b>Definition:</b> nvme.h:390</div></div>
<div class="ttc" id="anvme-admin_8c_html_a50ae77ec77f7a89c1a067df80c5cd767"><div class="ttname"><a href="nvme-admin_8c.html#a50ae77ec77f7a89c1a067df80c5cd767">nvme_identify_ns_csi</a></div><div class="ttdeci">static uint16_t nvme_identify_ns_csi(FemuCtrl *n, NvmeCmd *cmd)</div><div class="ttdef"><b>Definition:</b> nvme-admin.c:325</div></div>
<div class="ttc" id="astructNvmeIdentity_html_a00384fddea98b5e53fde34ddc53260be"><div class="ttname"><a href="structNvmeIdentity.html#a00384fddea98b5e53fde34ddc53260be">NvmeIdentity::nsid</a></div><div class="ttdeci">uint32_t nsid</div><div class="ttdef"><b>Definition:</b> nvme.h:404</div></div>
<div class="ttc" id="astructFemuCtrl_html_af13a4a3fc3667cdddbd181c34378b406"><div class="ttname"><a href="structFemuCtrl.html#af13a4a3fc3667cdddbd181c34378b406">FemuCtrl::id_ctrl</a></div><div class="ttdeci">NvmeIdCtrl id_ctrl</div><div class="ttdef"><b>Definition:</b> nvme.h:1271</div></div>
<div class="ttc" id="anvme_8h_html_a4a839eb668ded988a682e6cbf0b337f9adfcc384847fbafc0fe4223f66f53ea4e"><div class="ttname"><a href="nvme_8h.html#a4a839eb668ded988a682e6cbf0b337f9adfcc384847fbafc0fe4223f66f53ea4e">NVME_INTERRUPT_VECTOR_CONF</a></div><div class="ttdeci">@ NVME_INTERRUPT_VECTOR_CONF</div><div class="ttdef"><b>Definition:</b> nvme.h:818</div></div>
<div class="ttc" id="astructNvmeSQueue_html_abb10aae49e80be9c67dd28f484514adb"><div class="ttname"><a href="structNvmeSQueue.html#abb10aae49e80be9c67dd28f484514adb">NvmeSQueue::phys_contig</a></div><div class="ttdeci">uint8_t phys_contig</div><div class="ttdef"><b>Definition:</b> nvme.h:1005</div></div>
<div class="ttc" id="astructFemuCtrl_html_a525d33d10ee74874b135c7899fe80847"><div class="ttname"><a href="structFemuCtrl.html#a525d33d10ee74874b135c7899fe80847">FemuCtrl::eis_addr_hva</a></div><div class="ttdeci">uint64_t eis_addr_hva</div><div class="ttdef"><b>Definition:</b> nvme.h:1280</div></div>
<div class="ttc" id="aintr_8c_html_ab8fc684c66f6970e095cb683d02426d5"><div class="ttname"><a href="intr_8c.html#ab8fc684c66f6970e095cb683d02426d5">nvme_isr_notify_admin</a></div><div class="ttdeci">void nvme_isr_notify_admin(void *opaque)</div><div class="ttdef"><b>Definition:</b> intr.c:173</div></div>
<div class="ttc" id="anvme_8h_html_a4a839eb668ded988a682e6cbf0b337f9a6e35aeafb8118eaa3cb3da7c76f5478c"><div class="ttname"><a href="nvme_8h.html#a4a839eb668ded988a682e6cbf0b337f9a6e35aeafb8118eaa3cb3da7c76f5478c">NVME_LBA_RANGE_TYPE</a></div><div class="ttdeci">@ NVME_LBA_RANGE_TYPE</div><div class="ttdef"><b>Definition:</b> nvme.h:812</div></div>
<div class="ttc" id="astructNvmeCreateSq_html_a314795f26ad1d2f0b361ac941b893686"><div class="ttname"><a href="structNvmeCreateSq.html#a314795f26ad1d2f0b361ac941b893686">NvmeCreateSq::cqid</a></div><div class="ttdeci">uint16_t cqid</div><div class="ttdef"><b>Definition:</b> nvme.h:385</div></div>
<div class="ttc" id="astructNvmeIdentity_html_ad4301e0b7fc06230eb08b77642fb3241"><div class="ttname"><a href="structNvmeIdentity.html#ad4301e0b7fc06230eb08b77642fb3241">NvmeIdentity::cns</a></div><div class="ttdeci">uint32_t cns</div><div class="ttdef"><b>Definition:</b> nvme.h:408</div></div>
<div class="ttc" id="anvme_8h_html_a46ac758623e37517fd56ea3255a0c521"><div class="ttname"><a href="nvme_8h.html#a46ac758623e37517fd56ea3255a0c521">NVME_CQ_FLAGS_PC</a></div><div class="ttdeci">#define NVME_CQ_FLAGS_PC(cq_flags)</div><div class="ttdef"><b>Definition:</b> nvme.h:372</div></div>
<div class="ttc" id="anvme_8h_html_a2259ab6ad32aaf55b340159f4fb043f4a2ada2c6f76be836f35c1c1a27921791b"><div class="ttname"><a href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a2ada2c6f76be836f35c1c1a27921791b">NVME_INVALID_LOG_ID</a></div><div class="ttdeci">@ NVME_INVALID_LOG_ID</div><div class="ttdef"><b>Definition:</b> nvme.h:547</div></div>
<div class="ttc" id="astructNvmeCmd_html_a3b34c627a05e2a86edf1a93567422c8c"><div class="ttname"><a href="structNvmeCmd.html#a3b34c627a05e2a86edf1a93567422c8c">NvmeCmd::dptr</a></div><div class="ttdeci">NvmeCmdDptr dptr</div><div class="ttdef"><b>Definition:</b> nvme.h:299</div></div>
<div class="ttc" id="anvme_8h_html_a2259ab6ad32aaf55b340159f4fb043f4a778b8f53d6725ef86c455e2e55d46ce7"><div class="ttname"><a href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a778b8f53d6725ef86c455e2e55d46ce7">NVME_INVALID_OPCODE</a></div><div class="ttdeci">@ NVME_INVALID_OPCODE</div><div class="ttdef"><b>Definition:</b> nvme.h:521</div></div>
<div class="ttc" id="anvme_8h_html_a8b54138b79410c03932cbda6432f11bcab48f109e06ae031c938dfecc3c5deca4"><div class="ttname"><a href="nvme_8h.html#a8b54138b79410c03932cbda6432f11bcab48f109e06ae031c938dfecc3c5deca4">NVME_OACS_FORMAT</a></div><div class="ttdeci">@ NVME_OACS_FORMAT</div><div class="ttdef"><b>Definition:</b> nvme.h:755</div></div>
<div class="ttc" id="anvme-admin_8c_html_a9eeb98def2fad8039662200e9854b7e7"><div class="ttname"><a href="nvme-admin_8c.html#a9eeb98def2fad8039662200e9854b7e7">nvme_identify_nslist</a></div><div class="ttdeci">static uint16_t nvme_identify_nslist(FemuCtrl *n, NvmeCmd *cmd)</div><div class="ttdef"><b>Definition:</b> nvme-admin.c:386</div></div>
<div class="ttc" id="anvme-admin_8c_html_a3d75f111de790b87949e3c7bf2d4ea04"><div class="ttname"><a href="nvme-admin_8c.html#a3d75f111de790b87949e3c7bf2d4ea04">nvme_cse_iocs_nvm</a></div><div class="ttdeci">static const uint32_t nvme_cse_iocs_nvm[256]</div><div class="ttdef"><b>Definition:</b> nvme-admin.c:47</div></div>
<div class="ttc" id="anvme_8h_html_af84c4c35c60574c51e83e47bbc873fc2a652e2c2c1bdde8e600c920e4ec442570"><div class="ttname"><a href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2a652e2c2c1bdde8e600c920e4ec442570">NVME_ADM_CMD_GET_FEATURES</a></div><div class="ttdeci">@ NVME_ADM_CMD_GET_FEATURES</div><div class="ttdef"><b>Definition:</b> nvme.h:320</div></div>
<div class="ttc" id="anvme_8h_html_a07e46a853151dc5e5a8233d7eea6fb87aeb8ce7594591e542120ab9bc2e7bc8c8"><div class="ttname"><a href="nvme_8h.html#a07e46a853151dc5e5a8233d7eea6fb87aeb8ce7594591e542120ab9bc2e7bc8c8">NVME_ID_CNS_CTRL</a></div><div class="ttdeci">@ NVME_ID_CNS_CTRL</div><div class="ttdef"><b>Definition:</b> nvme.h:673</div></div>
<div class="ttc" id="astructFemuCtrl_html_a380a277dfc1bb8f2a192f6244a3f4fdb"><div class="ttname"><a href="structFemuCtrl.html#a380a277dfc1bb8f2a192f6244a3f4fdb">FemuCtrl::cq</a></div><div class="ttdeci">NvmeCQueue ** cq</div><div class="ttdef"><b>Definition:</b> nvme.h:1267</div></div>
<div class="ttc" id="anvme-admin_8c_html_a1068e4177c9ff25ec1cc15b18d26356b"><div class="ttname"><a href="nvme-admin_8c.html#a1068e4177c9ff25ec1cc15b18d26356b">nvme_format_namespace</a></div><div class="ttdeci">static uint16_t nvme_format_namespace(NvmeNamespace *ns, uint8_t lba_idx, uint8_t meta_loc, uint8_t pil, uint8_t pi, uint8_t sec_erase)</div><div class="ttdef"><b>Definition:</b> nvme-admin.c:878</div></div>
<div class="ttc" id="astructNvmeIdNs_html_a4a814e395ae6ea7b3b7c5cba1c22ad85"><div class="ttname"><a href="structNvmeIdNs.html#a4a814e395ae6ea7b3b7c5cba1c22ad85">NvmeIdNs::nsze</a></div><div class="ttdeci">uint64_t nsze</div><div class="ttdef"><b>Definition:</b> nvme.h:858</div></div>
<div class="ttc" id="astructNvmeCqe_html_a04d90512c54de01e2e60649ecd1ea2e9"><div class="ttname"><a href="structNvmeCqe.html#a04d90512c54de01e2e60649ecd1ea2e9">NvmeCqe::n</a></div><div class="ttdeci">struct NvmeCqe::@15::@17 n</div></div>
<div class="ttc" id="astructNvmeIdCtrlZoned_html_a4c7dc94b9701b0dc6ef3b8875e1e8820"><div class="ttname"><a href="structNvmeIdCtrlZoned.html#a4c7dc94b9701b0dc6ef3b8875e1e8820">NvmeIdCtrlZoned::zasl</a></div><div class="ttdeci">uint8_t zasl</div><div class="ttdef"><b>Definition:</b> zns.h:11</div></div>
<div class="ttc" id="anvme_8h_html_a1bc484f7a7e6b692c544cff5f6192110"><div class="ttname"><a href="nvme_8h.html#a1bc484f7a7e6b692c544cff5f6192110">NVME_CC_CSS</a></div><div class="ttdeci">#define NVME_CC_CSS(cc)</div><div class="ttdef"><b>Definition:</b> nvme.h:149</div></div>
<div class="ttc" id="astructNvmeEffectsLog_html_a54fc3f097a3c483d7ab73ee139e2e8dd"><div class="ttname"><a href="structNvmeEffectsLog.html#a54fc3f097a3c483d7ab73ee139e2e8dd">NvmeEffectsLog::acs</a></div><div class="ttdeci">uint32_t acs[256]</div><div class="ttdef"><b>Definition:</b> nvme.h:635</div></div>
<div class="ttc" id="anvme-util_8c_html_a6410408d19dd2986cba9a815d25871a8"><div class="ttname"><a href="nvme-util_8c.html#a6410408d19dd2986cba9a815d25871a8">nvme_init_cq</a></div><div class="ttdeci">uint16_t nvme_init_cq(NvmeCQueue *cq, FemuCtrl *n, uint64_t dma_addr, uint16_t cqid, uint16_t vector, uint16_t size, uint16_t irq_enabled, int contig)</div><div class="ttdef"><b>Definition:</b> nvme-util.c:225</div></div>
<div class="ttc" id="astructNvmeCQueue_html_af31e498d59d5db90e6fe9d1e7127119d"><div class="ttname"><a href="structNvmeCQueue.html#af31e498d59d5db90e6fe9d1e7127119d">NvmeCQueue::eventidx_addr_hva</a></div><div class="ttdeci">uint64_t eventidx_addr_hva</div><div class="ttdef"><b>Definition:</b> nvme.h:1049</div></div>
<div class="ttc" id="anvme_8h_html_adb2b0bc7615481f312cc37b43e06fc2ea702892f216e7734538645256cc611b86"><div class="ttname"><a href="nvme_8h.html#adb2b0bc7615481f312cc37b43e06fc2ea702892f216e7734538645256cc611b86">NVME_NIDL_CSI</a></div><div class="ttdeci">@ NVME_NIDL_CSI</div><div class="ttdef"><b>Definition:</b> nvme.h:902</div></div>
<div class="ttc" id="anvme_8h_html_a01e3a918ff89282c841471f5d797fbf6a012d1c22c46c99812568a7a7857eff90"><div class="ttname"><a href="nvme_8h.html#a01e3a918ff89282c841471f5d797fbf6a012d1c22c46c99812568a7a7857eff90">NVME_CMD_WRITE_ZEROES</a></div><div class="ttdeci">@ NVME_CMD_WRITE_ZEROES</div><div class="ttdef"><b>Definition:</b> nvme.h:338</div></div>
<div class="ttc" id="anvme_8h_html_af84c4c35c60574c51e83e47bbc873fc2ad8ea45598b9b3ed9fbe923e9dcc18a23"><div class="ttname"><a href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2ad8ea45598b9b3ed9fbe923e9dcc18a23">NVME_ADM_CMD_DOWNLOAD_FW</a></div><div class="ttdeci">@ NVME_ADM_CMD_DOWNLOAD_FW</div><div class="ttdef"><b>Definition:</b> nvme.h:323</div></div>
<div class="ttc" id="astructFemuCtrl_html_a0b48d3c6cc09b094369348af59a3b096"><div class="ttname"><a href="structFemuCtrl.html#a0b48d3c6cc09b094369348af59a3b096">FemuCtrl::csi</a></div><div class="ttdeci">uint8_t csi</div><div class="ttdef"><b>Definition:</b> nvme.h:1189</div></div>
<div class="ttc" id="astructNvmeCreateSq_html_a41f39ac233d544027a53aa0443f3bf6a"><div class="ttname"><a href="structNvmeCreateSq.html#a41f39ac233d544027a53aa0443f3bf6a">NvmeCreateSq::prp1</a></div><div class="ttdeci">uint64_t prp1</div><div class="ttdef"><b>Definition:</b> nvme.h:380</div></div>
<div class="ttc" id="aunionNvmeCmdDptr_html_aaad95622d868c580eadba6c852bf961d"><div class="ttname"><a href="unionNvmeCmdDptr.html#aaad95622d868c580eadba6c852bf961d">NvmeCmdDptr::prp1</a></div><div class="ttdeci">uint64_t prp1</div><div class="ttdef"><b>Definition:</b> nvme.h:277</div></div>
<div class="ttc" id="astructNvmeIdNs_html_aaf996e4b4662143c7cb56cb8d42573e6"><div class="ttname"><a href="structNvmeIdNs.html#aaf996e4b4662143c7cb56cb8d42573e6">NvmeIdNs::mc</a></div><div class="ttdeci">uint8_t mc</div><div class="ttdef"><b>Definition:</b> nvme.h:864</div></div>
<div class="ttc" id="anvme-util_8c_html_a4fdc790b9e67ae29e3ef256182ed345b"><div class="ttname"><a href="nvme-util_8c.html#a4fdc790b9e67ae29e3ef256182ed345b">nvme_sq_empty</a></div><div class="ttdeci">uint8_t nvme_sq_empty(NvmeSQueue *sq)</div><div class="ttdef"><b>Definition:</b> nvme-util.c:58</div></div>
<div class="ttc" id="astructNvmeSQueue_html_ac5aa365b6e571542994f682254a5e457"><div class="ttname"><a href="structNvmeSQueue.html#ac5aa365b6e571542994f682254a5e457">NvmeSQueue::sqid</a></div><div class="ttdeci">uint16_t sqid</div><div class="ttdef"><b>Definition:</b> nvme.h:1007</div></div>
<div class="ttc" id="anvme-util_8c_html_a1983cbf62a2b154bc0c1e8f01f2bb1b6"><div class="ttname"><a href="nvme-util_8c.html#a1983cbf62a2b154bc0c1e8f01f2bb1b6">nvme_inc_cq_tail</a></div><div class="ttdeci">void nvme_inc_cq_tail(NvmeCQueue *cq)</div><div class="ttdef"><b>Definition:</b> nvme-util.c:13</div></div>
<div class="ttc" id="anvme_8h_html_ae3418c924869bd02b41bfc8575d4e3f6a4fe0f9735fa58cab4e48a18e8b25effb"><div class="ttname"><a href="nvme_8h.html#ae3418c924869bd02b41bfc8575d4e3f6a4fe0f9735fa58cab4e48a18e8b25effb">NVME_LOG_FW_SLOT_INFO</a></div><div class="ttdeci">@ NVME_LOG_FW_SLOT_INFO</div><div class="ttdef"><b>Definition:</b> nvme.h:653</div></div>
<div class="ttc" id="anvme-admin_8c_html_a4e3add88b587075ed1a120f75f73ea44"><div class="ttname"><a href="nvme-admin_8c.html#a4e3add88b587075ed1a120f75f73ea44">nvme_error_log_info</a></div><div class="ttdeci">static uint16_t nvme_error_log_info(FemuCtrl *n, NvmeCmd *cmd, uint32_t buf_len)</div><div class="ttdef"><b>Definition:</b> nvme-admin.c:692</div></div>
<div class="ttc" id="anvme_8h_html_a4a839eb668ded988a682e6cbf0b337f9adc5f6071d7ed2b4b797845788987d467"><div class="ttname"><a href="nvme_8h.html#a4a839eb668ded988a682e6cbf0b337f9adc5f6071d7ed2b4b797845788987d467">NVME_POWER_MANAGEMENT</a></div><div class="ttdeci">@ NVME_POWER_MANAGEMENT</div><div class="ttdef"><b>Definition:</b> nvme.h:811</div></div>
<div class="ttc" id="astructNvmeLBAF_html_af9a6ca47dd0427de8ce39721e4b79464"><div class="ttname"><a href="structNvmeLBAF.html#af9a6ca47dd0427de8ce39721e4b79464">NvmeLBAF::ms</a></div><div class="ttdeci">uint16_t ms</div><div class="ttdef"><b>Definition:</b> nvme.h:850</div></div>
<div class="ttc" id="anvme_8h_html_af84c4c35c60574c51e83e47bbc873fc2aa6e38ce1b6490e9b3c4ccb1f4d0b28e3"><div class="ttname"><a href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2aa6e38ce1b6490e9b3c4ccb1f4d0b28e3">NVME_ADM_CMD_SECURITY_RECV</a></div><div class="ttdeci">@ NVME_ADM_CMD_SECURITY_RECV</div><div class="ttdef"><b>Definition:</b> nvme.h:326</div></div>
<div class="ttc" id="anvme_8h_html_a07e46a853151dc5e5a8233d7eea6fb87a5a8ff00408bfce9c4635be351bd619a8"><div class="ttname"><a href="nvme_8h.html#a07e46a853151dc5e5a8233d7eea6fb87a5a8ff00408bfce9c4635be351bd619a8">NVME_ID_CNS_NS_ACTIVE_LIST</a></div><div class="ttdeci">@ NVME_ID_CNS_NS_ACTIVE_LIST</div><div class="ttdef"><b>Definition:</b> nvme.h:674</div></div>
<div class="ttc" id="astructNvmeIdNs_html_a751e3c19983752a5acb34244eba649e8"><div class="ttname"><a href="structNvmeIdNs.html#a751e3c19983752a5acb34244eba649e8">NvmeIdNs::lbaf</a></div><div class="ttdeci">NvmeLBAF lbaf[16]</div><div class="ttdef"><b>Definition:</b> nvme.h:887</div></div>
<div class="ttc" id="astructNvmeCmd_html_ab217950fc2408f7a848af10f36b0cd8f"><div class="ttname"><a href="structNvmeCmd.html#ab217950fc2408f7a848af10f36b0cd8f">NvmeCmd::cdw10</a></div><div class="ttdeci">uint32_t cdw10</div><div class="ttdef"><b>Definition:</b> nvme.h:300</div></div>
<div class="ttc" id="astructFemuCtrl_html_a76662c7f1b9027edb1088c28b811c335"><div class="ttname"><a href="structFemuCtrl.html#a76662c7f1b9027edb1088c28b811c335">FemuCtrl::temp_warn_issued</a></div><div class="ttdeci">uint8_t temp_warn_issued</div><div class="ttdef"><b>Definition:</b> nvme.h:1248</div></div>
<div class="ttc" id="anvme-io_8c_html_a03a3accd495e0b00d01b80e009af5c9f"><div class="ttname"><a href="nvme-io_8c.html#a03a3accd495e0b00d01b80e009af5c9f">nvme_post_cqes_io</a></div><div class="ttdeci">void nvme_post_cqes_io(void *opaque)</div><div class="ttdef"><b>Definition:</b> nvme-io.c:530</div></div>
<div class="ttc" id="anvme_8h_html_a4a839eb668ded988a682e6cbf0b337f9a6557de53c613773d79c3fded23975221"><div class="ttname"><a href="nvme_8h.html#a4a839eb668ded988a682e6cbf0b337f9a6557de53c613773d79c3fded23975221">NVME_VOLATILE_WRITE_CACHE</a></div><div class="ttdeci">@ NVME_VOLATILE_WRITE_CACHE</div><div class="ttdef"><b>Definition:</b> nvme.h:815</div></div>
<div class="ttc" id="astructNvmeCmd_html_a2751bc2a772082d3af81124a1d120a0c"><div class="ttname"><a href="structNvmeCmd.html#a2751bc2a772082d3af81124a1d120a0c">NvmeCmd::opcode</a></div><div class="ttdeci">uint16_t opcode</div><div class="ttdef"><b>Definition:</b> nvme.h:291</div></div>
<div class="ttc" id="anvme_8h_html_a984776745dc393d9516716738a918922aaa431a69bc9d371020dcee4ade1b9090"><div class="ttname"><a href="nvme_8h.html#a984776745dc393d9516716738a918922aaa431a69bc9d371020dcee4ade1b9090">NVME_AER_TYPE_ERROR</a></div><div class="ttdeci">@ NVME_AER_TYPE_ERROR</div><div class="ttdef"><b>Definition:</b> nvme.h:483</div></div>
<div class="ttc" id="anvme-admin_8c_html_a6f5c22b725b5eca5912f17066e95cf67"><div class="ttname"><a href="nvme-admin_8c.html#a6f5c22b725b5eca5912f17066e95cf67">nvme_del_sq</a></div><div class="ttdeci">static uint16_t nvme_del_sq(FemuCtrl *n, NvmeCmd *cmd)</div><div class="ttdef"><b>Definition:</b> nvme-admin.c:68</div></div>
<div class="ttc" id="astructNvmeFeatureVal_html_a392d23a7bae9920c1573f7c601419ea7"><div class="ttname"><a href="structNvmeFeatureVal.html#a392d23a7bae9920c1573f7c601419ea7">NvmeFeatureVal::int_vector_config</a></div><div class="ttdeci">uint32_t * int_vector_config</div><div class="ttdef"><b>Definition:</b> nvme.h:793</div></div>
<div class="ttc" id="astructFemuCtrl_html_aeaa1d7586c6d9356cc321cc86b7ebb62"><div class="ttname"><a href="structFemuCtrl.html#aeaa1d7586c6d9356cc321cc86b7ebb62">FemuCtrl::id_ns_zoned</a></div><div class="ttdeci">NvmeIdNsZoned * id_ns_zoned</div><div class="ttdef"><b>Definition:</b> nvme.h:1190</div></div>
<div class="ttc" id="astructNvmeIdNs_html_ae17d963f2c76fadcb0f7962929e50345"><div class="ttname"><a href="structNvmeIdNs.html#ae17d963f2c76fadcb0f7962929e50345">NvmeIdNs::dpc</a></div><div class="ttdeci">uint8_t dpc</div><div class="ttdef"><b>Definition:</b> nvme.h:865</div></div>
<div class="ttc" id="astructNvmeSQueue_html_a8bb4d3fdefc90c08fb147071153c112d"><div class="ttname"><a href="structNvmeSQueue.html#a8bb4d3fdefc90c08fb147071153c112d">NvmeSQueue::eventidx_addr_hva</a></div><div class="ttdeci">uint64_t eventidx_addr_hva</div><div class="ttdef"><b>Definition:</b> nvme.h:1024</div></div>
<div class="ttc" id="anvme_8h_html_a2259ab6ad32aaf55b340159f4fb043f4a8d0c6dca64c12b754ef73f24e4714134"><div class="ttname"><a href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a8d0c6dca64c12b754ef73f24e4714134">NVME_CMD_ABORT_REQ</a></div><div class="ttdeci">@ NVME_CMD_ABORT_REQ</div><div class="ttdef"><b>Definition:</b> nvme.h:527</div></div>
<div class="ttc" id="astructFemuCtrl_html_aad9e10e513218bf41a5fe498fea33e1f"><div class="ttname"><a href="structFemuCtrl.html#aad9e10e513218bf41a5fe498fea33e1f">FemuCtrl::oacs</a></div><div class="ttdeci">uint16_t oacs</div><div class="ttdef"><b>Definition:</b> nvme.h:1215</div></div>
<div class="ttc" id="anvme_8h_html_ab5c77706290dc892f52e14dfe39504b6"><div class="ttname"><a href="nvme_8h.html#ab5c77706290dc892f52e14dfe39504b6">nvme_discontig</a></div><div class="ttdeci">static hwaddr nvme_discontig(uint64_t *dma_addr, uint16_t page_size, uint16_t queue_idx, uint16_t entry_size)</div><div class="ttdef"><b>Definition:</b> nvme.h:1456</div></div>
<div class="ttc" id="astructFemuCtrl_html_ad680a603a7938f5270a6e881409386bf"><div class="ttname"><a href="structFemuCtrl.html#ad680a603a7938f5270a6e881409386bf">FemuCtrl::upg_rd_lat_ns</a></div><div class="ttdeci">int64_t upg_rd_lat_ns</div><div class="ttdef"><b>Definition:</b> nvme.h:1294</div></div>
<div class="ttc" id="astructNvmeNamespace_html_a36234dd5b24e40e6c5ef51058d0cfbaf"><div class="ttname"><a href="structNvmeNamespace.html#a36234dd5b24e40e6c5ef51058d0cfbaf">NvmeNamespace::lba_range</a></div><div class="ttdeci">NvmeRangeType lba_range[64]</div><div class="ttdef"><b>Definition:</b> nvme.h:1062</div></div>
<div class="ttc" id="astructNvmeSmartLog_html_aa0935a50a577278a952f9e0e5bceb7a2"><div class="ttname"><a href="structNvmeSmartLog.html#aa0935a50a577278a952f9e0e5bceb7a2">NvmeSmartLog::available_spare</a></div><div class="ttdeci">uint8_t available_spare</div><div class="ttdef"><b>Definition:</b> nvme.h:609</div></div>
<div class="ttc" id="astructNvmeCQueue_html_abee73fe2f6a1749b69ee6edf4b08f751"><div class="ttname"><a href="structNvmeCQueue.html#abee73fe2f6a1749b69ee6edf4b08f751">NvmeCQueue::prp_list</a></div><div class="ttdeci">uint64_t * prp_list</div><div class="ttdef"><b>Definition:</b> nvme.h:1041</div></div>
<div class="ttc" id="astructNvmeIdNsDescr_html"><div class="ttname"><a href="structNvmeIdNsDescr.html">NvmeIdNsDescr</a></div><div class="ttdef"><b>Definition:</b> nvme.h:892</div></div>
<div class="ttc" id="anvme_8h_html_af84c4c35c60574c51e83e47bbc873fc2ac0c10ad9bcfb49293c285d990cb283ca"><div class="ttname"><a href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2ac0c10ad9bcfb49293c285d990cb283ca">NVME_ADM_CMD_FEMU_DEBUG</a></div><div class="ttdeci">@ NVME_ADM_CMD_FEMU_DEBUG</div><div class="ttdef"><b>Definition:</b> nvme.h:328</div></div>
<div class="ttc" id="astructNvmeRequest_html_a8cec02fb87e647c828d06f533aec8758"><div class="ttname"><a href="structNvmeRequest.html#a8cec02fb87e647c828d06f533aec8758">NvmeRequest::cqe</a></div><div class="ttdeci">NvmeCqe cqe</div><div class="ttdef"><b>Definition:</b> nvme.h:976</div></div>
<div class="ttc" id="anvme_8h_html_af84c4c35c60574c51e83e47bbc873fc2a2628e50d0a8811c53926a07090883b7e"><div class="ttname"><a href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2a2628e50d0a8811c53926a07090883b7e">NVME_ADM_CMD_CREATE_CQ</a></div><div class="ttdeci">@ NVME_ADM_CMD_CREATE_CQ</div><div class="ttdef"><b>Definition:</b> nvme.h:316</div></div>
<div class="ttc" id="astructNvmeIdNs_html_ac2061ba91f1d2bf0282bfe22221f65a2"><div class="ttname"><a href="structNvmeIdNs.html#ac2061ba91f1d2bf0282bfe22221f65a2">NvmeIdNs::flbas</a></div><div class="ttdeci">uint8_t flbas</div><div class="ttdef"><b>Definition:</b> nvme.h:863</div></div>
<div class="ttc" id="astructNvmeSmartLog_html_abc8868ecb1b7cf486d9f4bce11a75d96"><div class="ttname"><a href="structNvmeSmartLog.html#abc8868ecb1b7cf486d9f4bce11a75d96">NvmeSmartLog::host_write_commands</a></div><div class="ttdeci">uint64_t host_write_commands[2]</div><div class="ttdef"><b>Definition:</b> nvme.h:616</div></div>
<div class="ttc" id="astructNvmeSmartLog_html_a10c9c8ee78e97e4a3ae2d6fd7de28190"><div class="ttname"><a href="structNvmeSmartLog.html#a10c9c8ee78e97e4a3ae2d6fd7de28190">NvmeSmartLog::critical_warning</a></div><div class="ttdeci">uint8_t critical_warning</div><div class="ttdef"><b>Definition:</b> nvme.h:607</div></div>
<div class="ttc" id="anvme_8h_html_a26b13d1406710f5752075a032f0ff1b1adb4496e6884dfee3b6acfb27031f2b8d"><div class="ttname"><a href="nvme_8h.html#a26b13d1406710f5752075a032f0ff1b1adb4496e6884dfee3b6acfb27031f2b8d">NVME_CC_CSS_ADMIN_ONLY</a></div><div class="ttdeci">@ NVME_CC_CSS_ADMIN_ONLY</div><div class="ttdef"><b>Definition:</b> nvme.h:159</div></div>
<div class="ttc" id="anvme-util_8c_html_ac3b74834e78afe9ce3db5074e8398a0f"><div class="ttname"><a href="nvme-util_8c.html#ac3b74834e78afe9ce3db5074e8398a0f">nvme_init_sq</a></div><div class="ttdeci">uint16_t nvme_init_sq(NvmeSQueue *sq, FemuCtrl *n, uint64_t dma_addr, uint16_t sqid, uint16_t cqid, uint16_t size, enum NvmeQueueFlags prio, int contig)</div><div class="ttdef"><b>Definition:</b> nvme-util.c:158</div></div>
<div class="ttc" id="anvme_8h_html_a477fddeddfa08e8eca159ff922f64afd"><div class="ttname"><a href="nvme_8h.html#a477fddeddfa08e8eca159ff922f64afd">NVME_CAP_CQR</a></div><div class="ttdeci">#define NVME_CAP_CQR(cap)</div><div class="ttdef"><b>Definition:</b> nvme.h:87</div></div>
<div class="ttc" id="anvme_8h_html_af84c4c35c60574c51e83e47bbc873fc2a93a81a4a544e0244cbad00915c2bb20a"><div class="ttname"><a href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2a93a81a4a544e0244cbad00915c2bb20a">NVME_ADM_CMD_ASYNC_EV_REQ</a></div><div class="ttdeci">@ NVME_ADM_CMD_ASYNC_EV_REQ</div><div class="ttdef"><b>Definition:</b> nvme.h:321</div></div>
<div class="ttc" id="astructFemuExtCtrlOps_html_a6342ab00b83513510c85451ea84782dc"><div class="ttname"><a href="structFemuExtCtrlOps.html#a6342ab00b83513510c85451ea84782dc">FemuExtCtrlOps::admin_cmd</a></div><div class="ttdeci">uint16_t(* admin_cmd)(struct FemuCtrl *, NvmeCmd *)</div><div class="ttdef"><b>Definition:</b> nvme.h:1165</div></div>
<div class="ttc" id="astructNvmeRequest_html_a18ef977aa1abc169de646d142d6c77d9"><div class="ttname"><a href="structNvmeRequest.html#a18ef977aa1abc169de646d142d6c77d9">NvmeRequest::sq</a></div><div class="ttdeci">struct NvmeSQueue * sq</div><div class="ttdef"><b>Definition:</b> nvme.h:962</div></div>
<div class="ttc" id="astructFemuCtrl_html_a8bd3f2107e1a59779f7d6a669e29b5af"><div class="ttname"><a href="structFemuCtrl.html#a8bd3f2107e1a59779f7d6a669e29b5af">FemuCtrl::num_namespaces</a></div><div class="ttdeci">uint32_t num_namespaces</div><div class="ttdef"><b>Definition:</b> nvme.h:1218</div></div>
<div class="ttc" id="anvme_8h_html_a01e3a918ff89282c841471f5d797fbf6af03a6460a154989e7816c9518c281422"><div class="ttname"><a href="nvme_8h.html#a01e3a918ff89282c841471f5d797fbf6af03a6460a154989e7816c9518c281422">NVME_CMD_ZONE_APPEND</a></div><div class="ttdeci">@ NVME_CMD_ZONE_APPEND</div><div class="ttdef"><b>Definition:</b> nvme.h:342</div></div>
<div class="ttc" id="astructNvmeSmartLog_html_aeba9bddba6accf5b5aeb4ae00cc0613c"><div class="ttname"><a href="structNvmeSmartLog.html#aeba9bddba6accf5b5aeb4ae00cc0613c">NvmeSmartLog::data_units_read</a></div><div class="ttdeci">uint64_t data_units_read[2]</div><div class="ttdef"><b>Definition:</b> nvme.h:613</div></div>
<div class="ttc" id="astructNvmeCqe_html_a4707dde71101275a917c49286b4178c4"><div class="ttname"><a href="structNvmeCqe.html#a4707dde71101275a917c49286b4178c4">NvmeCqe::sq_head</a></div><div class="ttdeci">uint16_t sq_head</div><div class="ttdef"><b>Definition:</b> nvme.h:513</div></div>
<div class="ttc" id="astructNvmeFeatureVal_html_a484359e6104d0f3bfc1f3a81189497d7"><div class="ttname"><a href="structNvmeFeatureVal.html#a484359e6104d0f3bfc1f3a81189497d7">NvmeFeatureVal::int_coalescing</a></div><div class="ttdeci">uint32_t int_coalescing</div><div class="ttdef"><b>Definition:</b> nvme.h:792</div></div>
<div class="ttc" id="astructNvmeSQueue_html_a168092b36fc33b9d4367f36613e9eb9d"><div class="ttname"><a href="structNvmeSQueue.html#a168092b36fc33b9d4367f36613e9eb9d">NvmeSQueue::prp_list</a></div><div class="ttdeci">uint64_t * prp_list</div><div class="ttdef"><b>Definition:</b> nvme.h:1015</div></div>
<div class="ttc" id="astructNvmeSQueue_html_a7b8e3b48aee1060ab0095c0dfe449232"><div class="ttname"><a href="structNvmeSQueue.html#a7b8e3b48aee1060ab0095c0dfe449232">NvmeSQueue::tail</a></div><div class="ttdeci">uint32_t tail</div><div class="ttdef"><b>Definition:</b> nvme.h:1010</div></div>
<div class="ttc" id="astructNvmeSQueue_html_aec83bc34b2dd3541fda15c0279348264"><div class="ttname"><a href="structNvmeSQueue.html#aec83bc34b2dd3541fda15c0279348264">NvmeSQueue::head</a></div><div class="ttdeci">uint32_t head</div><div class="ttdef"><b>Definition:</b> nvme.h:1009</div></div>
<div class="ttc" id="anvme_8h_html_af84c4c35c60574c51e83e47bbc873fc2a30d757882f74173a6571542b16a90f62"><div class="ttname"><a href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2a30d757882f74173a6571542b16a90f62">NVME_ADM_CMD_IDENTIFY</a></div><div class="ttdeci">@ NVME_ADM_CMD_IDENTIFY</div><div class="ttdef"><b>Definition:</b> nvme.h:317</div></div>
<div class="ttc" id="anvme_8h_html_a2259ab6ad32aaf55b340159f4fb043f4ace56a868eb783a9e21d68c92d573edc3"><div class="ttname"><a href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4ace56a868eb783a9e21d68c92d573edc3">NVME_INVALID_QID</a></div><div class="ttdeci">@ NVME_INVALID_QID</div><div class="ttdef"><b>Definition:</b> nvme.h:539</div></div>
<div class="ttc" id="anvme-util_8c_html_ab586dd53da50fb72e2a7359e5f5ce7b6"><div class="ttname"><a href="nvme-util_8c.html#ab586dd53da50fb72e2a7359e5f5ce7b6">nvme_check_sqid</a></div><div class="ttdeci">int nvme_check_sqid(FemuCtrl *n, uint16_t sqid)</div><div class="ttdef"><b>Definition:</b> nvme-util.c:3</div></div>
<div class="ttc" id="anvme-admin_8c_html_ace67c34426486b78b1b20cba61ab28b8"><div class="ttname"><a href="nvme-admin_8c.html#ace67c34426486b78b1b20cba61ab28b8">nvme_get_log</a></div><div class="ttdeci">static uint16_t nvme_get_log(FemuCtrl *n, NvmeCmd *cmd)</div><div class="ttdef"><b>Definition:</b> nvme-admin.c:781</div></div>
<div class="ttc" id="astructNvmeCQueue_html_acae37027eeb09a4a07017b099f3faabe"><div class="ttname"><a href="structNvmeCQueue.html#acae37027eeb09a4a07017b099f3faabe">NvmeCQueue::eventidx_addr</a></div><div class="ttdeci">uint64_t eventidx_addr</div><div class="ttdef"><b>Definition:</b> nvme.h:1048</div></div>
<div class="ttc" id="anvme_8h_html_a2259ab6ad32aaf55b340159f4fb043f4a934aa78b357b112ee0a55ab24d129e72"><div class="ttname"><a href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a934aa78b357b112ee0a55ab24d129e72">NVME_INVALID_FORMAT</a></div><div class="ttdeci">@ NVME_INVALID_FORMAT</div><div class="ttdef"><b>Definition:</b> nvme.h:548</div></div>
<div class="ttc" id="astructFemuCtrl_html_a9d862ea82682f6232413280b92ddc4d1"><div class="ttname"><a href="structFemuCtrl.html#a9d862ea82682f6232413280b92ddc4d1">FemuCtrl::parent_obj</a></div><div class="ttdeci">PCIDevice parent_obj</div><div class="ttdef"><b>Definition:</b> nvme.h:1171</div></div>
<div class="ttc" id="anvme_8h_html_a8cb2e5a888e30a776cff93676ac3e5c0"><div class="ttname"><a href="nvme_8h.html#a8cb2e5a888e30a776cff93676ac3e5c0">NVME_OP_ABORTED</a></div><div class="ttdeci">#define NVME_OP_ABORTED</div><div class="ttdef"><b>Definition:</b> nvme.h:84</div></div>
<div class="ttc" id="anvme_8h_html_a01e3a918ff89282c841471f5d797fbf6a13421e16e166f06ef616c86258232336"><div class="ttname"><a href="nvme_8h.html#a01e3a918ff89282c841471f5d797fbf6a13421e16e166f06ef616c86258232336">NVME_CMD_READ</a></div><div class="ttdeci">@ NVME_CMD_READ</div><div class="ttdef"><b>Definition:</b> nvme.h:335</div></div>
<div class="ttc" id="anvme_8h_html_a19e708866bcd5dbe88a1a6ba68d62b41"><div class="ttname"><a href="nvme_8h.html#a19e708866bcd5dbe88a1a6ba68d62b41">NVME_ID_NS_MC_SEPARATE</a></div><div class="ttdeci">#define NVME_ID_NS_MC_SEPARATE(mc)</div><div class="ttdef"><b>Definition:</b> nvme.h:915</div></div>
<div class="ttc" id="anvme_8h_html_af84c4c35c60574c51e83e47bbc873fc2a6e5a3b773a6dd50a3c81c87c23815346"><div class="ttname"><a href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2a6e5a3b773a6dd50a3c81c87c23815346">NVME_ADM_CMD_SET_FEATURES</a></div><div class="ttdeci">@ NVME_ADM_CMD_SET_FEATURES</div><div class="ttdef"><b>Definition:</b> nvme.h:319</div></div>
<div class="ttc" id="anvme_8h_html_a2259ab6ad32aaf55b340159f4fb043f4aa299434653d9a30023fab366774db6ae"><div class="ttname"><a href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4aa299434653d9a30023fab366774db6ae">NVME_INVALID_IRQ_VECTOR</a></div><div class="ttdeci">@ NVME_INVALID_IRQ_VECTOR</div><div class="ttdef"><b>Definition:</b> nvme.h:546</div></div>
<div class="ttc" id="astructNvmeSQueue_html_a33aec6e6249873acbc63b47645bf182b"><div class="ttname"><a href="structNvmeSQueue.html#a33aec6e6249873acbc63b47645bf182b">NvmeSQueue::size</a></div><div class="ttdeci">uint32_t size</div><div class="ttdef"><b>Definition:</b> nvme.h:1011</div></div>
<div class="ttc" id="astructNvmeFeatureVal_html_a877d533f2292d0b48b8fa51a0982e7be"><div class="ttname"><a href="structNvmeFeatureVal.html#a877d533f2292d0b48b8fa51a0982e7be">NvmeFeatureVal::sw_prog_marker</a></div><div class="ttdeci">uint32_t sw_prog_marker</div><div class="ttdef"><b>Definition:</b> nvme.h:796</div></div>
<div class="ttc" id="astructNvmeIdNs_html_acc6d0826dfaffd161fe99cf87b4872ce"><div class="ttname"><a href="structNvmeIdNs.html#acc6d0826dfaffd161fe99cf87b4872ce">NvmeIdNs::dps</a></div><div class="ttdeci">uint8_t dps</div><div class="ttdef"><b>Definition:</b> nvme.h:866</div></div>
<div class="ttc" id="anvme_8h_html_a2259ab6ad32aaf55b340159f4fb043f4a4c080463e158441c5b7b4000da2ed3e4"><div class="ttname"><a href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a4c080463e158441c5b7b4000da2ed3e4">NVME_INVALID_NSID</a></div><div class="ttdeci">@ NVME_INVALID_NSID</div><div class="ttdef"><b>Definition:</b> nvme.h:531</div></div>
<div class="ttc" id="astructFemuCtrl_html_a9c79bc6a808f9fe2f27ee8e0fa385313"><div class="ttname"><a href="structFemuCtrl.html#a9c79bc6a808f9fe2f27ee8e0fa385313">FemuCtrl::blk_er_lat_ns</a></div><div class="ttdeci">int64_t blk_er_lat_ns</div><div class="ttdef"><b>Definition:</b> nvme.h:1304</div></div>
<div class="ttc" id="aunionNvmeCmdDptr_html_a9fc9a97c707652c679097b32ffd84bc3"><div class="ttname"><a href="unionNvmeCmdDptr.html#a9fc9a97c707652c679097b32ffd84bc3">NvmeCmdDptr::prp2</a></div><div class="ttdeci">uint64_t prp2</div><div class="ttdef"><b>Definition:</b> nvme.h:278</div></div>
<div class="ttc" id="astructFemuCtrl_html_a98ca6ff3bc65ccc7f98a589e018b7d71"><div class="ttname"><a href="structFemuCtrl.html#a98ca6ff3bc65ccc7f98a589e018b7d71">FemuCtrl::namespaces</a></div><div class="ttdeci">NvmeNamespace * namespaces</div><div class="ttdef"><b>Definition:</b> nvme.h:1265</div></div>
<div class="ttc" id="astructFemuCtrl_html_a0a9669e4a908e3dd0b732c8d69b88a6d"><div class="ttname"><a href="structFemuCtrl.html#a0a9669e4a908e3dd0b732c8d69b88a6d">FemuCtrl::poller_on</a></div><div class="ttdeci">bool poller_on</div><div class="ttdef"><b>Definition:</b> nvme.h:1316</div></div>
<div class="ttc" id="anvme_8h_html_ab5233c5c538a64df4e9b391949d334e3"><div class="ttname"><a href="nvme_8h.html#ab5233c5c538a64df4e9b391949d334e3">ns_blks</a></div><div class="ttdeci">static uint64_t ns_blks(NvmeNamespace *ns, uint8_t lba_idx)</div><div class="ttdef"><b>Definition:</b> nvme.h:1444</div></div>
<div class="ttc" id="astructNvmeFeatureVal_html_a3425f02bb96f18760ef44b0e0a055741"><div class="ttname"><a href="structNvmeFeatureVal.html#a3425f02bb96f18760ef44b0e0a055741">NvmeFeatureVal::volatile_wc</a></div><div class="ttdeci">uint32_t volatile_wc</div><div class="ttdef"><b>Definition:</b> nvme.h:790</div></div>
<div class="ttc" id="astructFemuCtrl_html_a0456828e9802380dee025b663079afcf"><div class="ttname"><a href="structFemuCtrl.html#a0456828e9802380dee025b663079afcf">FemuCtrl::elpes</a></div><div class="ttdeci">NvmeErrorLog * elpes</div><div class="ttdef"><b>Definition:</b> nvme.h:1263</div></div>
<div class="ttc" id="astructFemuCtrl_html_a6291ffd43b13aa9c7bc871a7e1bb4a11"><div class="ttname"><a href="structFemuCtrl.html#a6291ffd43b13aa9c7bc871a7e1bb4a11">FemuCtrl::dataplane_started</a></div><div class="ttdeci">bool dataplane_started</div><div class="ttdef"><b>Definition:</b> nvme.h:1259</div></div>
<div class="ttc" id="anvme_8h_html_a26b13d1406710f5752075a032f0ff1b1a3d173cd87d993bac8f4e5cb87efb0879"><div class="ttname"><a href="nvme_8h.html#a26b13d1406710f5752075a032f0ff1b1a3d173cd87d993bac8f4e5cb87efb0879">NVME_CC_CSS_NVM</a></div><div class="ttdeci">@ NVME_CC_CSS_NVM</div><div class="ttdef"><b>Definition:</b> nvme.h:157</div></div>
<div class="ttc" id="anvme-util_8c_html_accdd9730e70228b02a109051bcd3ac93"><div class="ttname"><a href="nvme-util_8c.html#accdd9730e70228b02a109051bcd3ac93">nvme_free_cq</a></div><div class="ttdeci">void nvme_free_cq(NvmeCQueue *cq, FemuCtrl *n)</div><div class="ttdef"><b>Definition:</b> nvme-util.c:270</div></div>
<div class="ttc" id="anvme_8h_html_a07e46a853151dc5e5a8233d7eea6fb87a46e7909fe549d7a40d63b9ec49873716"><div class="ttname"><a href="nvme_8h.html#a07e46a853151dc5e5a8233d7eea6fb87a46e7909fe549d7a40d63b9ec49873716">NVME_ID_CNS_CS_NS_PRESENT_LIST</a></div><div class="ttdeci">@ NVME_ID_CNS_CS_NS_PRESENT_LIST</div><div class="ttdef"><b>Definition:</b> nvme.h:681</div></div>
<div class="ttc" id="astructNvmeRequest_html"><div class="ttname"><a href="structNvmeRequest.html">NvmeRequest</a></div><div class="ttdef"><b>Definition:</b> nvme.h:961</div></div>
<div class="ttc" id="astructNvmeCQueue_html_a550822923ef54d73d7efa7f4bf6159c3"><div class="ttname"><a href="structNvmeCQueue.html#a550822923ef54d73d7efa7f4bf6159c3">NvmeCQueue::phase</a></div><div class="ttdeci">uint8_t phase</div><div class="ttdef"><b>Definition:</b> nvme.h:1031</div></div>
<div class="ttc" id="astructNvmeNamespace_html_ad0b627e5006c33450b452a995b5c4704"><div class="ttname"><a href="structNvmeNamespace.html#ad0b627e5006c33450b452a995b5c4704">NvmeNamespace::ns_blks</a></div><div class="ttdeci">uint64_t ns_blks</div><div class="ttdef"><b>Definition:</b> nvme.h:1067</div></div>
<div class="ttc" id="anvme_8h_html_af84c4c35c60574c51e83e47bbc873fc2af085b3da8358466c2fb59f5c903375ca"><div class="ttname"><a href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2af085b3da8358466c2fb59f5c903375ca">NVME_ADM_CMD_FORMAT_NVM</a></div><div class="ttdeci">@ NVME_ADM_CMD_FORMAT_NVM</div><div class="ttdef"><b>Definition:</b> nvme.h:324</div></div>
<div class="ttc" id="astructFemuCtrl_html_a6d0418e38e888b2b8980a34198bfd463"><div class="ttname"><a href="structFemuCtrl.html#a6d0418e38e888b2b8980a34198bfd463">FemuCtrl::page_size</a></div><div class="ttdeci">uint16_t page_size</div><div class="ttdef"><b>Definition:</b> nvme.h:1210</div></div>
<div class="ttc" id="astructNvmeFeatureVal_html_ad0949f4a41576cf534231a8ceb73bec7"><div class="ttname"><a href="structNvmeFeatureVal.html#ad0949f4a41576cf534231a8ceb73bec7">NvmeFeatureVal::power_mgmt</a></div><div class="ttdeci">uint32_t power_mgmt</div><div class="ttdef"><b>Definition:</b> nvme.h:787</div></div>
<div class="ttc" id="astructNvmeSQueue_html_a7e289d563e907e4a724af16364350602"><div class="ttname"><a href="structNvmeSQueue.html#a7e289d563e907e4a724af16364350602">NvmeSQueue::dma_addr</a></div><div class="ttdeci">uint64_t dma_addr</div><div class="ttdef"><b>Definition:</b> nvme.h:1012</div></div>
<div class="ttc" id="astructNvmeCreateCq_html_afc898d5f6a24efbe78fdbf2b125253ca"><div class="ttname"><a href="structNvmeCreateCq.html#afc898d5f6a24efbe78fdbf2b125253ca">NvmeCreateCq::qsize</a></div><div class="ttdeci">uint16_t qsize</div><div class="ttdef"><b>Definition:</b> nvme.h:366</div></div>
<div class="ttc" id="anvme_8h_html_ad45065ad42ab0a0c81c77ba61cf90c35"><div class="ttname"><a href="nvme_8h.html#ad45065ad42ab0a0c81c77ba61cf90c35">NVME_CAP_MQES</a></div><div class="ttdeci">#define NVME_CAP_MQES(cap)</div><div class="ttdef"><b>Definition:</b> nvme.h:86</div></div>
<div class="ttc" id="anvme_8h_html_af84c4c35c60574c51e83e47bbc873fc2a7a0e1726646532b948fb1d8b377bad37"><div class="ttname"><a href="nvme_8h.html#af84c4c35c60574c51e83e47bbc873fc2a7a0e1726646532b948fb1d8b377bad37">NVME_ADM_CMD_ABORT</a></div><div class="ttdeci">@ NVME_ADM_CMD_ABORT</div><div class="ttdef"><b>Definition:</b> nvme.h:318</div></div>
<div class="ttc" id="anvme_8h_html_a07e46a853151dc5e5a8233d7eea6fb87a75a5b9bba4f97541669a53d839baa8e3"><div class="ttname"><a href="nvme_8h.html#a07e46a853151dc5e5a8233d7eea6fb87a75a5b9bba4f97541669a53d839baa8e3">NVME_ID_CNS_NS_PRESENT</a></div><div class="ttdeci">@ NVME_ID_CNS_NS_PRESENT</div><div class="ttdef"><b>Definition:</b> nvme.h:680</div></div>
<div class="ttc" id="anvme_8h_html_a2259ab6ad32aaf55b340159f4fb043f4a8b85ba3cbcb57ab6be06fdced051d11c"><div class="ttname"><a href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a8b85ba3cbcb57ab6be06fdced051d11c">NVME_INVALID_FIELD</a></div><div class="ttdeci">@ NVME_INVALID_FIELD</div><div class="ttdef"><b>Definition:</b> nvme.h:522</div></div>
<div class="ttc" id="astructNvmeCreateCq_html_aa1ea8add5dbe76a41183a3a5c6e16c93"><div class="ttname"><a href="structNvmeCreateCq.html#aa1ea8add5dbe76a41183a3a5c6e16c93">NvmeCreateCq::prp1</a></div><div class="ttdeci">uint64_t prp1</div><div class="ttdef"><b>Definition:</b> nvme.h:363</div></div>
<div class="ttc" id="anvme_8h_html_a2259ab6ad32aaf55b340159f4fb043f4a9d1df533f33444512ea83101ab813009"><div class="ttname"><a href="nvme_8h.html#a2259ab6ad32aaf55b340159f4fb043f4a9d1df533f33444512ea83101ab813009">NVME_INVALID_CMD_SET</a></div><div class="ttdeci">@ NVME_INVALID_CMD_SET</div><div class="ttdef"><b>Definition:</b> nvme.h:533</div></div>
<div class="ttc" id="astructNvmeCqe_html_a8e87b5e0e44fd97e1e92f41c851eb764"><div class="ttname"><a href="structNvmeCqe.html#a8e87b5e0e44fd97e1e92f41c851eb764">NvmeCqe::cid</a></div><div class="ttdeci">uint16_t cid</div><div class="ttdef"><b>Definition:</b> nvme.h:515</div></div>
<div class="ttc" id="anvme_8h_html_a95af518abe4c85115e4473123f9a7269"><div class="ttname"><a href="nvme_8h.html#a95af518abe4c85115e4473123f9a7269">NVME_SET_CSI</a></div><div class="ttdeci">#define NVME_SET_CSI(vec, csi)</div><div class="ttdef"><b>Definition:</b> nvme.h:579</div></div>
<div class="ttc" id="astructNvmeFeatureVal_html_a63adb2ba3685f4bf39e7375c37be8b14"><div class="ttname"><a href="structNvmeFeatureVal.html#a63adb2ba3685f4bf39e7375c37be8b14">NvmeFeatureVal::err_rec</a></div><div class="ttdeci">uint32_t err_rec</div><div class="ttdef"><b>Definition:</b> nvme.h:789</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="nvme-admin_8c.html">nvme-admin.c</a></li>
    <li class="footer">制作者
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
