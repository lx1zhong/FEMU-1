<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FEMU: inc/rte_ring.h 文件参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FEMU
   &#160;<span id="projectnumber">原版 master 7e238cc</span>
   </div>
   <div id="projectbrief">FEMU: Accurate, Scalable and Extensible NVMe SSD Emulator (FAST&#39;18)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'搜索');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('rte__ring_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">结构体</a> &#124;
<a href="#define-members">宏定义</a> &#124;
<a href="#enum-members">枚举</a> &#124;
<a href="#func-members">函数</a>  </div>
  <div class="headertitle">
<div class="title">rte_ring.h 文件参考</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;sys/queue.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;xmmintrin.h&gt;</code><br />
<code>#include &quot;<a class="el" href="rte__atomic__x86_8h_source.html">rte_atomic_x86.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rte__branch__prediction_8h_source.html">rte_branch_prediction.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
rte_ring.h 的引用(Include)关系图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h__incl.png" border="0" usemap="#inc_2rte__ring_8h" alt=""/></div>
<map name="inc_2rte__ring_8h" id="inc_2rte__ring_8h">
<area shape="rect" title=" " alt="" coords="296,5,403,32"/>
<area shape="rect" title=" " alt="" coords="5,80,72,107"/>
<area shape="rect" title=" " alt="" coords="97,80,167,107"/>
<area shape="rect" title=" " alt="" coords="191,80,291,107"/>
<area shape="rect" title=" " alt="" coords="315,80,383,107"/>
<area shape="rect" title=" " alt="" coords="407,80,510,107"/>
<area shape="rect" href="rte__atomic__x86_8h.html" title=" " alt="" coords="534,80,669,107"/>
<area shape="rect" href="rte__branch__prediction_8h.html" title=" " alt="" coords="693,80,867,107"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
此图展示该文件直接或间接的被哪些文件引用了:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h__dep__incl.png" border="0" usemap="#inc_2rte__ring_8hdep" alt=""/></div>
<map name="inc_2rte__ring_8hdep" id="inc_2rte__ring_8hdep">
<area shape="rect" title=" " alt="" coords="753,5,860,32"/>
<area shape="rect" href="nvme_8h.html" title=" " alt="" coords="717,80,787,107"/>
<area shape="rect" href="rte__ring_8c.html" title=" " alt="" coords="811,80,914,107"/>
<area shape="rect" href="dram_8c.html" title=" " alt="" coords="5,155,131,181"/>
<area shape="rect" href="bb_8c.html" title=" " alt="" coords="123,229,213,256"/>
<area shape="rect" href="ftl_8h.html" title=" " alt="" coords="206,155,295,181"/>
<area shape="rect" href="dma_8c.html" title=" " alt="" coords="319,155,382,181"/>
<area shape="rect" href="femu_8c.html" title=" " alt="" coords="407,155,473,181"/>
<area shape="rect" href="intr_8c.html" title=" " alt="" coords="498,155,553,181"/>
<area shape="rect" href="nand_8c.html" title=" " alt="" coords="577,155,679,181"/>
<area shape="rect" href="nop_8c.html" title=" " alt="" coords="703,155,801,181"/>
<area shape="rect" href="nvme-admin_8c.html" title=" " alt="" coords="826,155,942,181"/>
<area shape="rect" href="nvme-io_8c.html" title=" " alt="" coords="966,155,1053,181"/>
<area shape="rect" href="nvme-util_8c.html" title=" " alt="" coords="1077,155,1173,181"/>
<area shape="rect" href="oc12_8h.html" title=" " alt="" coords="1197,155,1304,181"/>
<area shape="rect" href="oc20_8h.html" title=" " alt="" coords="1328,155,1435,181"/>
<area shape="rect" href="timing_8c.html" title=" " alt="" coords="1459,155,1626,181"/>
<area shape="rect" href="zns_8h.html" title=" " alt="" coords="1651,155,1733,181"/>
<area shape="rect" href="ftl_8c.html" title=" " alt="" coords="237,229,325,256"/>
<area shape="rect" href="oc12_8c.html" title=" " alt="" coords="1198,229,1303,256"/>
<area shape="rect" href="oc20_8c.html" title=" " alt="" coords="1329,229,1434,256"/>
<area shape="rect" href="zns_8c.html" title=" " alt="" coords="1651,229,1733,256"/>
</map>
</div>
</div>
<p><a href="rte__ring_8h_source.html">浏览源代码.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
结构体</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrte__ring__headtail.html">rte_ring_headtail</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrte__ring.html">rte_ring</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
宏定义</h2></td></tr>
<tr class="memitem:af1e21922385a6cbe051e3ab70bba9f11"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a>&#160;&#160;&#160;inline</td></tr>
<tr class="separator:af1e21922385a6cbe051e3ab70bba9f11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ef0470e7e801a61031e9e7f2994914c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#a2ef0470e7e801a61031e9e7f2994914c">RTE_RING_MZ_PREFIX</a>&#160;&#160;&#160;&quot;RG_&quot;</td></tr>
<tr class="separator:a2ef0470e7e801a61031e9e7f2994914c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54967fd85fe8fe16fe0b2925e5ceb170"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#a54967fd85fe8fe16fe0b2925e5ceb170">RTE_NAMESIZE</a>&#160;&#160;&#160;256</td></tr>
<tr class="separator:a54967fd85fe8fe16fe0b2925e5ceb170"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a127c66adbeab4653a47649993b94f35b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#a127c66adbeab4653a47649993b94f35b">RING_F_SP_ENQ</a>&#160;&#160;&#160;0x0001</td></tr>
<tr class="separator:a127c66adbeab4653a47649993b94f35b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a421a61b2f94cdf65b3a6ac146c492fb9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#a421a61b2f94cdf65b3a6ac146c492fb9">RING_F_SC_DEQ</a>&#160;&#160;&#160;0x0002</td></tr>
<tr class="separator:a421a61b2f94cdf65b3a6ac146c492fb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a136e9157866738284259cf2d64a06783"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#a136e9157866738284259cf2d64a06783">RING_F_EXACT_SZ</a>&#160;&#160;&#160;0x0004</td></tr>
<tr class="separator:a136e9157866738284259cf2d64a06783"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeecc92053129fb9aff3e9ced08f3a834"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#aeecc92053129fb9aff3e9ced08f3a834">RTE_RING_SZ_MASK</a>&#160;&#160;&#160;(unsigned)(0x0fffffff)</td></tr>
<tr class="separator:aeecc92053129fb9aff3e9ced08f3a834"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad5423899c79ed55b32ec46ab28faf15"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#aad5423899c79ed55b32ec46ab28faf15">__IS_SP</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:aad5423899c79ed55b32ec46ab28faf15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6797237f9f8cfa0ea1e8ae5362baf914"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#a6797237f9f8cfa0ea1e8ae5362baf914">__IS_MP</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a6797237f9f8cfa0ea1e8ae5362baf914"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11c27e4768116c096185f4cd260e2ec5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#a11c27e4768116c096185f4cd260e2ec5">__IS_SC</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a11c27e4768116c096185f4cd260e2ec5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecdaba437ff3f20b3277728f69a81f01"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#aecdaba437ff3f20b3277728f69a81f01">__IS_MC</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:aecdaba437ff3f20b3277728f69a81f01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac02cccbbf8e0c7286b34d63052609d89"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#ac02cccbbf8e0c7286b34d63052609d89">ENQUEUE_PTRS</a>(r,  ring_start,  prod_head,  obj_table,  n,  obj_type)</td></tr>
<tr class="separator:ac02cccbbf8e0c7286b34d63052609d89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeeab4d1f1ef9410ecbc493b44c61ee7d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#aeeab4d1f1ef9410ecbc493b44c61ee7d">DEQUEUE_PTRS</a>(r,  ring_start,  cons_head,  obj_table,  n,  obj_type)</td></tr>
<tr class="separator:aeeab4d1f1ef9410ecbc493b44c61ee7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
枚举</h2></td></tr>
<tr class="memitem:a76713934bd03f54fbc8850c6401ad390"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#a76713934bd03f54fbc8850c6401ad390">rte_ring_queue_behavior</a> { <a class="el" href="rte__ring_8h.html#a76713934bd03f54fbc8850c6401ad390ae1a2f11cc007572fa3b7e8ff00199e10">RTE_RING_QUEUE_FIXED</a> = 0, 
<a class="el" href="rte__ring_8h.html#a76713934bd03f54fbc8850c6401ad390a0f222f386dd0a2cd1b3cd43ca763ae87">RTE_RING_QUEUE_VARIABLE</a>
 }</td></tr>
<tr class="separator:a76713934bd03f54fbc8850c6401ad390"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40c2b32849ee40a3926720f2ab1cdec7"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#a40c2b32849ee40a3926720f2ab1cdec7">femu_ring_type</a> { <a class="el" href="rte__ring_8h.html#a40c2b32849ee40a3926720f2ab1cdec7ab01c5582b0ca471ab9c188d7d1580c05">FEMU_RING_TYPE_SP_SC</a>, 
<a class="el" href="rte__ring_8h.html#a40c2b32849ee40a3926720f2ab1cdec7ad2388957eaf21c85bc07f6044f60af88">FEMU_RING_TYPE_MP_SC</a>, 
<a class="el" href="rte__ring_8h.html#a40c2b32849ee40a3926720f2ab1cdec7a4d55236339bad776b055208601d2e4d4">FEMU_RING_TYPE_MP_MC</a>
 }</td></tr>
<tr class="separator:a40c2b32849ee40a3926720f2ab1cdec7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
函数</h2></td></tr>
<tr class="memitem:a5a85fd1038be9376de166494057e6aa1"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#a5a85fd1038be9376de166494057e6aa1">rte_align32pow2</a> (uint32_t x)</td></tr>
<tr class="separator:a5a85fd1038be9376de166494057e6aa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac29f8523d355c107377858bdeb468486"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#ac29f8523d355c107377858bdeb468486">rte_ring_get_memsize</a> (unsigned count)</td></tr>
<tr class="separator:ac29f8523d355c107377858bdeb468486"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a44f25853c926ac1b29562857244366"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#a7a44f25853c926ac1b29562857244366">rte_ring_init</a> (struct <a class="el" href="structrte__ring.html">rte_ring</a> *r, const char *name, unsigned count, unsigned flags)</td></tr>
<tr class="separator:a7a44f25853c926ac1b29562857244366"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a122812947c00f9ed3066232accf5fa5a"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structrte__ring.html">rte_ring</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#a122812947c00f9ed3066232accf5fa5a">rte_ring_create</a> (const char *name, unsigned count, unsigned flags)</td></tr>
<tr class="separator:a122812947c00f9ed3066232accf5fa5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a564e012c1eb4ae08f9eea3acfd08b377"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#a564e012c1eb4ae08f9eea3acfd08b377">rte_ring_free</a> (struct <a class="el" href="structrte__ring.html">rte_ring</a> *r)</td></tr>
<tr class="separator:a564e012c1eb4ae08f9eea3acfd08b377"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09c464281266543ebc0766902467c69b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#a09c464281266543ebc0766902467c69b">rte_ring_dump</a> (FILE *f, const struct <a class="el" href="structrte__ring.html">rte_ring</a> *r)</td></tr>
<tr class="separator:a09c464281266543ebc0766902467c69b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a269bf4b0dad1a7d2bb0396350f5e7976"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#a269bf4b0dad1a7d2bb0396350f5e7976">update_tail</a> (struct <a class="el" href="structrte__ring__headtail.html">rte_ring_headtail</a> *ht, uint32_t old_val, uint32_t new_val, uint32_t single)</td></tr>
<tr class="separator:a269bf4b0dad1a7d2bb0396350f5e7976"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22ab749e8f41b8e232a5c54a5c100d16"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#a22ab749e8f41b8e232a5c54a5c100d16">__rte_ring_move_prod_head</a> (struct <a class="el" href="structrte__ring.html">rte_ring</a> *r, int is_sp, unsigned int n, enum <a class="el" href="rte__ring_8h.html#a76713934bd03f54fbc8850c6401ad390">rte_ring_queue_behavior</a> behavior, uint32_t *old_head, uint32_t *new_head, uint32_t *free_entries)</td></tr>
<tr class="separator:a22ab749e8f41b8e232a5c54a5c100d16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a388f737bcdf0a8ee4cf6f75464ca5979"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#a388f737bcdf0a8ee4cf6f75464ca5979">__rte_ring_do_enqueue</a> (struct <a class="el" href="structrte__ring.html">rte_ring</a> *r, void *const *obj_table, unsigned int n, enum <a class="el" href="rte__ring_8h.html#a76713934bd03f54fbc8850c6401ad390">rte_ring_queue_behavior</a> behavior, int is_sp, unsigned int *free_space)</td></tr>
<tr class="separator:a388f737bcdf0a8ee4cf6f75464ca5979"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a4127db74610c522be2a4f8f70c033d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#a3a4127db74610c522be2a4f8f70c033d">__rte_ring_move_cons_head</a> (struct <a class="el" href="structrte__ring.html">rte_ring</a> *r, int is_sc, unsigned int n, enum <a class="el" href="rte__ring_8h.html#a76713934bd03f54fbc8850c6401ad390">rte_ring_queue_behavior</a> behavior, uint32_t *old_head, uint32_t *new_head, uint32_t *entries)</td></tr>
<tr class="separator:a3a4127db74610c522be2a4f8f70c033d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a201b5c512389dd58216906866aba1ec5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#a201b5c512389dd58216906866aba1ec5">__rte_ring_do_dequeue</a> (struct <a class="el" href="structrte__ring.html">rte_ring</a> *r, void **obj_table, unsigned int n, enum <a class="el" href="rte__ring_8h.html#a76713934bd03f54fbc8850c6401ad390">rte_ring_queue_behavior</a> behavior, int is_sc, unsigned int *available)</td></tr>
<tr class="separator:a201b5c512389dd58216906866aba1ec5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb91b9286b8fa4b962c8e01accd089b9"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#adb91b9286b8fa4b962c8e01accd089b9">rte_ring_mp_enqueue_bulk</a> (struct <a class="el" href="structrte__ring.html">rte_ring</a> *r, void *const *obj_table, unsigned int n, unsigned int *free_space)</td></tr>
<tr class="separator:adb91b9286b8fa4b962c8e01accd089b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebdfaae6cda589eb3b2a44c6a593c6a5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#aebdfaae6cda589eb3b2a44c6a593c6a5">rte_ring_sp_enqueue_bulk</a> (struct <a class="el" href="structrte__ring.html">rte_ring</a> *r, void *const *obj_table, unsigned int n, unsigned int *free_space)</td></tr>
<tr class="separator:aebdfaae6cda589eb3b2a44c6a593c6a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8debfb458e927d559e7ce750048502d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#ab8debfb458e927d559e7ce750048502d">rte_ring_enqueue_bulk</a> (struct <a class="el" href="structrte__ring.html">rte_ring</a> *r, void *const *obj_table, unsigned int n, unsigned int *free_space)</td></tr>
<tr class="separator:ab8debfb458e927d559e7ce750048502d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62960349fbeb3a8b685608d2b1a7d2b2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#a62960349fbeb3a8b685608d2b1a7d2b2">rte_ring_mp_enqueue</a> (struct <a class="el" href="structrte__ring.html">rte_ring</a> *r, void *obj)</td></tr>
<tr class="separator:a62960349fbeb3a8b685608d2b1a7d2b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd7f172fbce0358e0b140fb9bd82aa7a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#afd7f172fbce0358e0b140fb9bd82aa7a">rte_ring_sp_enqueue</a> (struct <a class="el" href="structrte__ring.html">rte_ring</a> *r, void *obj)</td></tr>
<tr class="separator:afd7f172fbce0358e0b140fb9bd82aa7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1e5c7ff81ee177734288a1698b1106e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#aa1e5c7ff81ee177734288a1698b1106e">rte_ring_enqueue</a> (struct <a class="el" href="structrte__ring.html">rte_ring</a> *r, void *obj)</td></tr>
<tr class="separator:aa1e5c7ff81ee177734288a1698b1106e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a503f3b4bad03df05f3e54fca463a659b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#a503f3b4bad03df05f3e54fca463a659b">rte_ring_mc_dequeue_bulk</a> (struct <a class="el" href="structrte__ring.html">rte_ring</a> *r, void **obj_table, unsigned int n, unsigned int *available)</td></tr>
<tr class="separator:a503f3b4bad03df05f3e54fca463a659b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a319f440dd465c84c14549bda92d65fb0"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#a319f440dd465c84c14549bda92d65fb0">rte_ring_sc_dequeue_bulk</a> (struct <a class="el" href="structrte__ring.html">rte_ring</a> *r, void **obj_table, unsigned int n, unsigned int *available)</td></tr>
<tr class="separator:a319f440dd465c84c14549bda92d65fb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a558ff95b944832acf8de439c769638f3"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#a558ff95b944832acf8de439c769638f3">rte_ring_dequeue_bulk</a> (struct <a class="el" href="structrte__ring.html">rte_ring</a> *r, void **obj_table, unsigned int n, unsigned int *available)</td></tr>
<tr class="separator:a558ff95b944832acf8de439c769638f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa879b5b00dc3ce5d423c17411054270a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#aa879b5b00dc3ce5d423c17411054270a">rte_ring_mc_dequeue</a> (struct <a class="el" href="structrte__ring.html">rte_ring</a> *r, void **obj_p)</td></tr>
<tr class="separator:aa879b5b00dc3ce5d423c17411054270a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8a18b67229a569e0ad2fb1e5df70d2c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#ae8a18b67229a569e0ad2fb1e5df70d2c">rte_ring_sc_dequeue</a> (struct <a class="el" href="structrte__ring.html">rte_ring</a> *r, void **obj_p)</td></tr>
<tr class="separator:ae8a18b67229a569e0ad2fb1e5df70d2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a896024f865225e243f2c66c02825a9e2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#a896024f865225e243f2c66c02825a9e2">rte_ring_dequeue</a> (struct <a class="el" href="structrte__ring.html">rte_ring</a> *r, void **obj_p)</td></tr>
<tr class="separator:a896024f865225e243f2c66c02825a9e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc8376d2c6e609707d52032860880b34"><td class="memItemLeft" align="right" valign="top">static unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#abc8376d2c6e609707d52032860880b34">rte_ring_count</a> (const struct <a class="el" href="structrte__ring.html">rte_ring</a> *r)</td></tr>
<tr class="separator:abc8376d2c6e609707d52032860880b34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6fe2e810cf4015bb95023c54e18b73a"><td class="memItemLeft" align="right" valign="top">static unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#aa6fe2e810cf4015bb95023c54e18b73a">rte_ring_free_count</a> (const struct <a class="el" href="structrte__ring.html">rte_ring</a> *r)</td></tr>
<tr class="separator:aa6fe2e810cf4015bb95023c54e18b73a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06554a79e893291d4734507b3c599a21"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#a06554a79e893291d4734507b3c599a21">rte_ring_full</a> (const struct <a class="el" href="structrte__ring.html">rte_ring</a> *r)</td></tr>
<tr class="separator:a06554a79e893291d4734507b3c599a21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf9a7cda8ef5a62ee0a286c11d45d1bf"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#abf9a7cda8ef5a62ee0a286c11d45d1bf">rte_ring_empty</a> (const struct <a class="el" href="structrte__ring.html">rte_ring</a> *r)</td></tr>
<tr class="separator:abf9a7cda8ef5a62ee0a286c11d45d1bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8adfaeefc2ce7bedc31aa7e41d17f9c"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#aa8adfaeefc2ce7bedc31aa7e41d17f9c">rte_ring_get_size</a> (const struct <a class="el" href="structrte__ring.html">rte_ring</a> *r)</td></tr>
<tr class="separator:aa8adfaeefc2ce7bedc31aa7e41d17f9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5e1b5610452f55f3f5a1ae02035f1e8"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#aa5e1b5610452f55f3f5a1ae02035f1e8">rte_ring_get_capacity</a> (const struct <a class="el" href="structrte__ring.html">rte_ring</a> *r)</td></tr>
<tr class="separator:aa5e1b5610452f55f3f5a1ae02035f1e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bfcef0ad324fcc4c03bcb59cd7e867f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#a7bfcef0ad324fcc4c03bcb59cd7e867f">rte_ring_list_dump</a> (FILE *f)</td></tr>
<tr class="separator:a7bfcef0ad324fcc4c03bcb59cd7e867f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad26dd65732f16f720eca5e1aa94e2a8a"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structrte__ring.html">rte_ring</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#ad26dd65732f16f720eca5e1aa94e2a8a">rte_ring_lookup</a> (const char *name)</td></tr>
<tr class="separator:ad26dd65732f16f720eca5e1aa94e2a8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ff136666cc68349fb5cb01ad4dc8b05"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#a6ff136666cc68349fb5cb01ad4dc8b05">rte_ring_mp_enqueue_burst</a> (struct <a class="el" href="structrte__ring.html">rte_ring</a> *r, void *const *obj_table, unsigned int n, unsigned int *free_space)</td></tr>
<tr class="separator:a6ff136666cc68349fb5cb01ad4dc8b05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af373df0f0f5ea334fd7d2ae90b451d3f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#af373df0f0f5ea334fd7d2ae90b451d3f">rte_ring_sp_enqueue_burst</a> (struct <a class="el" href="structrte__ring.html">rte_ring</a> *r, void *const *obj_table, unsigned int n, unsigned int *free_space)</td></tr>
<tr class="separator:af373df0f0f5ea334fd7d2ae90b451d3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff58e6a47ea3dca494dd0391d11b38ea"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#aff58e6a47ea3dca494dd0391d11b38ea">rte_ring_enqueue_burst</a> (struct <a class="el" href="structrte__ring.html">rte_ring</a> *r, void *const *obj_table, unsigned int n, unsigned int *free_space)</td></tr>
<tr class="separator:aff58e6a47ea3dca494dd0391d11b38ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4eacc72624ce4ac05fcba0795b15b136"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#a4eacc72624ce4ac05fcba0795b15b136">rte_ring_mc_dequeue_burst</a> (struct <a class="el" href="structrte__ring.html">rte_ring</a> *r, void **obj_table, unsigned int n, unsigned int *available)</td></tr>
<tr class="separator:a4eacc72624ce4ac05fcba0795b15b136"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb1ca2fa768328cbefe9b693bc7c9d30"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#abb1ca2fa768328cbefe9b693bc7c9d30">rte_ring_sc_dequeue_burst</a> (struct <a class="el" href="structrte__ring.html">rte_ring</a> *r, void **obj_table, unsigned int n, unsigned int *available)</td></tr>
<tr class="separator:abb1ca2fa768328cbefe9b693bc7c9d30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8742d4b89ce43dbd93cc2ef48518ccf0"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#a8742d4b89ce43dbd93cc2ef48518ccf0">rte_ring_dequeue_burst</a> (struct <a class="el" href="structrte__ring.html">rte_ring</a> *r, void **obj_table, unsigned int n, unsigned int *available)</td></tr>
<tr class="separator:a8742d4b89ce43dbd93cc2ef48518ccf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bc92444f7239ca27c5a89de99f5f4ac"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structrte__ring.html">rte_ring</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#a6bc92444f7239ca27c5a89de99f5f4ac">femu_ring_create</a> (enum <a class="el" href="rte__ring_8h.html#a40c2b32849ee40a3926720f2ab1cdec7">femu_ring_type</a> type, size_t count)</td></tr>
<tr class="separator:a6bc92444f7239ca27c5a89de99f5f4ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae4026d87730ebef2cbcd08a42778e80"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#aae4026d87730ebef2cbcd08a42778e80">femu_ring_free</a> (struct <a class="el" href="structrte__ring.html">rte_ring</a> *ring)</td></tr>
<tr class="separator:aae4026d87730ebef2cbcd08a42778e80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96ef17a77ac3deecdb8a1fb71b6bdf63"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#a96ef17a77ac3deecdb8a1fb71b6bdf63">femu_ring_count</a> (struct <a class="el" href="structrte__ring.html">rte_ring</a> *ring)</td></tr>
<tr class="separator:a96ef17a77ac3deecdb8a1fb71b6bdf63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3afc06d02f63e84fe1569c99955af57a"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#a3afc06d02f63e84fe1569c99955af57a">femu_ring_enqueue</a> (struct <a class="el" href="structrte__ring.html">rte_ring</a> *ring, void **objs, size_t count)</td></tr>
<tr class="separator:a3afc06d02f63e84fe1569c99955af57a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2417e0e85ffd0e61ec4b0ee263ab809"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ring_8h.html#ab2417e0e85ffd0e61ec4b0ee263ab809">femu_ring_dequeue</a> (struct <a class="el" href="structrte__ring.html">rte_ring</a> *ring, void **objs, size_t count)</td></tr>
<tr class="separator:ab2417e0e85ffd0e61ec4b0ee263ab809"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<div class="textblock"><p>RTE Ring</p>
<p>The Ring Manager is a fixed-size queue, implemented as a table of pointers. Head and tail pointers are modified atomically, allowing concurrent access to it. It has the following features:</p>
<ul>
<li>FIFO (First In First Out)</li>
<li>Maximum size is fixed; the pointers are stored in a table.</li>
<li>Lockless implementation.</li>
<li>Multi- or single-consumer dequeue.</li>
<li>Multi- or single-producer enqueue.</li>
<li>Bulk dequeue.</li>
<li>Bulk enqueue.</li>
</ul>
<p>Note: the ring implementation is not preemptable. A lcore must not be interrupted by another task that uses the same ring. </p>
</div><h2 class="groupheader">宏定义说明</h2>
<a id="aecdaba437ff3f20b3277728f69a81f01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecdaba437ff3f20b3277728f69a81f01">&#9670;&nbsp;</a></span>__IS_MC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __IS_MC&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6797237f9f8cfa0ea1e8ae5362baf914"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6797237f9f8cfa0ea1e8ae5362baf914">&#9670;&nbsp;</a></span>__IS_MP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __IS_MP&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a11c27e4768116c096185f4cd260e2ec5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11c27e4768116c096185f4cd260e2ec5">&#9670;&nbsp;</a></span>__IS_SC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __IS_SC&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aad5423899c79ed55b32ec46ab28faf15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad5423899c79ed55b32ec46ab28faf15">&#9670;&nbsp;</a></span>__IS_SP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __IS_SP&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af1e21922385a6cbe051e3ab70bba9f11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1e21922385a6cbe051e3ab70bba9f11">&#9670;&nbsp;</a></span>__rte_always_inline</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __rte_always_inline&#160;&#160;&#160;inline</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aeeab4d1f1ef9410ecbc493b44c61ee7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeeab4d1f1ef9410ecbc493b44c61ee7d">&#9670;&nbsp;</a></span>DEQUEUE_PTRS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEQUEUE_PTRS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">r, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ring_start, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">cons_head, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">obj_table, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">obj_type&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>值:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span> { \</div>
<div class="line">    unsigned <span class="keywordtype">int</span> i; \</div>
<div class="line">    uint32_t idx = cons_head &amp; (r)-&gt;mask; \</div>
<div class="line">    const uint32_t size = (r)-&gt;size; \</div>
<div class="line">    obj_type *ring = (obj_type *)ring_start; \</div>
<div class="line">    if (idx + n &lt; size) { \</div>
<div class="line">        for (i = 0; i &lt; (n &amp; (~(unsigned)0x3)); i+=4, idx+=4) {\</div>
<div class="line">            obj_table[i] = ring[idx]; \</div>
<div class="line">            obj_table[i+1] = ring[idx+1]; \</div>
<div class="line">            obj_table[i+2] = ring[idx+2]; \</div>
<div class="line">            obj_table[i+3] = ring[idx+3]; \</div>
<div class="line">        } \</div>
<div class="line">        switch (n &amp; 0x3) { \</div>
<div class="line">        case 3: \</div>
<div class="line">            obj_table[i++] = ring[idx++]; <span class="comment">/* fallthrough */</span> \</div>
<div class="line">        case 2: \</div>
<div class="line">            obj_table[i++] = ring[idx++]; <span class="comment">/* fallthrough */</span> \</div>
<div class="line">        case 1: \</div>
<div class="line">            obj_table[i++] = ring[idx++]; \</div>
<div class="line">        } \</div>
<div class="line">    } <span class="keywordflow">else</span> { \</div>
<div class="line">        for (i = 0; idx &lt; size; i++, idx++) \</div>
<div class="line">            obj_table[i] = ring[idx]; \</div>
<div class="line">        for (idx = 0; i &lt; n; i++, idx++) \</div>
<div class="line">            obj_table[i] = ring[idx]; \</div>
<div class="line">    } \</div>
<div class="line">} <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac02cccbbf8e0c7286b34d63052609d89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac02cccbbf8e0c7286b34d63052609d89">&#9670;&nbsp;</a></span>ENQUEUE_PTRS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ENQUEUE_PTRS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">r, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ring_start, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">prod_head, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">obj_table, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">obj_type&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>值:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span> { \</div>
<div class="line">    unsigned <span class="keywordtype">int</span> i; \</div>
<div class="line">    const uint32_t size = (r)-&gt;size; \</div>
<div class="line">    uint32_t idx = prod_head &amp; (r)-&gt;mask; \</div>
<div class="line">    obj_type *ring = (obj_type *)ring_start; \</div>
<div class="line">    if (idx + n &lt; size) { \</div>
<div class="line">        for (i = 0; i &lt; (n &amp; ((~(unsigned)0x3))); i+=4, idx+=4) { \</div>
<div class="line">            ring[idx] = obj_table[i]; \</div>
<div class="line">            ring[idx+1] = obj_table[i+1]; \</div>
<div class="line">            ring[idx+2] = obj_table[i+2]; \</div>
<div class="line">            ring[idx+3] = obj_table[i+3]; \</div>
<div class="line">        } \</div>
<div class="line">        switch (n &amp; 0x3) { \</div>
<div class="line">        case 3: \</div>
<div class="line">            ring[idx++] = obj_table[i++]; <span class="comment">/* fallthrough */</span> \</div>
<div class="line">        case 2: \</div>
<div class="line">            ring[idx++] = obj_table[i++]; <span class="comment">/* fallthrough */</span> \</div>
<div class="line">        case 1: \</div>
<div class="line">            ring[idx++] = obj_table[i++]; \</div>
<div class="line">        } \</div>
<div class="line">    } <span class="keywordflow">else</span> { \</div>
<div class="line">        for (i = 0; idx &lt; size; i++, idx++)\</div>
<div class="line">            ring[idx] = obj_table[i]; \</div>
<div class="line">        for (idx = 0; i &lt; n; i++, idx++) \</div>
<div class="line">            ring[idx] = obj_table[i]; \</div>
<div class="line">    } \</div>
<div class="line">} <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a136e9157866738284259cf2d64a06783"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a136e9157866738284259cf2d64a06783">&#9670;&nbsp;</a></span>RING_F_EXACT_SZ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RING_F_EXACT_SZ&#160;&#160;&#160;0x0004</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Ring is to hold exactly requested number of entries. Without this flag set, the ring size requested must be a power of 2, and the usable space will be that size - 1. With the flag, the requested size will be rounded up to the next power of two, but the usable space will be exactly that requested. Worst case, if a power-of-2 size is requested, half the ring space will be wasted. </p>

</div>
</div>
<a id="a421a61b2f94cdf65b3a6ac146c492fb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a421a61b2f94cdf65b3a6ac146c492fb9">&#9670;&nbsp;</a></span>RING_F_SC_DEQ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RING_F_SC_DEQ&#160;&#160;&#160;0x0002</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The default dequeue is "single-consumer". </p>

</div>
</div>
<a id="a127c66adbeab4653a47649993b94f35b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a127c66adbeab4653a47649993b94f35b">&#9670;&nbsp;</a></span>RING_F_SP_ENQ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RING_F_SP_ENQ&#160;&#160;&#160;0x0001</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The default enqueue is "single-producer". </p>

</div>
</div>
<a id="a54967fd85fe8fe16fe0b2925e5ceb170"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54967fd85fe8fe16fe0b2925e5ceb170">&#9670;&nbsp;</a></span>RTE_NAMESIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_NAMESIZE&#160;&#160;&#160;256</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2ef0470e7e801a61031e9e7f2994914c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ef0470e7e801a61031e9e7f2994914c">&#9670;&nbsp;</a></span>RTE_RING_MZ_PREFIX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_RING_MZ_PREFIX&#160;&#160;&#160;&quot;RG_&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aeecc92053129fb9aff3e9ced08f3a834"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeecc92053129fb9aff3e9ced08f3a834">&#9670;&nbsp;</a></span>RTE_RING_SZ_MASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_RING_SZ_MASK&#160;&#160;&#160;(unsigned)(0x0fffffff)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Ring size mask </p>

</div>
</div>
<h2 class="groupheader">枚举类型说明</h2>
<a id="a40c2b32849ee40a3926720f2ab1cdec7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40c2b32849ee40a3926720f2ab1cdec7">&#9670;&nbsp;</a></span>femu_ring_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="rte__ring_8h.html#a40c2b32849ee40a3926720f2ab1cdec7">femu_ring_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">枚举值</th></tr><tr><td class="fieldname"><a id="a40c2b32849ee40a3926720f2ab1cdec7ab01c5582b0ca471ab9c188d7d1580c05"></a>FEMU_RING_TYPE_SP_SC&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a40c2b32849ee40a3926720f2ab1cdec7ad2388957eaf21c85bc07f6044f60af88"></a>FEMU_RING_TYPE_MP_SC&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a40c2b32849ee40a3926720f2ab1cdec7a4d55236339bad776b055208601d2e4d4"></a>FEMU_RING_TYPE_MP_MC&#160;</td><td class="fielddoc"></td></tr>
</table>
<div class="fragment"><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;                    {</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    <a class="code" href="rte__ring_8h.html#a40c2b32849ee40a3926720f2ab1cdec7ab01c5582b0ca471ab9c188d7d1580c05">FEMU_RING_TYPE_SP_SC</a>,       <span class="comment">/* Single-producer, single-consumer */</span></div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    <a class="code" href="rte__ring_8h.html#a40c2b32849ee40a3926720f2ab1cdec7ad2388957eaf21c85bc07f6044f60af88">FEMU_RING_TYPE_MP_SC</a>,       <span class="comment">/* Multi-producer, single-consumer */</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    <a class="code" href="rte__ring_8h.html#a40c2b32849ee40a3926720f2ab1cdec7a4d55236339bad776b055208601d2e4d4">FEMU_RING_TYPE_MP_MC</a>,       <span class="comment">/* Multi-producer, multi-consumer */</span></div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;};</div>
</div><!-- fragment -->
</div>
</div>
<a id="a76713934bd03f54fbc8850c6401ad390"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76713934bd03f54fbc8850c6401ad390">&#9670;&nbsp;</a></span>rte_ring_queue_behavior</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="rte__ring_8h.html#a76713934bd03f54fbc8850c6401ad390">rte_ring_queue_behavior</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">枚举值</th></tr><tr><td class="fieldname"><a id="a76713934bd03f54fbc8850c6401ad390ae1a2f11cc007572fa3b7e8ff00199e10"></a>RTE_RING_QUEUE_FIXED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a76713934bd03f54fbc8850c6401ad390a0f222f386dd0a2cd1b3cd43ca763ae87"></a>RTE_RING_QUEUE_VARIABLE&#160;</td><td class="fielddoc"></td></tr>
</table>
<div class="fragment"><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                             {</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <a class="code" href="rte__ring_8h.html#a76713934bd03f54fbc8850c6401ad390ae1a2f11cc007572fa3b7e8ff00199e10">RTE_RING_QUEUE_FIXED</a> = 0, <span class="comment">/* Enq/Deq a fixed number of items from a ring */</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <a class="code" href="rte__ring_8h.html#a76713934bd03f54fbc8850c6401ad390a0f222f386dd0a2cd1b3cd43ca763ae87">RTE_RING_QUEUE_VARIABLE</a>   <span class="comment">/* Enq/Deq as many items as possible from ring */</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;};</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">函数说明</h2>
<a id="a201b5c512389dd58216906866aba1ec5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a201b5c512389dd58216906866aba1ec5">&#9670;&nbsp;</a></span>__rte_ring_do_dequeue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> unsigned int __rte_ring_do_dequeue </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__ring.html">rte_ring</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>obj_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="rte__ring_8h.html#a76713934bd03f54fbc8850c6401ad390">rte_ring_queue_behavior</a>&#160;</td>
          <td class="paramname"><em>behavior</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>is_sc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>available</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;{</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    uint32_t cons_head, cons_next;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    uint32_t entries;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160; </div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    n = <a class="code" href="rte__ring_8h.html#a3a4127db74610c522be2a4f8f70c033d">__rte_ring_move_cons_head</a>(r, is_sc, n, behavior,</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            &amp;cons_head, &amp;cons_next, &amp;entries);</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="keywordflow">if</span> (n == 0)</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        <span class="keywordflow">goto</span> end;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160; </div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <a class="code" href="rte__ring_8h.html#aeeab4d1f1ef9410ecbc493b44c61ee7d">DEQUEUE_PTRS</a>(r, &amp;r[1], cons_head, obj_table, n, <span class="keywordtype">void</span> *);</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <a class="code" href="rte__atomic__x86_8h.html#a4a874fd98ec8957202cb13f211f81f7d">rte_smp_rmb</a>();</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160; </div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <a class="code" href="rte__ring_8h.html#a269bf4b0dad1a7d2bb0396350f5e7976">update_tail</a>(&amp;r-&gt;<a class="code" href="structrte__ring.html#abd7c62a3cb4a6927816fe881f7940151">cons</a>, cons_head, cons_next, is_sc);</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160; </div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;end:</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="keywordflow">if</span> (available != NULL)</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        *available = entries - n;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="keywordflow">return</span> n;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_a201b5c512389dd58216906866aba1ec5_cgraph.png" border="0" usemap="#rte__ring_8h_a201b5c512389dd58216906866aba1ec5_cgraph" alt=""/></div>
<map name="rte__ring_8h_a201b5c512389dd58216906866aba1ec5_cgraph" id="rte__ring_8h_a201b5c512389dd58216906866aba1ec5_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,177,57"/>
<area shape="rect" href="rte__ring_8h.html#a3a4127db74610c522be2a4f8f70c033d" title=" " alt="" coords="225,5,432,32"/>
<area shape="rect" href="rte__ring_8h.html#a269bf4b0dad1a7d2bb0396350f5e7976" title=" " alt="" coords="281,56,376,83"/>
<area shape="rect" href="rte__atomic__x86_8h.html#a092485d3d43a2cd7ee61a1c2d2178d31" title=" " alt="" coords="480,5,643,32"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_a201b5c512389dd58216906866aba1ec5_icgraph.png" border="0" usemap="#rte__ring_8h_a201b5c512389dd58216906866aba1ec5_icgraph" alt=""/></div>
<map name="rte__ring_8h_a201b5c512389dd58216906866aba1ec5_icgraph" id="rte__ring_8h_a201b5c512389dd58216906866aba1ec5_icgraph">
<area shape="rect" title=" " alt="" coords="2145,136,2317,163"/>
<area shape="rect" href="rte__ring_8h.html#a558ff95b944832acf8de439c769638f3" title=" " alt="" coords="1913,5,2084,32"/>
<area shape="rect" href="rte__ring_8h.html#a8742d4b89ce43dbd93cc2ef48518ccf0" title=" " alt="" coords="1911,56,2086,83"/>
<area shape="rect" href="rte__ring_8h.html#a503f3b4bad03df05f3e54fca463a659b" title=" " alt="" coords="1900,107,2097,133"/>
<area shape="rect" href="rte__ring_8h.html#a4eacc72624ce4ac05fcba0795b15b136" title=" " alt="" coords="1917,158,2080,199"/>
<area shape="rect" href="rte__ring_8h.html#a319f440dd465c84c14549bda92d65fb0" title=" " alt="" coords="1903,224,2094,251"/>
<area shape="rect" href="rte__ring_8h.html#abb1ca2fa768328cbefe9b693bc7c9d30" title=" " alt="" coords="1921,275,2077,317"/>
<area shape="rect" href="rte__ring_8h.html#a896024f865225e243f2c66c02825a9e2" title=" " alt="" coords="1703,5,1838,32"/>
<area shape="rect" href="rte__ring_8c.html#ab2417e0e85ffd0e61ec4b0ee263ab809" title=" " alt="" coords="1695,56,1846,83"/>
<area shape="rect" href="ftl_8c.html#a3716c928ff3ccf16e82ae281fd3dd6d3" title=" " alt="" coords="1517,31,1601,57"/>
<area shape="rect" href="nvme-io_8c.html#a581e208522e056298eed5248b50af242" title=" " alt="" coords="1477,81,1641,108"/>
<area shape="rect" href="ftl_8h.html#af3f6de830b620d1f3060c7de8c8ddec0" title=" " alt="" coords="1342,31,1414,57"/>
<area shape="rect" href="bb_8c.html#a3fc7384f815cca2f52003206b20324df" title=" " alt="" coords="1170,31,1237,57"/>
<area shape="rect" href="nvme_8h.html#a5b8b300920ee99be86c5e3e80a6f7949" title=" " alt="" coords="914,31,1075,57"/>
<area shape="rect" href="femu_8c.html#a76a47b73caa1fa75fb706e3ed8f16a73" title=" " alt="" coords="667,31,861,57"/>
<area shape="rect" href="femu_8c.html#a966fbeb7afc495936413dbc445a0dd45" title=" " alt="" coords="472,31,579,57"/>
<area shape="rect" href="femu_8c.html#aeb3b70286609648db37222148efcf8d3" title=" " alt="" coords="229,31,353,57"/>
<area shape="rect" href="nvme-io_8c.html#acb7bf552fb77faee4d0aa021d51af4b7" title=" " alt="" coords="1327,81,1429,108"/>
<area shape="rect" href="nvme_8h.html#a81f7e8af7ddcdfe9bef6af6c0333462d" title=" " alt="" coords="1128,81,1279,108"/>
<area shape="rect" href="nvme-admin_8c.html#a8b2764426b75545dfc03229b811607eb" title=" " alt="" coords="909,81,1080,108"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="693,81,835,108"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,81,619,108"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,81,384,108"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,81,149,108"/>
<area shape="rect" href="rte__ring_8h.html#aa879b5b00dc3ce5d423c17411054270a" title=" " alt="" coords="1689,107,1852,133"/>
<area shape="rect" href="rte__ring_8h.html#ae8a18b67229a569e0ad2fb1e5df70d2c" title=" " alt="" coords="1693,224,1849,251"/>
</map>
</div>

</div>
</div>
<a id="a388f737bcdf0a8ee4cf6f75464ca5979"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a388f737bcdf0a8ee4cf6f75464ca5979">&#9670;&nbsp;</a></span>__rte_ring_do_enqueue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> unsigned int __rte_ring_do_enqueue </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__ring.html">rte_ring</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *const *&#160;</td>
          <td class="paramname"><em>obj_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="rte__ring_8h.html#a76713934bd03f54fbc8850c6401ad390">rte_ring_queue_behavior</a>&#160;</td>
          <td class="paramname"><em>behavior</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>is_sp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>free_space</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;{</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    uint32_t prod_head, prod_next;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    uint32_t free_entries;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160; </div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    n = <a class="code" href="rte__ring_8h.html#a22ab749e8f41b8e232a5c54a5c100d16">__rte_ring_move_prod_head</a>(r, is_sp, n, behavior,</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;            &amp;prod_head, &amp;prod_next, &amp;free_entries);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="keywordflow">if</span> (n == 0)</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        <span class="keywordflow">goto</span> end;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160; </div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <a class="code" href="rte__ring_8h.html#ac02cccbbf8e0c7286b34d63052609d89">ENQUEUE_PTRS</a>(r, &amp;r[1], prod_head, obj_table, n, <span class="keywordtype">void</span> *);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <a class="code" href="rte__atomic__x86_8h.html#aa47bb40dfaa41d4c29dbeff25d6a020d">rte_smp_wmb</a>();</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160; </div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <a class="code" href="rte__ring_8h.html#a269bf4b0dad1a7d2bb0396350f5e7976">update_tail</a>(&amp;r-&gt;<a class="code" href="structrte__ring.html#ac2660d8388e6b02a1084654eb8ec88b1">prod</a>, prod_head, prod_next, is_sp);</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;end:</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keywordflow">if</span> (free_space != NULL)</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        *free_space = free_entries - n;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="keywordflow">return</span> n;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_a388f737bcdf0a8ee4cf6f75464ca5979_cgraph.png" border="0" usemap="#rte__ring_8h_a388f737bcdf0a8ee4cf6f75464ca5979_cgraph" alt=""/></div>
<map name="rte__ring_8h_a388f737bcdf0a8ee4cf6f75464ca5979_cgraph" id="rte__ring_8h_a388f737bcdf0a8ee4cf6f75464ca5979_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,177,57"/>
<area shape="rect" href="rte__ring_8h.html#a22ab749e8f41b8e232a5c54a5c100d16" title=" " alt="" coords="225,5,431,32"/>
<area shape="rect" href="rte__ring_8h.html#a269bf4b0dad1a7d2bb0396350f5e7976" title=" " alt="" coords="281,56,375,83"/>
<area shape="rect" href="rte__atomic__x86_8h.html#a092485d3d43a2cd7ee61a1c2d2178d31" title=" " alt="" coords="479,5,641,32"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_a388f737bcdf0a8ee4cf6f75464ca5979_icgraph.png" border="0" usemap="#rte__ring_8h_a388f737bcdf0a8ee4cf6f75464ca5979_icgraph" alt=""/></div>
<map name="rte__ring_8h_a388f737bcdf0a8ee4cf6f75464ca5979_icgraph" id="rte__ring_8h_a388f737bcdf0a8ee4cf6f75464ca5979_icgraph">
<area shape="rect" title=" " alt="" coords="2140,187,2312,213"/>
<area shape="rect" href="rte__ring_8h.html#ab8debfb458e927d559e7ce750048502d" title=" " alt="" coords="1907,56,2078,83"/>
<area shape="rect" href="rte__ring_8h.html#aff58e6a47ea3dca494dd0391d11b38ea" title=" " alt="" coords="1905,107,2080,133"/>
<area shape="rect" href="rte__ring_8h.html#adb91b9286b8fa4b962c8e01accd089b9" title=" " alt="" coords="1893,157,2092,184"/>
<area shape="rect" href="rte__ring_8h.html#a6ff136666cc68349fb5cb01ad4dc8b05" title=" " alt="" coords="1911,209,2074,250"/>
<area shape="rect" href="rte__ring_8h.html#aebdfaae6cda589eb3b2a44c6a593c6a5" title=" " alt="" coords="1897,275,2089,301"/>
<area shape="rect" href="rte__ring_8h.html#af373df0f0f5ea334fd7d2ae90b451d3f" title=" " alt="" coords="1914,326,2071,367"/>
<area shape="rect" href="rte__ring_8c.html#a3afc06d02f63e84fe1569c99955af57a" title=" " alt="" coords="1689,31,1839,57"/>
<area shape="rect" href="rte__ring_8h.html#aa1e5c7ff81ee177734288a1698b1106e" title=" " alt="" coords="1697,81,1831,108"/>
<area shape="rect" href="ftl_8c.html#a3716c928ff3ccf16e82ae281fd3dd6d3" title=" " alt="" coords="1514,5,1598,32"/>
<area shape="rect" href="nvme-io_8c.html#aaa8fe64369c3e7b33785cabed5a4cbde" title=" " alt="" coords="1477,56,1635,83"/>
<area shape="rect" href="ftl_8h.html#af3f6de830b620d1f3060c7de8c8ddec0" title=" " alt="" coords="1342,5,1414,32"/>
<area shape="rect" href="bb_8c.html#a3fc7384f815cca2f52003206b20324df" title=" " alt="" coords="1170,5,1237,32"/>
<area shape="rect" href="nvme_8h.html#a5b8b300920ee99be86c5e3e80a6f7949" title=" " alt="" coords="914,5,1075,32"/>
<area shape="rect" href="femu_8c.html#a76a47b73caa1fa75fb706e3ed8f16a73" title=" " alt="" coords="667,5,861,32"/>
<area shape="rect" href="femu_8c.html#a966fbeb7afc495936413dbc445a0dd45" title=" " alt="" coords="472,5,579,32"/>
<area shape="rect" href="femu_8c.html#aeb3b70286609648db37222148efcf8d3" title=" " alt="" coords="229,5,353,32"/>
<area shape="rect" href="nvme-io_8c.html#acb7bf552fb77faee4d0aa021d51af4b7" title=" " alt="" coords="1327,56,1429,83"/>
<area shape="rect" href="nvme_8h.html#a81f7e8af7ddcdfe9bef6af6c0333462d" title=" " alt="" coords="1128,56,1279,83"/>
<area shape="rect" href="nvme-admin_8c.html#a8b2764426b75545dfc03229b811607eb" title=" " alt="" coords="909,56,1080,83"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="693,56,835,83"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,56,619,83"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,56,384,83"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,56,149,83"/>
<area shape="rect" href="rte__ring_8h.html#a62960349fbeb3a8b685608d2b1a7d2b2" title=" " alt="" coords="1683,157,1845,184"/>
<area shape="rect" href="rte__ring_8h.html#afd7f172fbce0358e0b140fb9bd82aa7a" title=" " alt="" coords="1685,275,1843,301"/>
</map>
</div>

</div>
</div>
<a id="a3a4127db74610c522be2a4f8f70c033d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a4127db74610c522be2a4f8f70c033d">&#9670;&nbsp;</a></span>__rte_ring_move_cons_head()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> unsigned int __rte_ring_move_cons_head </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__ring.html">rte_ring</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>is_sc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="rte__ring_8h.html#a76713934bd03f54fbc8850c6401ad390">rte_ring_queue_behavior</a>&#160;</td>
          <td class="paramname"><em>behavior</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>old_head</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>new_head</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>entries</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;{</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> max = n;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="keywordtype">int</span> success;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160; </div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <span class="comment">/* move cons.head atomically */</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        <span class="comment">/* Restore n as it may change every loop */</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        n = max;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160; </div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        *old_head = r-&gt;<a class="code" href="structrte__ring.html#abd7c62a3cb4a6927816fe881f7940151">cons</a>.<a class="code" href="structrte__ring__headtail.html#a80db8266417a562dc74a4794fc615c4f">head</a>;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <span class="keyword">const</span> uint32_t prod_tail = r-&gt;<a class="code" href="structrte__ring.html#ac2660d8388e6b02a1084654eb8ec88b1">prod</a>.<a class="code" href="structrte__ring__headtail.html#aba2365e2b056da3bac44e83a1f45de40">tail</a>;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <span class="comment">/* The subtraction is done between two unsigned 32bits value</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="comment">         * (the result is always modulo 32 bits even if we have</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="comment">         * cons_head &gt; prod_tail). So &#39;entries&#39; is always between 0</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="comment">         * and size(ring)-1. */</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        *entries = (prod_tail - *old_head);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160; </div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        <span class="comment">/* Set the actual entries for dequeue */</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        <span class="keywordflow">if</span> (n &gt; *entries)</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;            n = (behavior == <a class="code" href="rte__ring_8h.html#a76713934bd03f54fbc8850c6401ad390ae1a2f11cc007572fa3b7e8ff00199e10">RTE_RING_QUEUE_FIXED</a>) ? 0 : *entries;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160; </div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        <span class="keywordflow">if</span> (n == 0)</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160; </div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        *new_head = *old_head + n;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <span class="keywordflow">if</span> (is_sc)</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;            r-&gt;<a class="code" href="structrte__ring.html#abd7c62a3cb4a6927816fe881f7940151">cons</a>.<a class="code" href="structrte__ring__headtail.html#a80db8266417a562dc74a4794fc615c4f">head</a> = *new_head, success = 1;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;            success = <a class="code" href="rte__atomic__x86_8h.html#a092485d3d43a2cd7ee61a1c2d2178d31">rte_atomic32_cmpset</a>(&amp;r-&gt;<a class="code" href="structrte__ring.html#abd7c62a3cb4a6927816fe881f7940151">cons</a>.<a class="code" href="structrte__ring__headtail.html#a80db8266417a562dc74a4794fc615c4f">head</a>, *old_head,</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                    *new_head);</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    } <span class="keywordflow">while</span> (success == 0);</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="keywordflow">return</span> n;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_a3a4127db74610c522be2a4f8f70c033d_cgraph.png" border="0" usemap="#rte__ring_8h_a3a4127db74610c522be2a4f8f70c033d_cgraph" alt=""/></div>
<map name="rte__ring_8h_a3a4127db74610c522be2a4f8f70c033d_cgraph" id="rte__ring_8h_a3a4127db74610c522be2a4f8f70c033d_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,212,32"/>
<area shape="rect" href="rte__atomic__x86_8h.html#a092485d3d43a2cd7ee61a1c2d2178d31" title=" " alt="" coords="260,5,423,32"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_a3a4127db74610c522be2a4f8f70c033d_icgraph.png" border="0" usemap="#rte__ring_8h_a3a4127db74610c522be2a4f8f70c033d_icgraph" alt=""/></div>
<map name="rte__ring_8h_a3a4127db74610c522be2a4f8f70c033d_icgraph" id="rte__ring_8h_a3a4127db74610c522be2a4f8f70c033d_icgraph">
<area shape="rect" title=" " alt="" coords="2365,136,2572,163"/>
<area shape="rect" href="rte__ring_8h.html#a201b5c512389dd58216906866aba1ec5" title=" " alt="" coords="2145,136,2317,163"/>
<area shape="rect" href="rte__ring_8h.html#a558ff95b944832acf8de439c769638f3" title=" " alt="" coords="1913,5,2084,32"/>
<area shape="rect" href="rte__ring_8h.html#a8742d4b89ce43dbd93cc2ef48518ccf0" title=" " alt="" coords="1911,56,2086,83"/>
<area shape="rect" href="rte__ring_8h.html#a503f3b4bad03df05f3e54fca463a659b" title=" " alt="" coords="1900,107,2097,133"/>
<area shape="rect" href="rte__ring_8h.html#a4eacc72624ce4ac05fcba0795b15b136" title=" " alt="" coords="1917,158,2080,199"/>
<area shape="rect" href="rte__ring_8h.html#a319f440dd465c84c14549bda92d65fb0" title=" " alt="" coords="1903,224,2094,251"/>
<area shape="rect" href="rte__ring_8h.html#abb1ca2fa768328cbefe9b693bc7c9d30" title=" " alt="" coords="1921,275,2077,317"/>
<area shape="rect" href="rte__ring_8h.html#a896024f865225e243f2c66c02825a9e2" title=" " alt="" coords="1703,5,1838,32"/>
<area shape="rect" href="rte__ring_8c.html#ab2417e0e85ffd0e61ec4b0ee263ab809" title=" " alt="" coords="1695,56,1846,83"/>
<area shape="rect" href="ftl_8c.html#a3716c928ff3ccf16e82ae281fd3dd6d3" title=" " alt="" coords="1517,31,1601,57"/>
<area shape="rect" href="nvme-io_8c.html#a581e208522e056298eed5248b50af242" title=" " alt="" coords="1477,81,1641,108"/>
<area shape="rect" href="ftl_8h.html#af3f6de830b620d1f3060c7de8c8ddec0" title=" " alt="" coords="1342,31,1414,57"/>
<area shape="rect" href="bb_8c.html#a3fc7384f815cca2f52003206b20324df" title=" " alt="" coords="1170,31,1237,57"/>
<area shape="rect" href="nvme_8h.html#a5b8b300920ee99be86c5e3e80a6f7949" title=" " alt="" coords="914,31,1075,57"/>
<area shape="rect" href="femu_8c.html#a76a47b73caa1fa75fb706e3ed8f16a73" title=" " alt="" coords="667,31,861,57"/>
<area shape="rect" href="femu_8c.html#a966fbeb7afc495936413dbc445a0dd45" title=" " alt="" coords="472,31,579,57"/>
<area shape="rect" href="femu_8c.html#aeb3b70286609648db37222148efcf8d3" title=" " alt="" coords="229,31,353,57"/>
<area shape="rect" href="nvme-io_8c.html#acb7bf552fb77faee4d0aa021d51af4b7" title=" " alt="" coords="1327,81,1429,108"/>
<area shape="rect" href="nvme_8h.html#a81f7e8af7ddcdfe9bef6af6c0333462d" title=" " alt="" coords="1128,81,1279,108"/>
<area shape="rect" href="nvme-admin_8c.html#a8b2764426b75545dfc03229b811607eb" title=" " alt="" coords="909,81,1080,108"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="693,81,835,108"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,81,619,108"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,81,384,108"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,81,149,108"/>
<area shape="rect" href="rte__ring_8h.html#aa879b5b00dc3ce5d423c17411054270a" title=" " alt="" coords="1689,107,1852,133"/>
<area shape="rect" href="rte__ring_8h.html#ae8a18b67229a569e0ad2fb1e5df70d2c" title=" " alt="" coords="1693,224,1849,251"/>
</map>
</div>

</div>
</div>
<a id="a22ab749e8f41b8e232a5c54a5c100d16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22ab749e8f41b8e232a5c54a5c100d16">&#9670;&nbsp;</a></span>__rte_ring_move_prod_head()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> unsigned int __rte_ring_move_prod_head </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__ring.html">rte_ring</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>is_sp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="rte__ring_8h.html#a76713934bd03f54fbc8850c6401ad390">rte_ring_queue_behavior</a>&#160;</td>
          <td class="paramname"><em>behavior</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>old_head</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>new_head</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>free_entries</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;{</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keyword">const</span> uint32_t capacity = r-&gt;<a class="code" href="structrte__ring.html#a5c1b5e68d4b572c4d95c4180937e377c">capacity</a>;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> max = n;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keywordtype">int</span> success;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160; </div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        <span class="comment">/* Reset n to the initial burst count */</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        n = max;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160; </div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        *old_head = r-&gt;<a class="code" href="structrte__ring.html#ac2660d8388e6b02a1084654eb8ec88b1">prod</a>.<a class="code" href="structrte__ring__headtail.html#a80db8266417a562dc74a4794fc615c4f">head</a>;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        <span class="keyword">const</span> uint32_t cons_tail = r-&gt;<a class="code" href="structrte__ring.html#abd7c62a3cb4a6927816fe881f7940151">cons</a>.<a class="code" href="structrte__ring__headtail.html#aba2365e2b056da3bac44e83a1f45de40">tail</a>;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="comment">         *  The subtraction is done between two unsigned 32bits value</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="comment">         * (the result is always modulo 32 bits even if we have</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment">         * *old_head &gt; cons_tail). So &#39;free_entries&#39; is always between 0</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment">         * and capacity (which is &lt; size).</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        *free_entries = (capacity + cons_tail - *old_head);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160; </div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <span class="comment">/* check that we have enough room in ring */</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="rte__branch__prediction_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(n &gt; *free_entries))</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;            n = (behavior == <a class="code" href="rte__ring_8h.html#a76713934bd03f54fbc8850c6401ad390ae1a2f11cc007572fa3b7e8ff00199e10">RTE_RING_QUEUE_FIXED</a>) ?</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                    0 : *free_entries;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160; </div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <span class="keywordflow">if</span> (n == 0)</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160; </div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        *new_head = *old_head + n;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        <span class="keywordflow">if</span> (is_sp)</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;            r-&gt;<a class="code" href="structrte__ring.html#ac2660d8388e6b02a1084654eb8ec88b1">prod</a>.<a class="code" href="structrte__ring__headtail.html#a80db8266417a562dc74a4794fc615c4f">head</a> = *new_head, success = 1;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;            success = <a class="code" href="rte__atomic__x86_8h.html#a092485d3d43a2cd7ee61a1c2d2178d31">rte_atomic32_cmpset</a>(&amp;r-&gt;<a class="code" href="structrte__ring.html#ac2660d8388e6b02a1084654eb8ec88b1">prod</a>.<a class="code" href="structrte__ring__headtail.html#a80db8266417a562dc74a4794fc615c4f">head</a>,</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                    *old_head, *new_head);</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    } <span class="keywordflow">while</span> (<a class="code" href="rte__branch__prediction_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(success == 0));</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="keywordflow">return</span> n;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_a22ab749e8f41b8e232a5c54a5c100d16_cgraph.png" border="0" usemap="#rte__ring_8h_a22ab749e8f41b8e232a5c54a5c100d16_cgraph" alt=""/></div>
<map name="rte__ring_8h_a22ab749e8f41b8e232a5c54a5c100d16_cgraph" id="rte__ring_8h_a22ab749e8f41b8e232a5c54a5c100d16_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,211,32"/>
<area shape="rect" href="rte__atomic__x86_8h.html#a092485d3d43a2cd7ee61a1c2d2178d31" title=" " alt="" coords="259,5,421,32"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_a22ab749e8f41b8e232a5c54a5c100d16_icgraph.png" border="0" usemap="#rte__ring_8h_a22ab749e8f41b8e232a5c54a5c100d16_icgraph" alt=""/></div>
<map name="rte__ring_8h_a22ab749e8f41b8e232a5c54a5c100d16_icgraph" id="rte__ring_8h_a22ab749e8f41b8e232a5c54a5c100d16_icgraph">
<area shape="rect" title=" " alt="" coords="2360,187,2565,213"/>
<area shape="rect" href="rte__ring_8h.html#a388f737bcdf0a8ee4cf6f75464ca5979" title=" " alt="" coords="2140,187,2312,213"/>
<area shape="rect" href="rte__ring_8h.html#ab8debfb458e927d559e7ce750048502d" title=" " alt="" coords="1907,56,2078,83"/>
<area shape="rect" href="rte__ring_8h.html#aff58e6a47ea3dca494dd0391d11b38ea" title=" " alt="" coords="1905,107,2080,133"/>
<area shape="rect" href="rte__ring_8h.html#adb91b9286b8fa4b962c8e01accd089b9" title=" " alt="" coords="1893,157,2092,184"/>
<area shape="rect" href="rte__ring_8h.html#a6ff136666cc68349fb5cb01ad4dc8b05" title=" " alt="" coords="1911,209,2074,250"/>
<area shape="rect" href="rte__ring_8h.html#aebdfaae6cda589eb3b2a44c6a593c6a5" title=" " alt="" coords="1897,275,2089,301"/>
<area shape="rect" href="rte__ring_8h.html#af373df0f0f5ea334fd7d2ae90b451d3f" title=" " alt="" coords="1914,326,2071,367"/>
<area shape="rect" href="rte__ring_8c.html#a3afc06d02f63e84fe1569c99955af57a" title=" " alt="" coords="1689,31,1839,57"/>
<area shape="rect" href="rte__ring_8h.html#aa1e5c7ff81ee177734288a1698b1106e" title=" " alt="" coords="1697,81,1831,108"/>
<area shape="rect" href="ftl_8c.html#a3716c928ff3ccf16e82ae281fd3dd6d3" title=" " alt="" coords="1514,5,1598,32"/>
<area shape="rect" href="nvme-io_8c.html#aaa8fe64369c3e7b33785cabed5a4cbde" title=" " alt="" coords="1477,56,1635,83"/>
<area shape="rect" href="ftl_8h.html#af3f6de830b620d1f3060c7de8c8ddec0" title=" " alt="" coords="1342,5,1414,32"/>
<area shape="rect" href="bb_8c.html#a3fc7384f815cca2f52003206b20324df" title=" " alt="" coords="1170,5,1237,32"/>
<area shape="rect" href="nvme_8h.html#a5b8b300920ee99be86c5e3e80a6f7949" title=" " alt="" coords="914,5,1075,32"/>
<area shape="rect" href="femu_8c.html#a76a47b73caa1fa75fb706e3ed8f16a73" title=" " alt="" coords="667,5,861,32"/>
<area shape="rect" href="femu_8c.html#a966fbeb7afc495936413dbc445a0dd45" title=" " alt="" coords="472,5,579,32"/>
<area shape="rect" href="femu_8c.html#aeb3b70286609648db37222148efcf8d3" title=" " alt="" coords="229,5,353,32"/>
<area shape="rect" href="nvme-io_8c.html#acb7bf552fb77faee4d0aa021d51af4b7" title=" " alt="" coords="1327,56,1429,83"/>
<area shape="rect" href="nvme_8h.html#a81f7e8af7ddcdfe9bef6af6c0333462d" title=" " alt="" coords="1128,56,1279,83"/>
<area shape="rect" href="nvme-admin_8c.html#a8b2764426b75545dfc03229b811607eb" title=" " alt="" coords="909,56,1080,83"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="693,56,835,83"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,56,619,83"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,56,384,83"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,56,149,83"/>
<area shape="rect" href="rte__ring_8h.html#a62960349fbeb3a8b685608d2b1a7d2b2" title=" " alt="" coords="1683,157,1845,184"/>
<area shape="rect" href="rte__ring_8h.html#afd7f172fbce0358e0b140fb9bd82aa7a" title=" " alt="" coords="1685,275,1843,301"/>
</map>
</div>

</div>
</div>
<a id="a96ef17a77ac3deecdb8a1fb71b6bdf63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96ef17a77ac3deecdb8a1fb71b6bdf63">&#9670;&nbsp;</a></span>femu_ring_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t femu_ring_count </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__ring.html">rte_ring</a> *&#160;</td>
          <td class="paramname"><em>ring</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the number of objects in the ring.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">ring</td><td>the ring.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>the number of objects in the ring. </dd></dl>
<div class="fragment"><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;{</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="rte__ring_8h.html#abc8376d2c6e609707d52032860880b34">rte_ring_count</a>((<span class="keyword">struct</span> <a class="code" href="structrte__ring.html">rte_ring</a> *)ring);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_a96ef17a77ac3deecdb8a1fb71b6bdf63_cgraph.png" border="0" usemap="#rte__ring_8h_a96ef17a77ac3deecdb8a1fb71b6bdf63_cgraph" alt=""/></div>
<map name="rte__ring_8h_a96ef17a77ac3deecdb8a1fb71b6bdf63_cgraph" id="rte__ring_8h_a96ef17a77ac3deecdb8a1fb71b6bdf63_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,136,32"/>
<area shape="rect" href="rte__ring_8h.html#abc8376d2c6e609707d52032860880b34" title=" " alt="" coords="184,5,299,32"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_a96ef17a77ac3deecdb8a1fb71b6bdf63_icgraph.png" border="0" usemap="#rte__ring_8h_a96ef17a77ac3deecdb8a1fb71b6bdf63_icgraph" alt=""/></div>
<map name="rte__ring_8h_a96ef17a77ac3deecdb8a1fb71b6bdf63_icgraph" id="rte__ring_8h_a96ef17a77ac3deecdb8a1fb71b6bdf63_icgraph">
<area shape="rect" title=" " alt="" coords="1689,31,1820,57"/>
<area shape="rect" href="ftl_8c.html#a3716c928ff3ccf16e82ae281fd3dd6d3" title=" " alt="" coords="1517,5,1601,32"/>
<area shape="rect" href="nvme-io_8c.html#a581e208522e056298eed5248b50af242" title=" " alt="" coords="1477,56,1641,83"/>
<area shape="rect" href="ftl_8h.html#af3f6de830b620d1f3060c7de8c8ddec0" title=" " alt="" coords="1342,5,1414,32"/>
<area shape="rect" href="bb_8c.html#a3fc7384f815cca2f52003206b20324df" title=" " alt="" coords="1170,5,1237,32"/>
<area shape="rect" href="nvme_8h.html#a5b8b300920ee99be86c5e3e80a6f7949" title=" " alt="" coords="914,5,1075,32"/>
<area shape="rect" href="femu_8c.html#a76a47b73caa1fa75fb706e3ed8f16a73" title=" " alt="" coords="667,5,861,32"/>
<area shape="rect" href="femu_8c.html#a966fbeb7afc495936413dbc445a0dd45" title=" " alt="" coords="472,5,579,32"/>
<area shape="rect" href="femu_8c.html#aeb3b70286609648db37222148efcf8d3" title=" " alt="" coords="229,5,353,32"/>
<area shape="rect" href="nvme-io_8c.html#acb7bf552fb77faee4d0aa021d51af4b7" title=" " alt="" coords="1327,56,1429,83"/>
<area shape="rect" href="nvme_8h.html#a81f7e8af7ddcdfe9bef6af6c0333462d" title=" " alt="" coords="1128,56,1279,83"/>
<area shape="rect" href="nvme-admin_8c.html#a8b2764426b75545dfc03229b811607eb" title=" " alt="" coords="909,56,1080,83"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="693,56,835,83"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,56,619,83"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,56,384,83"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,56,149,83"/>
</map>
</div>

</div>
</div>
<a id="a6bc92444f7239ca27c5a89de99f5f4ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bc92444f7239ca27c5a89de99f5f4ac">&#9670;&nbsp;</a></span>femu_ring_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structrte__ring.html">rte_ring</a>* femu_ring_create </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="rte__ring_8h.html#a40c2b32849ee40a3926720f2ab1cdec7">femu_ring_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a ring.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>Type for the ring. (FEMU_RING_TYPE_SP_SC or FEMU_RING_TYPE_MP_SC). </td></tr>
    <tr><td class="paramname">count</td><td>Size of the ring in elements. </td></tr>
    <tr><td class="paramname">socket_id</td><td>Socket ID to allocate memory on, or FEMU_ENV_SOCKET_ID_ANY for any socket.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>a pointer to the created ring. </dd></dl>
<div class="fragment"><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;{</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordtype">char</span> ring_name[64];</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keyword">static</span> uint32_t ring_num = 0;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordtype">unsigned</span> flags = 0;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160; </div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">switch</span> (type) {</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="rte__ring_8h.html#a40c2b32849ee40a3926720f2ab1cdec7ab01c5582b0ca471ab9c188d7d1580c05">FEMU_RING_TYPE_SP_SC</a>:</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        flags = <a class="code" href="rte__ring_8h.html#a127c66adbeab4653a47649993b94f35b">RING_F_SP_ENQ</a> | <a class="code" href="rte__ring_8h.html#a421a61b2f94cdf65b3a6ac146c492fb9">RING_F_SC_DEQ</a>;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="rte__ring_8h.html#a40c2b32849ee40a3926720f2ab1cdec7ad2388957eaf21c85bc07f6044f60af88">FEMU_RING_TYPE_MP_SC</a>:</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        flags = <a class="code" href="rte__ring_8h.html#a421a61b2f94cdf65b3a6ac146c492fb9">RING_F_SC_DEQ</a>;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="rte__ring_8h.html#a40c2b32849ee40a3926720f2ab1cdec7a4d55236339bad776b055208601d2e4d4">FEMU_RING_TYPE_MP_MC</a>:</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        flags = 0;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    }</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160; </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    snprintf(ring_name, <span class="keyword">sizeof</span>(ring_name), <span class="stringliteral">&quot;ring_%u_%d&quot;</span>,</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;         __sync_fetch_and_add(&amp;ring_num, 1), getpid());</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="rte__ring_8c.html#a122812947c00f9ed3066232accf5fa5a">rte_ring_create</a>(ring_name, count, flags);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_a6bc92444f7239ca27c5a89de99f5f4ac_cgraph.png" border="0" usemap="#rte__ring_8h_a6bc92444f7239ca27c5a89de99f5f4ac_cgraph" alt=""/></div>
<map name="rte__ring_8h_a6bc92444f7239ca27c5a89de99f5f4ac_cgraph" id="rte__ring_8h_a6bc92444f7239ca27c5a89de99f5f4ac_cgraph">
<area shape="rect" title=" " alt="" coords="5,24,141,50"/>
<area shape="rect" href="rte__ring_8c.html#a122812947c00f9ed3066232accf5fa5a" title=" " alt="" coords="189,24,309,50"/>
<area shape="rect" href="rte__ring_8h.html#a5a85fd1038be9376de166494057e6aa1" title=" " alt="" coords="572,24,703,50"/>
<area shape="rect" href="rte__ring_8c.html#ac29f8523d355c107377858bdeb468486" title=" " alt="" coords="357,24,524,50"/>
<area shape="rect" href="rte__ring_8c.html#a7a44f25853c926ac1b29562857244366" title=" " alt="" coords="391,74,491,101"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_a6bc92444f7239ca27c5a89de99f5f4ac_icgraph.png" border="0" usemap="#rte__ring_8h_a6bc92444f7239ca27c5a89de99f5f4ac_icgraph" alt=""/></div>
<map name="rte__ring_8h_a6bc92444f7239ca27c5a89de99f5f4ac_icgraph" id="rte__ring_8h_a6bc92444f7239ca27c5a89de99f5f4ac_icgraph">
<area shape="rect" title=" " alt="" coords="1275,5,1411,32"/>
<area shape="rect" href="nvme_8h.html#a81f7e8af7ddcdfe9bef6af6c0333462d" title=" " alt="" coords="1076,5,1227,32"/>
<area shape="rect" href="nvme-admin_8c.html#a8b2764426b75545dfc03229b811607eb" title=" " alt="" coords="857,5,1028,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="ab2417e0e85ffd0e61ec4b0ee263ab809"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2417e0e85ffd0e61ec4b0ee263ab809">&#9670;&nbsp;</a></span>femu_ring_dequeue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t femu_ring_dequeue </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__ring.html">rte_ring</a> *&#160;</td>
          <td class="paramname"><em>ring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>objs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Dequeue count objects from the ring into the array objs.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">ring</td><td>A pointer to the ring. </td></tr>
    <tr><td class="paramname">objs</td><td>A pointer to the array to be dequeued. </td></tr>
    <tr><td class="paramname">count</td><td>Maximum number of elements to be dequeued.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>the number of objects dequeued which is less than 'count'. </dd></dl>
<div class="fragment"><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;{</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="rte__ring_8h.html#a8742d4b89ce43dbd93cc2ef48518ccf0">rte_ring_dequeue_burst</a>((<span class="keyword">struct</span> <a class="code" href="structrte__ring.html">rte_ring</a> *)ring, objs, count, NULL);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_ab2417e0e85ffd0e61ec4b0ee263ab809_cgraph.png" border="0" usemap="#rte__ring_8h_ab2417e0e85ffd0e61ec4b0ee263ab809_cgraph" alt=""/></div>
<map name="rte__ring_8h_ab2417e0e85ffd0e61ec4b0ee263ab809_cgraph" id="rte__ring_8h_ab2417e0e85ffd0e61ec4b0ee263ab809_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,156,57"/>
<area shape="rect" href="rte__ring_8h.html#a8742d4b89ce43dbd93cc2ef48518ccf0" title=" " alt="" coords="204,31,379,57"/>
<area shape="rect" href="rte__ring_8h.html#a201b5c512389dd58216906866aba1ec5" title=" " alt="" coords="427,31,599,57"/>
<area shape="rect" href="rte__ring_8h.html#a3a4127db74610c522be2a4f8f70c033d" title=" " alt="" coords="647,5,853,32"/>
<area shape="rect" href="rte__ring_8h.html#a269bf4b0dad1a7d2bb0396350f5e7976" title=" " alt="" coords="703,56,797,83"/>
<area shape="rect" href="rte__atomic__x86_8h.html#a092485d3d43a2cd7ee61a1c2d2178d31" title=" " alt="" coords="901,5,1064,32"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_ab2417e0e85ffd0e61ec4b0ee263ab809_icgraph.png" border="0" usemap="#rte__ring_8h_ab2417e0e85ffd0e61ec4b0ee263ab809_icgraph" alt=""/></div>
<map name="rte__ring_8h_ab2417e0e85ffd0e61ec4b0ee263ab809_icgraph" id="rte__ring_8h_ab2417e0e85ffd0e61ec4b0ee263ab809_icgraph">
<area shape="rect" title=" " alt="" coords="1689,31,1840,57"/>
<area shape="rect" href="ftl_8c.html#a3716c928ff3ccf16e82ae281fd3dd6d3" title=" " alt="" coords="1517,5,1601,32"/>
<area shape="rect" href="nvme-io_8c.html#a581e208522e056298eed5248b50af242" title=" " alt="" coords="1477,56,1641,83"/>
<area shape="rect" href="ftl_8h.html#af3f6de830b620d1f3060c7de8c8ddec0" title=" " alt="" coords="1342,5,1414,32"/>
<area shape="rect" href="bb_8c.html#a3fc7384f815cca2f52003206b20324df" title=" " alt="" coords="1170,5,1237,32"/>
<area shape="rect" href="nvme_8h.html#a5b8b300920ee99be86c5e3e80a6f7949" title=" " alt="" coords="914,5,1075,32"/>
<area shape="rect" href="femu_8c.html#a76a47b73caa1fa75fb706e3ed8f16a73" title=" " alt="" coords="667,5,861,32"/>
<area shape="rect" href="femu_8c.html#a966fbeb7afc495936413dbc445a0dd45" title=" " alt="" coords="472,5,579,32"/>
<area shape="rect" href="femu_8c.html#aeb3b70286609648db37222148efcf8d3" title=" " alt="" coords="229,5,353,32"/>
<area shape="rect" href="nvme-io_8c.html#acb7bf552fb77faee4d0aa021d51af4b7" title=" " alt="" coords="1327,56,1429,83"/>
<area shape="rect" href="nvme_8h.html#a81f7e8af7ddcdfe9bef6af6c0333462d" title=" " alt="" coords="1128,56,1279,83"/>
<area shape="rect" href="nvme-admin_8c.html#a8b2764426b75545dfc03229b811607eb" title=" " alt="" coords="909,56,1080,83"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="693,56,835,83"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,56,619,83"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,56,384,83"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,56,149,83"/>
</map>
</div>

</div>
</div>
<a id="a3afc06d02f63e84fe1569c99955af57a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3afc06d02f63e84fe1569c99955af57a">&#9670;&nbsp;</a></span>femu_ring_enqueue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t femu_ring_enqueue </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__ring.html">rte_ring</a> *&#160;</td>
          <td class="paramname"><em>ring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>objs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Queue the array of objects (with length count) on the ring.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">ring</td><td>A pointer to the ring. </td></tr>
    <tr><td class="paramname">objs</td><td>A pointer to the array to be queued. </td></tr>
    <tr><td class="paramname">count</td><td>Length count of the array of objects.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>the number of objects enqueued. </dd></dl>
<div class="fragment"><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;{</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="rte__ring_8h.html#ab8debfb458e927d559e7ce750048502d">rte_ring_enqueue_bulk</a>((<span class="keyword">struct</span> <a class="code" href="structrte__ring.html">rte_ring</a> *)ring, objs, count, NULL);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_a3afc06d02f63e84fe1569c99955af57a_cgraph.png" border="0" usemap="#rte__ring_8h_a3afc06d02f63e84fe1569c99955af57a_cgraph" alt=""/></div>
<map name="rte__ring_8h_a3afc06d02f63e84fe1569c99955af57a_cgraph" id="rte__ring_8h_a3afc06d02f63e84fe1569c99955af57a_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,156,57"/>
<area shape="rect" href="rte__ring_8h.html#ab8debfb458e927d559e7ce750048502d" title=" " alt="" coords="204,31,375,57"/>
<area shape="rect" href="rte__ring_8h.html#a388f737bcdf0a8ee4cf6f75464ca5979" title=" " alt="" coords="423,31,595,57"/>
<area shape="rect" href="rte__ring_8h.html#a22ab749e8f41b8e232a5c54a5c100d16" title=" " alt="" coords="643,5,848,32"/>
<area shape="rect" href="rte__ring_8h.html#a269bf4b0dad1a7d2bb0396350f5e7976" title=" " alt="" coords="698,56,793,83"/>
<area shape="rect" href="rte__atomic__x86_8h.html#a092485d3d43a2cd7ee61a1c2d2178d31" title=" " alt="" coords="896,5,1059,32"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_a3afc06d02f63e84fe1569c99955af57a_icgraph.png" border="0" usemap="#rte__ring_8h_a3afc06d02f63e84fe1569c99955af57a_icgraph" alt=""/></div>
<map name="rte__ring_8h_a3afc06d02f63e84fe1569c99955af57a_icgraph" id="rte__ring_8h_a3afc06d02f63e84fe1569c99955af57a_icgraph">
<area shape="rect" title=" " alt="" coords="1683,31,1833,57"/>
<area shape="rect" href="ftl_8c.html#a3716c928ff3ccf16e82ae281fd3dd6d3" title=" " alt="" coords="1514,5,1598,32"/>
<area shape="rect" href="nvme-io_8c.html#aaa8fe64369c3e7b33785cabed5a4cbde" title=" " alt="" coords="1477,56,1635,83"/>
<area shape="rect" href="ftl_8h.html#af3f6de830b620d1f3060c7de8c8ddec0" title=" " alt="" coords="1342,5,1414,32"/>
<area shape="rect" href="bb_8c.html#a3fc7384f815cca2f52003206b20324df" title=" " alt="" coords="1170,5,1237,32"/>
<area shape="rect" href="nvme_8h.html#a5b8b300920ee99be86c5e3e80a6f7949" title=" " alt="" coords="914,5,1075,32"/>
<area shape="rect" href="femu_8c.html#a76a47b73caa1fa75fb706e3ed8f16a73" title=" " alt="" coords="667,5,861,32"/>
<area shape="rect" href="femu_8c.html#a966fbeb7afc495936413dbc445a0dd45" title=" " alt="" coords="472,5,579,32"/>
<area shape="rect" href="femu_8c.html#aeb3b70286609648db37222148efcf8d3" title=" " alt="" coords="229,5,353,32"/>
<area shape="rect" href="nvme-io_8c.html#acb7bf552fb77faee4d0aa021d51af4b7" title=" " alt="" coords="1327,56,1429,83"/>
<area shape="rect" href="nvme_8h.html#a81f7e8af7ddcdfe9bef6af6c0333462d" title=" " alt="" coords="1128,56,1279,83"/>
<area shape="rect" href="nvme-admin_8c.html#a8b2764426b75545dfc03229b811607eb" title=" " alt="" coords="909,56,1080,83"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="693,56,835,83"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,56,619,83"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,56,384,83"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,56,149,83"/>
</map>
</div>

</div>
</div>
<a id="aae4026d87730ebef2cbcd08a42778e80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae4026d87730ebef2cbcd08a42778e80">&#9670;&nbsp;</a></span>femu_ring_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void femu_ring_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__ring.html">rte_ring</a> *&#160;</td>
          <td class="paramname"><em>ring</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free the ring.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">ring</td><td>Ring to free. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;{</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <a class="code" href="rte__ring_8c.html#a564e012c1eb4ae08f9eea3acfd08b377">rte_ring_free</a>((<span class="keyword">struct</span> <a class="code" href="structrte__ring.html">rte_ring</a> *)ring);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_aae4026d87730ebef2cbcd08a42778e80_cgraph.png" border="0" usemap="#rte__ring_8h_aae4026d87730ebef2cbcd08a42778e80_cgraph" alt=""/></div>
<map name="rte__ring_8h_aae4026d87730ebef2cbcd08a42778e80_cgraph" id="rte__ring_8h_aae4026d87730ebef2cbcd08a42778e80_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,127,32"/>
<area shape="rect" href="rte__ring_8c.html#a564e012c1eb4ae08f9eea3acfd08b377" title=" " alt="" coords="175,5,280,32"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_aae4026d87730ebef2cbcd08a42778e80_icgraph.png" border="0" usemap="#rte__ring_8h_aae4026d87730ebef2cbcd08a42778e80_icgraph" alt=""/></div>
<map name="rte__ring_8h_aae4026d87730ebef2cbcd08a42778e80_icgraph" id="rte__ring_8h_aae4026d87730ebef2cbcd08a42778e80_icgraph">
<area shape="rect" title=" " alt="" coords="520,5,641,32"/>
<area shape="rect" href="femu_8c.html#a749caeadb2968b6c63c5f1b2d646eb5a" title=" " alt="" coords="313,5,472,32"/>
<area shape="rect" href="femu_8c.html#a340aa0343b4141d520e32a9e4bc303a0" title=" " alt="" coords="177,5,265,32"/>
<area shape="rect" href="femu_8c.html#aeb3b70286609648db37222148efcf8d3" title=" " alt="" coords="5,5,129,32"/>
</map>
</div>

</div>
</div>
<a id="a5a85fd1038be9376de166494057e6aa1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a85fd1038be9376de166494057e6aa1">&#9670;&nbsp;</a></span>rte_align32pow2()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t rte_align32pow2 </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;{</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    x--;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    x |= x &gt;&gt; 1;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    x |= x &gt;&gt; 2;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    x |= x &gt;&gt; 4;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    x |= x &gt;&gt; 8;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    x |= x &gt;&gt; 16;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160; </div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">return</span> x + 1;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_a5a85fd1038be9376de166494057e6aa1_icgraph.png" border="0" usemap="#rte__ring_8h_a5a85fd1038be9376de166494057e6aa1_icgraph" alt=""/></div>
<map name="rte__ring_8h_a5a85fd1038be9376de166494057e6aa1_icgraph" id="rte__ring_8h_a5a85fd1038be9376de166494057e6aa1_icgraph">
<area shape="rect" title=" " alt="" coords="1775,5,1905,32"/>
<area shape="rect" href="rte__ring_8c.html#a122812947c00f9ed3066232accf5fa5a" title=" " alt="" coords="1459,5,1579,32"/>
<area shape="rect" href="rte__ring_8c.html#a7a44f25853c926ac1b29562857244366" title=" " alt="" coords="1627,31,1727,57"/>
<area shape="rect" href="rte__ring_8c.html#a6bc92444f7239ca27c5a89de99f5f4ac" title=" " alt="" coords="1275,5,1411,32"/>
<area shape="rect" href="nvme_8h.html#a81f7e8af7ddcdfe9bef6af6c0333462d" title=" " alt="" coords="1076,5,1227,32"/>
<area shape="rect" href="nvme-admin_8c.html#a8b2764426b75545dfc03229b811607eb" title=" " alt="" coords="857,5,1028,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="abc8376d2c6e609707d52032860880b34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc8376d2c6e609707d52032860880b34">&#9670;&nbsp;</a></span>rte_ring_count()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned rte_ring_count </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structrte__ring.html">rte_ring</a> *&#160;</td>
          <td class="paramname"><em>r</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the number of entries in a ring.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>A pointer to the ring structure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>The number of entries in the ring. </dd></dl>
<div class="fragment"><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;{</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    uint32_t prod_tail = r-&gt;<a class="code" href="structrte__ring.html#ac2660d8388e6b02a1084654eb8ec88b1">prod</a>.<a class="code" href="structrte__ring__headtail.html#aba2365e2b056da3bac44e83a1f45de40">tail</a>;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    uint32_t cons_tail = r-&gt;<a class="code" href="structrte__ring.html#abd7c62a3cb4a6927816fe881f7940151">cons</a>.<a class="code" href="structrte__ring__headtail.html#aba2365e2b056da3bac44e83a1f45de40">tail</a>;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    uint32_t count = (prod_tail - cons_tail) &amp; r-&gt;<a class="code" href="structrte__ring.html#a1721b53743c15b90e0453679f66d12ac">mask</a>;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    return (count &gt; r-&gt;<a class="code" href="structrte__ring.html#a5c1b5e68d4b572c4d95c4180937e377c">capacity</a>) ? r-&gt;<a class="code" href="structrte__ring.html#a5c1b5e68d4b572c4d95c4180937e377c">capacity</a> : count;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_abc8376d2c6e609707d52032860880b34_icgraph.png" border="0" usemap="#rte__ring_8h_abc8376d2c6e609707d52032860880b34_icgraph" alt=""/></div>
<map name="rte__ring_8h_abc8376d2c6e609707d52032860880b34_icgraph" id="rte__ring_8h_abc8376d2c6e609707d52032860880b34_icgraph">
<area shape="rect" title=" " alt="" coords="1904,132,2019,159"/>
<area shape="rect" href="rte__ring_8c.html#a96ef17a77ac3deecdb8a1fb71b6bdf63" title=" " alt="" coords="1717,56,1847,83"/>
<area shape="rect" href="rte__ring_8c.html#a09c464281266543ebc0766902467c69b" title=" " alt="" coords="1520,157,1636,184"/>
<area shape="rect" href="rte__ring_8h.html#abf9a7cda8ef5a62ee0a286c11d45d1bf" title=" " alt="" coords="1327,107,1448,133"/>
<area shape="rect" href="rte__ring_8h.html#aa6fe2e810cf4015bb95023c54e18b73a" title=" " alt="" coords="1708,208,1856,235"/>
<area shape="rect" href="ftl_8c.html#a3716c928ff3ccf16e82ae281fd3dd6d3" title=" " alt="" coords="1536,5,1620,32"/>
<area shape="rect" href="nvme-io_8c.html#a581e208522e056298eed5248b50af242" title=" " alt="" coords="1496,56,1660,83"/>
<area shape="rect" href="ftl_8h.html#af3f6de830b620d1f3060c7de8c8ddec0" title=" " alt="" coords="1351,5,1423,32"/>
<area shape="rect" href="bb_8c.html#a3fc7384f815cca2f52003206b20324df" title=" " alt="" coords="1170,5,1237,32"/>
<area shape="rect" href="nvme_8h.html#a5b8b300920ee99be86c5e3e80a6f7949" title=" " alt="" coords="914,5,1075,32"/>
<area shape="rect" href="femu_8c.html#a76a47b73caa1fa75fb706e3ed8f16a73" title=" " alt="" coords="667,5,861,32"/>
<area shape="rect" href="femu_8c.html#a966fbeb7afc495936413dbc445a0dd45" title=" " alt="" coords="472,5,579,32"/>
<area shape="rect" href="femu_8c.html#aeb3b70286609648db37222148efcf8d3" title=" " alt="" coords="229,5,353,32"/>
<area shape="rect" href="nvme-io_8c.html#acb7bf552fb77faee4d0aa021d51af4b7" title=" " alt="" coords="1336,56,1439,83"/>
<area shape="rect" href="nvme_8h.html#a81f7e8af7ddcdfe9bef6af6c0333462d" title=" " alt="" coords="1128,81,1279,108"/>
<area shape="rect" href="nvme-admin_8c.html#a8b2764426b75545dfc03229b811607eb" title=" " alt="" coords="909,81,1080,108"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="693,81,835,108"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,81,619,108"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,81,384,108"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,81,149,108"/>
<area shape="rect" href="rte__ring_8h.html#a06554a79e893291d4734507b3c599a21" title=" " alt="" coords="1528,208,1628,235"/>
</map>
</div>

</div>
</div>
<a id="a122812947c00f9ed3066232accf5fa5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a122812947c00f9ed3066232accf5fa5a">&#9670;&nbsp;</a></span>rte_ring_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structrte__ring.html">rte_ring</a>* rte_ring_create </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a new ring named <em>name</em> in memory.</p>
<p>This function uses <code>memzone_reserve()</code> to allocate memory. Then it calls <a class="el" href="rte__ring_8h.html#a7a44f25853c926ac1b29562857244366">rte_ring_init()</a> to initialize an empty ring.</p>
<p>The new ring size is set to <em>count</em>, which must be a power of two. Water marking is disabled by default. The real usable ring size is <em>count-1</em> instead of <em>count</em> to differentiate a free ring from an empty ring.</p>
<p>The ring is added in RTE_TAILQ_RING list.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name of the ring. </td></tr>
    <tr><td class="paramname">count</td><td>The size of the ring (must be a power of 2). </td></tr>
    <tr><td class="paramname">socket_id</td><td>The <em>socket_id</em> argument is the socket identifier in case of NUMA. The value can be <em>SOCKET_ID_ANY</em> if there is no NUMA constraint for the reserved zone. </td></tr>
    <tr><td class="paramname">flags</td><td>An OR of the following:<ul>
<li>RING_F_SP_ENQ: If this flag is set, the default behavior when using <code><a class="el" href="rte__ring_8h.html#aa1e5c7ff81ee177734288a1698b1106e">rte_ring_enqueue()</a></code> or <code><a class="el" href="rte__ring_8h.html#ab8debfb458e927d559e7ce750048502d">rte_ring_enqueue_bulk()</a></code> is "single-producer". Otherwise, it is "multi-producers".</li>
<li>RING_F_SC_DEQ: If this flag is set, the default behavior when using <code><a class="el" href="rte__ring_8h.html#a896024f865225e243f2c66c02825a9e2">rte_ring_dequeue()</a></code> or <code><a class="el" href="rte__ring_8h.html#a558ff95b944832acf8de439c769638f3">rte_ring_dequeue_bulk()</a></code> is "single-consumer". Otherwise, it is "multi-consumers". </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>On success, the pointer to the new allocated ring. NULL on error with rte_errno set appropriately. Possible errno values include:<ul>
<li>E_RTE_NO_CONFIG - function could not get pointer to rte_config structure</li>
<li>E_RTE_SECONDARY - function was called from a secondary process instance</li>
<li>EINVAL - count provided is not a power of 2</li>
<li>ENOSPC - the maximum number of memzones has already been allocated</li>
<li>EEXIST - a memzone with the same name already exists</li>
<li>ENOMEM - no appropriate memory area found in which to create memzone </li>
</ul>
</dd></dl>
<div class="fragment"><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;{</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keywordtype">char</span> mz_name[<a class="code" href="rte__ring_8h.html#a54967fd85fe8fe16fe0b2925e5ceb170">RTE_NAMESIZE</a>];</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keyword">struct </span><a class="code" href="structrte__ring.html">rte_ring</a> *r;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    ssize_t ring_size;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> requested_count = count;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordtype">int</span> ret;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160; </div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="comment">/* for an exact size ring, round up from count to a power of two */</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="structrte__ring.html#abd91203a74bb75092a568aedba0969b0">flags</a> &amp; <a class="code" href="rte__ring_8h.html#a136e9157866738284259cf2d64a06783">RING_F_EXACT_SZ</a>)</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        count = <a class="code" href="rte__ring_8h.html#a5a85fd1038be9376de166494057e6aa1">rte_align32pow2</a>(count + 1);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    ring_size = <a class="code" href="rte__ring_8c.html#ac29f8523d355c107377858bdeb468486">rte_ring_get_memsize</a>(count);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordflow">if</span> (ring_size &lt; 0) {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    }</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160; </div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    ret = snprintf(mz_name, <span class="keyword">sizeof</span>(mz_name), <span class="stringliteral">&quot;%s%s&quot;</span>,</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <a class="code" href="rte__ring_8h.html#a2ef0470e7e801a61031e9e7f2994914c">RTE_RING_MZ_PREFIX</a>, <a class="code" href="structrte__ring.html#ab0a59b82d10d92cbd7b7f4fdcd706d5f">name</a>);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0 || ret &gt;= (<span class="keywordtype">int</span>)<span class="keyword">sizeof</span>(mz_name)) {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    }</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    r = (<span class="keyword">struct </span><a class="code" href="structrte__ring.html">rte_ring</a> *)valloc(ring_size);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160; </div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <a class="code" href="rte__ring_8c.html#a7a44f25853c926ac1b29562857244366">rte_ring_init</a>(r, <a class="code" href="structrte__ring.html#ab0a59b82d10d92cbd7b7f4fdcd706d5f">name</a>, requested_count, <a class="code" href="structrte__ring.html#abd91203a74bb75092a568aedba0969b0">flags</a>);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">return</span> r;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_a122812947c00f9ed3066232accf5fa5a_cgraph.png" border="0" usemap="#rte__ring_8h_a122812947c00f9ed3066232accf5fa5a_cgraph" alt=""/></div>
<map name="rte__ring_8h_a122812947c00f9ed3066232accf5fa5a_cgraph" id="rte__ring_8h_a122812947c00f9ed3066232accf5fa5a_cgraph">
<area shape="rect" title=" " alt="" coords="5,24,125,50"/>
<area shape="rect" href="rte__ring_8h.html#a5a85fd1038be9376de166494057e6aa1" title=" " alt="" coords="388,24,519,50"/>
<area shape="rect" href="rte__ring_8c.html#ac29f8523d355c107377858bdeb468486" title=" " alt="" coords="173,24,340,50"/>
<area shape="rect" href="rte__ring_8c.html#a7a44f25853c926ac1b29562857244366" title=" " alt="" coords="207,74,307,101"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_a122812947c00f9ed3066232accf5fa5a_icgraph.png" border="0" usemap="#rte__ring_8h_a122812947c00f9ed3066232accf5fa5a_icgraph" alt=""/></div>
<map name="rte__ring_8h_a122812947c00f9ed3066232accf5fa5a_icgraph" id="rte__ring_8h_a122812947c00f9ed3066232accf5fa5a_icgraph">
<area shape="rect" title=" " alt="" coords="1459,5,1579,32"/>
<area shape="rect" href="rte__ring_8c.html#a6bc92444f7239ca27c5a89de99f5f4ac" title=" " alt="" coords="1275,5,1411,32"/>
<area shape="rect" href="nvme_8h.html#a81f7e8af7ddcdfe9bef6af6c0333462d" title=" " alt="" coords="1076,5,1227,32"/>
<area shape="rect" href="nvme-admin_8c.html#a8b2764426b75545dfc03229b811607eb" title=" " alt="" coords="857,5,1028,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="a896024f865225e243f2c66c02825a9e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a896024f865225e243f2c66c02825a9e2">&#9670;&nbsp;</a></span>rte_ring_dequeue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> int rte_ring_dequeue </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__ring.html">rte_ring</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>obj_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Dequeue one object from a ring.</p>
<p>This function calls the multi-consumers or the single-consumer version depending on the default behaviour that was specified at ring creation time (see flags).</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>A pointer to the ring structure. </td></tr>
    <tr><td class="paramname">obj_p</td><td>A pointer to a void * pointer (object) that will be filled. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0: Success, objects dequeued.</li>
<li>-ENOENT: Not enough entries in the ring to dequeue, no object is dequeued. </li>
</ul>
</dd></dl>
<div class="fragment"><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;{</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="rte__ring_8h.html#a558ff95b944832acf8de439c769638f3">rte_ring_dequeue_bulk</a>(r, obj_p, 1, NULL) ? 0 : -ENOENT;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_a896024f865225e243f2c66c02825a9e2_cgraph.png" border="0" usemap="#rte__ring_8h_a896024f865225e243f2c66c02825a9e2_cgraph" alt=""/></div>
<map name="rte__ring_8h_a896024f865225e243f2c66c02825a9e2_cgraph" id="rte__ring_8h_a896024f865225e243f2c66c02825a9e2_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,140,57"/>
<area shape="rect" href="rte__ring_8h.html#a558ff95b944832acf8de439c769638f3" title=" " alt="" coords="188,31,359,57"/>
<area shape="rect" href="rte__ring_8h.html#a201b5c512389dd58216906866aba1ec5" title=" " alt="" coords="407,31,579,57"/>
<area shape="rect" href="rte__ring_8h.html#a3a4127db74610c522be2a4f8f70c033d" title=" " alt="" coords="627,5,833,32"/>
<area shape="rect" href="rte__ring_8h.html#a269bf4b0dad1a7d2bb0396350f5e7976" title=" " alt="" coords="683,56,777,83"/>
<area shape="rect" href="rte__atomic__x86_8h.html#a092485d3d43a2cd7ee61a1c2d2178d31" title=" " alt="" coords="881,5,1044,32"/>
</map>
</div>

</div>
</div>
<a id="a558ff95b944832acf8de439c769638f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a558ff95b944832acf8de439c769638f3">&#9670;&nbsp;</a></span>rte_ring_dequeue_bulk()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> unsigned int rte_ring_dequeue_bulk </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__ring.html">rte_ring</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>obj_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>available</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Dequeue several objects from a ring.</p>
<p>This function calls the multi-consumers or the single-consumer version, depending on the default behaviour that was specified at ring creation time (see flags).</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>A pointer to the ring structure. </td></tr>
    <tr><td class="paramname">obj_table</td><td>A pointer to a table of void * pointers (objects) that will be filled. </td></tr>
    <tr><td class="paramname">n</td><td>The number of objects to dequeue from the ring to the obj_table. </td></tr>
    <tr><td class="paramname">available</td><td>If non-NULL, returns the number of remaining ring entries after the dequeue has finished. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>The number of objects dequeued, either 0 or n </dd></dl>
<div class="fragment"><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;{</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="rte__ring_8h.html#a201b5c512389dd58216906866aba1ec5">__rte_ring_do_dequeue</a>(r, obj_table, n, <a class="code" href="rte__ring_8h.html#a76713934bd03f54fbc8850c6401ad390ae1a2f11cc007572fa3b7e8ff00199e10">RTE_RING_QUEUE_FIXED</a>,</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;                r-&gt;<a class="code" href="structrte__ring.html#abd7c62a3cb4a6927816fe881f7940151">cons</a>.<a class="code" href="structrte__ring__headtail.html#a95cc4b1cb9a073c09c3cd9cf41f8f9fb">single</a>, available);</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_a558ff95b944832acf8de439c769638f3_cgraph.png" border="0" usemap="#rte__ring_8h_a558ff95b944832acf8de439c769638f3_cgraph" alt=""/></div>
<map name="rte__ring_8h_a558ff95b944832acf8de439c769638f3_cgraph" id="rte__ring_8h_a558ff95b944832acf8de439c769638f3_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,176,57"/>
<area shape="rect" href="rte__ring_8h.html#a201b5c512389dd58216906866aba1ec5" title=" " alt="" coords="224,31,396,57"/>
<area shape="rect" href="rte__ring_8h.html#a3a4127db74610c522be2a4f8f70c033d" title=" " alt="" coords="444,5,651,32"/>
<area shape="rect" href="rte__ring_8h.html#a269bf4b0dad1a7d2bb0396350f5e7976" title=" " alt="" coords="500,56,595,83"/>
<area shape="rect" href="rte__atomic__x86_8h.html#a092485d3d43a2cd7ee61a1c2d2178d31" title=" " alt="" coords="699,5,861,32"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_a558ff95b944832acf8de439c769638f3_icgraph.png" border="0" usemap="#rte__ring_8h_a558ff95b944832acf8de439c769638f3_icgraph" alt=""/></div>
<map name="rte__ring_8h_a558ff95b944832acf8de439c769638f3_icgraph" id="rte__ring_8h_a558ff95b944832acf8de439c769638f3_icgraph">
<area shape="rect" title=" " alt="" coords="188,5,359,32"/>
<area shape="rect" href="rte__ring_8h.html#a896024f865225e243f2c66c02825a9e2" title=" " alt="" coords="5,5,140,32"/>
</map>
</div>

</div>
</div>
<a id="a8742d4b89ce43dbd93cc2ef48518ccf0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8742d4b89ce43dbd93cc2ef48518ccf0">&#9670;&nbsp;</a></span>rte_ring_dequeue_burst()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> unsigned rte_ring_dequeue_burst </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__ring.html">rte_ring</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>obj_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>available</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Dequeue multiple objects from a ring up to a maximum number.</p>
<p>This function calls the multi-consumers or the single-consumer version, depending on the default behaviour that was specified at ring creation time (see flags).</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>A pointer to the ring structure. </td></tr>
    <tr><td class="paramname">obj_table</td><td>A pointer to a table of void * pointers (objects) that will be filled. </td></tr>
    <tr><td class="paramname">n</td><td>The number of objects to dequeue from the ring to the obj_table. </td></tr>
    <tr><td class="paramname">available</td><td>If non-NULL, returns the number of remaining ring entries after the dequeue has finished. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>Number of objects dequeued </li>
</ul>
</dd></dl>
<div class="fragment"><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;{</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="rte__ring_8h.html#a201b5c512389dd58216906866aba1ec5">__rte_ring_do_dequeue</a>(r, obj_table, n,</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;                <a class="code" href="rte__ring_8h.html#a76713934bd03f54fbc8850c6401ad390a0f222f386dd0a2cd1b3cd43ca763ae87">RTE_RING_QUEUE_VARIABLE</a>,</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;                r-&gt;<a class="code" href="structrte__ring.html#abd7c62a3cb4a6927816fe881f7940151">cons</a>.<a class="code" href="structrte__ring__headtail.html#a95cc4b1cb9a073c09c3cd9cf41f8f9fb">single</a>, available);</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_a8742d4b89ce43dbd93cc2ef48518ccf0_cgraph.png" border="0" usemap="#rte__ring_8h_a8742d4b89ce43dbd93cc2ef48518ccf0_cgraph" alt=""/></div>
<map name="rte__ring_8h_a8742d4b89ce43dbd93cc2ef48518ccf0_cgraph" id="rte__ring_8h_a8742d4b89ce43dbd93cc2ef48518ccf0_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,180,57"/>
<area shape="rect" href="rte__ring_8h.html#a201b5c512389dd58216906866aba1ec5" title=" " alt="" coords="228,31,400,57"/>
<area shape="rect" href="rte__ring_8h.html#a3a4127db74610c522be2a4f8f70c033d" title=" " alt="" coords="448,5,655,32"/>
<area shape="rect" href="rte__ring_8h.html#a269bf4b0dad1a7d2bb0396350f5e7976" title=" " alt="" coords="504,56,599,83"/>
<area shape="rect" href="rte__atomic__x86_8h.html#a092485d3d43a2cd7ee61a1c2d2178d31" title=" " alt="" coords="703,5,865,32"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_a8742d4b89ce43dbd93cc2ef48518ccf0_icgraph.png" border="0" usemap="#rte__ring_8h_a8742d4b89ce43dbd93cc2ef48518ccf0_icgraph" alt=""/></div>
<map name="rte__ring_8h_a8742d4b89ce43dbd93cc2ef48518ccf0_icgraph" id="rte__ring_8h_a8742d4b89ce43dbd93cc2ef48518ccf0_icgraph">
<area shape="rect" title=" " alt="" coords="1888,31,2063,57"/>
<area shape="rect" href="rte__ring_8c.html#ab2417e0e85ffd0e61ec4b0ee263ab809" title=" " alt="" coords="1689,31,1840,57"/>
<area shape="rect" href="ftl_8c.html#a3716c928ff3ccf16e82ae281fd3dd6d3" title=" " alt="" coords="1517,5,1601,32"/>
<area shape="rect" href="nvme-io_8c.html#a581e208522e056298eed5248b50af242" title=" " alt="" coords="1477,56,1641,83"/>
<area shape="rect" href="ftl_8h.html#af3f6de830b620d1f3060c7de8c8ddec0" title=" " alt="" coords="1342,5,1414,32"/>
<area shape="rect" href="bb_8c.html#a3fc7384f815cca2f52003206b20324df" title=" " alt="" coords="1170,5,1237,32"/>
<area shape="rect" href="nvme_8h.html#a5b8b300920ee99be86c5e3e80a6f7949" title=" " alt="" coords="914,5,1075,32"/>
<area shape="rect" href="femu_8c.html#a76a47b73caa1fa75fb706e3ed8f16a73" title=" " alt="" coords="667,5,861,32"/>
<area shape="rect" href="femu_8c.html#a966fbeb7afc495936413dbc445a0dd45" title=" " alt="" coords="472,5,579,32"/>
<area shape="rect" href="femu_8c.html#aeb3b70286609648db37222148efcf8d3" title=" " alt="" coords="229,5,353,32"/>
<area shape="rect" href="nvme-io_8c.html#acb7bf552fb77faee4d0aa021d51af4b7" title=" " alt="" coords="1327,56,1429,83"/>
<area shape="rect" href="nvme_8h.html#a81f7e8af7ddcdfe9bef6af6c0333462d" title=" " alt="" coords="1128,56,1279,83"/>
<area shape="rect" href="nvme-admin_8c.html#a8b2764426b75545dfc03229b811607eb" title=" " alt="" coords="909,56,1080,83"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="693,56,835,83"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,56,619,83"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,56,384,83"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,56,149,83"/>
</map>
</div>

</div>
</div>
<a id="a09c464281266543ebc0766902467c69b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09c464281266543ebc0766902467c69b">&#9670;&nbsp;</a></span>rte_ring_dump()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rte_ring_dump </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structrte__ring.html">rte_ring</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Dump the status of the ring to a file.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>A pointer to a file for output </td></tr>
    <tr><td class="paramname">r</td><td>A pointer to the ring structure. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;{</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    fprintf(f, <span class="stringliteral">&quot;ring &lt;%s&gt;@%p\n&quot;</span>, r-&gt;<a class="code" href="structrte__ring.html#ab0a59b82d10d92cbd7b7f4fdcd706d5f">name</a>, r);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    fprintf(f, <span class="stringliteral">&quot;  flags=%x\n&quot;</span>, r-&gt;<a class="code" href="structrte__ring.html#abd91203a74bb75092a568aedba0969b0">flags</a>);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    fprintf(f, <span class="stringliteral">&quot;  size=%&quot;</span>PRIu32<span class="stringliteral">&quot;\n&quot;</span>, r-&gt;<a class="code" href="structrte__ring.html#a87cbbf8a4319375d954819403ff292d7">size</a>);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    fprintf(f, <span class="stringliteral">&quot;  capacity=%&quot;</span>PRIu32<span class="stringliteral">&quot;\n&quot;</span>, r-&gt;<a class="code" href="structrte__ring.html#a5c1b5e68d4b572c4d95c4180937e377c">capacity</a>);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    fprintf(f, <span class="stringliteral">&quot;  ct=%&quot;</span>PRIu32<span class="stringliteral">&quot;\n&quot;</span>, r-&gt;<a class="code" href="structrte__ring.html#abd7c62a3cb4a6927816fe881f7940151">cons</a>.<a class="code" href="structrte__ring__headtail.html#aba2365e2b056da3bac44e83a1f45de40">tail</a>);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    fprintf(f, <span class="stringliteral">&quot;  ch=%&quot;</span>PRIu32<span class="stringliteral">&quot;\n&quot;</span>, r-&gt;<a class="code" href="structrte__ring.html#abd7c62a3cb4a6927816fe881f7940151">cons</a>.<a class="code" href="structrte__ring__headtail.html#a80db8266417a562dc74a4794fc615c4f">head</a>);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    fprintf(f, <span class="stringliteral">&quot;  pt=%&quot;</span>PRIu32<span class="stringliteral">&quot;\n&quot;</span>, r-&gt;<a class="code" href="structrte__ring.html#ac2660d8388e6b02a1084654eb8ec88b1">prod</a>.<a class="code" href="structrte__ring__headtail.html#aba2365e2b056da3bac44e83a1f45de40">tail</a>);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    fprintf(f, <span class="stringliteral">&quot;  ph=%&quot;</span>PRIu32<span class="stringliteral">&quot;\n&quot;</span>, r-&gt;<a class="code" href="structrte__ring.html#ac2660d8388e6b02a1084654eb8ec88b1">prod</a>.<a class="code" href="structrte__ring__headtail.html#a80db8266417a562dc74a4794fc615c4f">head</a>);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    fprintf(f, <span class="stringliteral">&quot;  used=%u\n&quot;</span>, <a class="code" href="rte__ring_8h.html#abc8376d2c6e609707d52032860880b34">rte_ring_count</a>(r));</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    fprintf(f, <span class="stringliteral">&quot;  avail=%u\n&quot;</span>, <a class="code" href="rte__ring_8h.html#aa6fe2e810cf4015bb95023c54e18b73a">rte_ring_free_count</a>(r));</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_a09c464281266543ebc0766902467c69b_cgraph.png" border="0" usemap="#rte__ring_8h_a09c464281266543ebc0766902467c69b_cgraph" alt=""/></div>
<map name="rte__ring_8h_a09c464281266543ebc0766902467c69b_cgraph" id="rte__ring_8h_a09c464281266543ebc0766902467c69b_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,121,32"/>
<area shape="rect" href="rte__ring_8h.html#abc8376d2c6e609707d52032860880b34" title=" " alt="" coords="365,5,480,32"/>
<area shape="rect" href="rte__ring_8h.html#aa6fe2e810cf4015bb95023c54e18b73a" title=" " alt="" coords="169,31,317,57"/>
</map>
</div>

</div>
</div>
<a id="abf9a7cda8ef5a62ee0a286c11d45d1bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf9a7cda8ef5a62ee0a286c11d45d1bf">&#9670;&nbsp;</a></span>rte_ring_empty()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rte_ring_empty </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structrte__ring.html">rte_ring</a> *&#160;</td>
          <td class="paramname"><em>r</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Test if a ring is empty.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>A pointer to the ring structure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>1: The ring is empty.</li>
<li>0: The ring is not empty. </li>
</ul>
</dd></dl>
<div class="fragment"><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;{</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="rte__ring_8h.html#abc8376d2c6e609707d52032860880b34">rte_ring_count</a>(r) == 0;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_abf9a7cda8ef5a62ee0a286c11d45d1bf_cgraph.png" border="0" usemap="#rte__ring_8h_abf9a7cda8ef5a62ee0a286c11d45d1bf_cgraph" alt=""/></div>
<map name="rte__ring_8h_abf9a7cda8ef5a62ee0a286c11d45d1bf_cgraph" id="rte__ring_8h_abf9a7cda8ef5a62ee0a286c11d45d1bf_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,127,32"/>
<area shape="rect" href="rte__ring_8h.html#abc8376d2c6e609707d52032860880b34" title=" " alt="" coords="175,5,289,32"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_abf9a7cda8ef5a62ee0a286c11d45d1bf_icgraph.png" border="0" usemap="#rte__ring_8h_abf9a7cda8ef5a62ee0a286c11d45d1bf_icgraph" alt=""/></div>
<map name="rte__ring_8h_abf9a7cda8ef5a62ee0a286c11d45d1bf_icgraph" id="rte__ring_8h_abf9a7cda8ef5a62ee0a286c11d45d1bf_icgraph">
<area shape="rect" title=" " alt="" coords="1275,5,1396,32"/>
<area shape="rect" href="nvme_8h.html#a81f7e8af7ddcdfe9bef6af6c0333462d" title=" " alt="" coords="1076,5,1227,32"/>
<area shape="rect" href="nvme-admin_8c.html#a8b2764426b75545dfc03229b811607eb" title=" " alt="" coords="857,5,1028,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="aa1e5c7ff81ee177734288a1698b1106e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1e5c7ff81ee177734288a1698b1106e">&#9670;&nbsp;</a></span>rte_ring_enqueue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> int rte_ring_enqueue </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__ring.html">rte_ring</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Enqueue one object on a ring.</p>
<p>This function calls the multi-producer or the single-producer version, depending on the default behaviour that was specified at ring creation time (see flags).</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>A pointer to the ring structure. </td></tr>
    <tr><td class="paramname">obj</td><td>A pointer to the object to be added. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0: Success; objects enqueued.</li>
<li>-ENOBUFS: Not enough room in the ring to enqueue; no object is enqueued. </li>
</ul>
</dd></dl>
<div class="fragment"><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;{</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="rte__ring_8h.html#ab8debfb458e927d559e7ce750048502d">rte_ring_enqueue_bulk</a>(r, &amp;obj, 1, NULL) ? 0 : -ENOBUFS;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_aa1e5c7ff81ee177734288a1698b1106e_cgraph.png" border="0" usemap="#rte__ring_8h_aa1e5c7ff81ee177734288a1698b1106e_cgraph" alt=""/></div>
<map name="rte__ring_8h_aa1e5c7ff81ee177734288a1698b1106e_cgraph" id="rte__ring_8h_aa1e5c7ff81ee177734288a1698b1106e_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,140,57"/>
<area shape="rect" href="rte__ring_8h.html#ab8debfb458e927d559e7ce750048502d" title=" " alt="" coords="188,31,359,57"/>
<area shape="rect" href="rte__ring_8h.html#a388f737bcdf0a8ee4cf6f75464ca5979" title=" " alt="" coords="407,31,579,57"/>
<area shape="rect" href="rte__ring_8h.html#a22ab749e8f41b8e232a5c54a5c100d16" title=" " alt="" coords="627,5,832,32"/>
<area shape="rect" href="rte__ring_8h.html#a269bf4b0dad1a7d2bb0396350f5e7976" title=" " alt="" coords="682,56,777,83"/>
<area shape="rect" href="rte__atomic__x86_8h.html#a092485d3d43a2cd7ee61a1c2d2178d31" title=" " alt="" coords="880,5,1043,32"/>
</map>
</div>

</div>
</div>
<a id="ab8debfb458e927d559e7ce750048502d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8debfb458e927d559e7ce750048502d">&#9670;&nbsp;</a></span>rte_ring_enqueue_bulk()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> unsigned int rte_ring_enqueue_bulk </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__ring.html">rte_ring</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *const *&#160;</td>
          <td class="paramname"><em>obj_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>free_space</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Enqueue several objects on a ring.</p>
<p>This function calls the multi-producer or the single-producer version depending on the default behavior that was specified at ring creation time (see flags).</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>A pointer to the ring structure. </td></tr>
    <tr><td class="paramname">obj_table</td><td>A pointer to a table of void * pointers (objects). </td></tr>
    <tr><td class="paramname">n</td><td>The number of objects to add in the ring from the obj_table. </td></tr>
    <tr><td class="paramname">free_space</td><td>if non-NULL, returns the amount of space in the ring after the enqueue operation has finished. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>The number of objects enqueued, either 0 or n </dd></dl>
<div class="fragment"><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;{</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="rte__ring_8h.html#a388f737bcdf0a8ee4cf6f75464ca5979">__rte_ring_do_enqueue</a>(r, obj_table, n, <a class="code" href="rte__ring_8h.html#a76713934bd03f54fbc8850c6401ad390ae1a2f11cc007572fa3b7e8ff00199e10">RTE_RING_QUEUE_FIXED</a>,</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            r-&gt;<a class="code" href="structrte__ring.html#ac2660d8388e6b02a1084654eb8ec88b1">prod</a>.<a class="code" href="structrte__ring__headtail.html#a95cc4b1cb9a073c09c3cd9cf41f8f9fb">single</a>, free_space);</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_ab8debfb458e927d559e7ce750048502d_cgraph.png" border="0" usemap="#rte__ring_8h_ab8debfb458e927d559e7ce750048502d_cgraph" alt=""/></div>
<map name="rte__ring_8h_ab8debfb458e927d559e7ce750048502d_cgraph" id="rte__ring_8h_ab8debfb458e927d559e7ce750048502d_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,176,57"/>
<area shape="rect" href="rte__ring_8h.html#a388f737bcdf0a8ee4cf6f75464ca5979" title=" " alt="" coords="224,31,396,57"/>
<area shape="rect" href="rte__ring_8h.html#a22ab749e8f41b8e232a5c54a5c100d16" title=" " alt="" coords="444,5,649,32"/>
<area shape="rect" href="rte__ring_8h.html#a269bf4b0dad1a7d2bb0396350f5e7976" title=" " alt="" coords="499,56,594,83"/>
<area shape="rect" href="rte__atomic__x86_8h.html#a092485d3d43a2cd7ee61a1c2d2178d31" title=" " alt="" coords="697,5,860,32"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_ab8debfb458e927d559e7ce750048502d_icgraph.png" border="0" usemap="#rte__ring_8h_ab8debfb458e927d559e7ce750048502d_icgraph" alt=""/></div>
<map name="rte__ring_8h_ab8debfb458e927d559e7ce750048502d_icgraph" id="rte__ring_8h_ab8debfb458e927d559e7ce750048502d_icgraph">
<area shape="rect" title=" " alt="" coords="1881,56,2052,83"/>
<area shape="rect" href="rte__ring_8c.html#a3afc06d02f63e84fe1569c99955af57a" title=" " alt="" coords="1683,31,1833,57"/>
<area shape="rect" href="rte__ring_8h.html#aa1e5c7ff81ee177734288a1698b1106e" title=" " alt="" coords="1691,81,1825,108"/>
<area shape="rect" href="ftl_8c.html#a3716c928ff3ccf16e82ae281fd3dd6d3" title=" " alt="" coords="1514,5,1598,32"/>
<area shape="rect" href="nvme-io_8c.html#aaa8fe64369c3e7b33785cabed5a4cbde" title=" " alt="" coords="1477,56,1635,83"/>
<area shape="rect" href="ftl_8h.html#af3f6de830b620d1f3060c7de8c8ddec0" title=" " alt="" coords="1342,5,1414,32"/>
<area shape="rect" href="bb_8c.html#a3fc7384f815cca2f52003206b20324df" title=" " alt="" coords="1170,5,1237,32"/>
<area shape="rect" href="nvme_8h.html#a5b8b300920ee99be86c5e3e80a6f7949" title=" " alt="" coords="914,5,1075,32"/>
<area shape="rect" href="femu_8c.html#a76a47b73caa1fa75fb706e3ed8f16a73" title=" " alt="" coords="667,5,861,32"/>
<area shape="rect" href="femu_8c.html#a966fbeb7afc495936413dbc445a0dd45" title=" " alt="" coords="472,5,579,32"/>
<area shape="rect" href="femu_8c.html#aeb3b70286609648db37222148efcf8d3" title=" " alt="" coords="229,5,353,32"/>
<area shape="rect" href="nvme-io_8c.html#acb7bf552fb77faee4d0aa021d51af4b7" title=" " alt="" coords="1327,56,1429,83"/>
<area shape="rect" href="nvme_8h.html#a81f7e8af7ddcdfe9bef6af6c0333462d" title=" " alt="" coords="1128,56,1279,83"/>
<area shape="rect" href="nvme-admin_8c.html#a8b2764426b75545dfc03229b811607eb" title=" " alt="" coords="909,56,1080,83"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="693,56,835,83"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,56,619,83"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,56,384,83"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,56,149,83"/>
</map>
</div>

</div>
</div>
<a id="aff58e6a47ea3dca494dd0391d11b38ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff58e6a47ea3dca494dd0391d11b38ea">&#9670;&nbsp;</a></span>rte_ring_enqueue_burst()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> unsigned rte_ring_enqueue_burst </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__ring.html">rte_ring</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *const *&#160;</td>
          <td class="paramname"><em>obj_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>free_space</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Enqueue several objects on a ring.</p>
<p>This function calls the multi-producer or the single-producer version depending on the default behavior that was specified at ring creation time (see flags).</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>A pointer to the ring structure. </td></tr>
    <tr><td class="paramname">obj_table</td><td>A pointer to a table of void * pointers (objects). </td></tr>
    <tr><td class="paramname">n</td><td>The number of objects to add in the ring from the obj_table. </td></tr>
    <tr><td class="paramname">free_space</td><td>if non-NULL, returns the amount of space in the ring after the enqueue operation has finished. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>n: Actual number of objects enqueued. </li>
</ul>
</dd></dl>
<div class="fragment"><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;{</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="rte__ring_8h.html#a388f737bcdf0a8ee4cf6f75464ca5979">__rte_ring_do_enqueue</a>(r, obj_table, n, <a class="code" href="rte__ring_8h.html#a76713934bd03f54fbc8850c6401ad390a0f222f386dd0a2cd1b3cd43ca763ae87">RTE_RING_QUEUE_VARIABLE</a>,</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;            r-&gt;<a class="code" href="structrte__ring.html#ac2660d8388e6b02a1084654eb8ec88b1">prod</a>.<a class="code" href="structrte__ring__headtail.html#a95cc4b1cb9a073c09c3cd9cf41f8f9fb">single</a>, free_space);</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_aff58e6a47ea3dca494dd0391d11b38ea_cgraph.png" border="0" usemap="#rte__ring_8h_aff58e6a47ea3dca494dd0391d11b38ea_cgraph" alt=""/></div>
<map name="rte__ring_8h_aff58e6a47ea3dca494dd0391d11b38ea_cgraph" id="rte__ring_8h_aff58e6a47ea3dca494dd0391d11b38ea_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,180,57"/>
<area shape="rect" href="rte__ring_8h.html#a388f737bcdf0a8ee4cf6f75464ca5979" title=" " alt="" coords="228,31,400,57"/>
<area shape="rect" href="rte__ring_8h.html#a22ab749e8f41b8e232a5c54a5c100d16" title=" " alt="" coords="448,5,653,32"/>
<area shape="rect" href="rte__ring_8h.html#a269bf4b0dad1a7d2bb0396350f5e7976" title=" " alt="" coords="503,56,598,83"/>
<area shape="rect" href="rte__atomic__x86_8h.html#a092485d3d43a2cd7ee61a1c2d2178d31" title=" " alt="" coords="701,5,864,32"/>
</map>
</div>

</div>
</div>
<a id="a564e012c1eb4ae08f9eea3acfd08b377"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a564e012c1eb4ae08f9eea3acfd08b377">&#9670;&nbsp;</a></span>rte_ring_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rte_ring_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__ring.html">rte_ring</a> *&#160;</td>
          <td class="paramname"><em>r</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>De-allocate all memory used by the ring.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>Ring to free </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;{</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordflow">if</span> (r == NULL)</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    free(r);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_a564e012c1eb4ae08f9eea3acfd08b377_icgraph.png" border="0" usemap="#rte__ring_8h_a564e012c1eb4ae08f9eea3acfd08b377_icgraph" alt=""/></div>
<map name="rte__ring_8h_a564e012c1eb4ae08f9eea3acfd08b377_icgraph" id="rte__ring_8h_a564e012c1eb4ae08f9eea3acfd08b377_icgraph">
<area shape="rect" title=" " alt="" coords="689,5,795,32"/>
<area shape="rect" href="rte__ring_8c.html#aae4026d87730ebef2cbcd08a42778e80" title=" " alt="" coords="520,5,641,32"/>
<area shape="rect" href="femu_8c.html#a749caeadb2968b6c63c5f1b2d646eb5a" title=" " alt="" coords="313,5,472,32"/>
<area shape="rect" href="femu_8c.html#a340aa0343b4141d520e32a9e4bc303a0" title=" " alt="" coords="177,5,265,32"/>
<area shape="rect" href="femu_8c.html#aeb3b70286609648db37222148efcf8d3" title=" " alt="" coords="5,5,129,32"/>
</map>
</div>

</div>
</div>
<a id="aa6fe2e810cf4015bb95023c54e18b73a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6fe2e810cf4015bb95023c54e18b73a">&#9670;&nbsp;</a></span>rte_ring_free_count()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned rte_ring_free_count </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structrte__ring.html">rte_ring</a> *&#160;</td>
          <td class="paramname"><em>r</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the number of free entries in a ring.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>A pointer to the ring structure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>The number of free entries in the ring. </dd></dl>
<div class="fragment"><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;{</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <span class="keywordflow">return</span> r-&gt;<a class="code" href="structrte__ring.html#a5c1b5e68d4b572c4d95c4180937e377c">capacity</a> - <a class="code" href="rte__ring_8h.html#abc8376d2c6e609707d52032860880b34">rte_ring_count</a>(r);</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_aa6fe2e810cf4015bb95023c54e18b73a_cgraph.png" border="0" usemap="#rte__ring_8h_aa6fe2e810cf4015bb95023c54e18b73a_cgraph" alt=""/></div>
<map name="rte__ring_8h_aa6fe2e810cf4015bb95023c54e18b73a_cgraph" id="rte__ring_8h_aa6fe2e810cf4015bb95023c54e18b73a_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,153,32"/>
<area shape="rect" href="rte__ring_8h.html#abc8376d2c6e609707d52032860880b34" title=" " alt="" coords="201,5,316,32"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_aa6fe2e810cf4015bb95023c54e18b73a_icgraph.png" border="0" usemap="#rte__ring_8h_aa6fe2e810cf4015bb95023c54e18b73a_icgraph" alt=""/></div>
<map name="rte__ring_8h_aa6fe2e810cf4015bb95023c54e18b73a_icgraph" id="rte__ring_8h_aa6fe2e810cf4015bb95023c54e18b73a_icgraph">
<area shape="rect" title=" " alt="" coords="169,31,317,57"/>
<area shape="rect" href="rte__ring_8c.html#a09c464281266543ebc0766902467c69b" title=" " alt="" coords="5,5,121,32"/>
<area shape="rect" href="rte__ring_8h.html#a06554a79e893291d4734507b3c599a21" title=" " alt="" coords="13,56,113,83"/>
</map>
</div>

</div>
</div>
<a id="a06554a79e893291d4734507b3c599a21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06554a79e893291d4734507b3c599a21">&#9670;&nbsp;</a></span>rte_ring_full()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rte_ring_full </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structrte__ring.html">rte_ring</a> *&#160;</td>
          <td class="paramname"><em>r</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Test if a ring is full.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>A pointer to the ring structure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>1: The ring is full.</li>
<li>0: The ring is not full. </li>
</ul>
</dd></dl>
<div class="fragment"><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;{</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="rte__ring_8h.html#aa6fe2e810cf4015bb95023c54e18b73a">rte_ring_free_count</a>(r) == 0;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_a06554a79e893291d4734507b3c599a21_cgraph.png" border="0" usemap="#rte__ring_8h_a06554a79e893291d4734507b3c599a21_cgraph" alt=""/></div>
<map name="rte__ring_8h_a06554a79e893291d4734507b3c599a21_cgraph" id="rte__ring_8h_a06554a79e893291d4734507b3c599a21_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,105,32"/>
<area shape="rect" href="rte__ring_8h.html#aa6fe2e810cf4015bb95023c54e18b73a" title=" " alt="" coords="153,5,301,32"/>
<area shape="rect" href="rte__ring_8h.html#abc8376d2c6e609707d52032860880b34" title=" " alt="" coords="349,5,464,32"/>
</map>
</div>

</div>
</div>
<a id="aa5e1b5610452f55f3f5a1ae02035f1e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5e1b5610452f55f3f5a1ae02035f1e8">&#9670;&nbsp;</a></span>rte_ring_get_capacity()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned int rte_ring_get_capacity </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structrte__ring.html">rte_ring</a> *&#160;</td>
          <td class="paramname"><em>r</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the number of elements which can be stored in the ring.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>A pointer to the ring structure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>The usable size of the ring. </dd></dl>
<div class="fragment"><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;{</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    <span class="keywordflow">return</span> r-&gt;<a class="code" href="structrte__ring.html#a5c1b5e68d4b572c4d95c4180937e377c">capacity</a>;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac29f8523d355c107377858bdeb468486"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac29f8523d355c107377858bdeb468486">&#9670;&nbsp;</a></span>rte_ring_get_memsize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t rte_ring_get_memsize </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>count</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculate the memory size needed for a ring</p>
<p>This function returns the number of bytes needed for a ring, given the number of elements in it. This value is the sum of the size of the structure <a class="el" href="structrte__ring.html">rte_ring</a> and the size of the memory needed by the objects pointers. The value is aligned to a cache line size.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">count</td><td>The number of elements in the ring (must be a power of 2). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>The memory size needed for the ring on success.</li>
<li>-EINVAL if count is not a power of 2. </li>
</ul>
</dd></dl>
<div class="fragment"><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;{</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    ssize_t sz;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="comment">/* count must be a power of 2 */</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">if</span> ((!<a class="code" href="rte__ring_8c.html#a9d095bc1979e862ea41c3222f153715c">POWEROF2</a>(count)) || (count &gt; <a class="code" href="rte__ring_8h.html#aeecc92053129fb9aff3e9ced08f3a834">RTE_RING_SZ_MASK</a> )) {</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    }</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    sz = <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code" href="structrte__ring.html">rte_ring</a>) + count * <span class="keyword">sizeof</span>(<span class="keywordtype">void</span> *);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">return</span> sz;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_ac29f8523d355c107377858bdeb468486_icgraph.png" border="0" usemap="#rte__ring_8h_ac29f8523d355c107377858bdeb468486_icgraph" alt=""/></div>
<map name="rte__ring_8h_ac29f8523d355c107377858bdeb468486_icgraph" id="rte__ring_8h_ac29f8523d355c107377858bdeb468486_icgraph">
<area shape="rect" title=" " alt="" coords="1627,5,1793,32"/>
<area shape="rect" href="rte__ring_8c.html#a122812947c00f9ed3066232accf5fa5a" title=" " alt="" coords="1459,5,1579,32"/>
<area shape="rect" href="rte__ring_8c.html#a6bc92444f7239ca27c5a89de99f5f4ac" title=" " alt="" coords="1275,5,1411,32"/>
<area shape="rect" href="nvme_8h.html#a81f7e8af7ddcdfe9bef6af6c0333462d" title=" " alt="" coords="1076,5,1227,32"/>
<area shape="rect" href="nvme-admin_8c.html#a8b2764426b75545dfc03229b811607eb" title=" " alt="" coords="857,5,1028,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="aa8adfaeefc2ce7bedc31aa7e41d17f9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8adfaeefc2ce7bedc31aa7e41d17f9c">&#9670;&nbsp;</a></span>rte_ring_get_size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned int rte_ring_get_size </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structrte__ring.html">rte_ring</a> *&#160;</td>
          <td class="paramname"><em>r</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the size of the ring.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>A pointer to the ring structure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>The size of the data store used by the ring. NOTE: this is not the same as the usable space in the ring. To query that use <code><a class="el" href="rte__ring_8h.html#aa5e1b5610452f55f3f5a1ae02035f1e8">rte_ring_get_capacity()</a></code>. </dd></dl>
<div class="fragment"><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;{</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <span class="keywordflow">return</span> r-&gt;<a class="code" href="structrte__ring.html#a87cbbf8a4319375d954819403ff292d7">size</a>;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7a44f25853c926ac1b29562857244366"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a44f25853c926ac1b29562857244366">&#9670;&nbsp;</a></span>rte_ring_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_ring_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__ring.html">rte_ring</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize a ring structure.</p>
<p>Initialize a ring structure in memory pointed by "r". The size of the memory area must be large enough to store the ring structure and the object table. It is advised to use <a class="el" href="rte__ring_8h.html#ac29f8523d355c107377858bdeb468486">rte_ring_get_memsize()</a> to get the appropriate size.</p>
<p>The ring size is set to <em>count</em>, which must be a power of two. Water marking is disabled by default. The real usable ring size is <em>count-1</em> instead of <em>count</em> to differentiate a free ring from an empty ring.</p>
<p>The ring is not added in RTE_TAILQ_RING global list. Indeed, the memory given by the caller may not be shareable among dpdk processes.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The pointer to the ring structure followed by the objects table. </td></tr>
    <tr><td class="paramname">name</td><td>The name of the ring. </td></tr>
    <tr><td class="paramname">count</td><td>The number of elements in the ring (must be a power of 2). </td></tr>
    <tr><td class="paramname">flags</td><td>An OR of the following:<ul>
<li>RING_F_SP_ENQ: If this flag is set, the default behavior when using <code><a class="el" href="rte__ring_8h.html#aa1e5c7ff81ee177734288a1698b1106e">rte_ring_enqueue()</a></code> or <code><a class="el" href="rte__ring_8h.html#ab8debfb458e927d559e7ce750048502d">rte_ring_enqueue_bulk()</a></code> is "single-producer". Otherwise, it is "multi-producers".</li>
<li>RING_F_SC_DEQ: If this flag is set, the default behavior when using <code><a class="el" href="rte__ring_8h.html#a896024f865225e243f2c66c02825a9e2">rte_ring_dequeue()</a></code> or <code><a class="el" href="rte__ring_8h.html#a558ff95b944832acf8de439c769638f3">rte_ring_dequeue_bulk()</a></code> is "single-consumer". Otherwise, it is "multi-consumers". </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>0 on success, or a negative value on error. </dd></dl>
<div class="fragment"><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;{</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keywordtype">int</span> ret;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160; </div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="comment">/* init the ring structure */</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    memset(r, 0, <span class="keyword">sizeof</span>(*r));</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    ret = snprintf(r-&gt;<a class="code" href="structrte__ring.html#ab0a59b82d10d92cbd7b7f4fdcd706d5f">name</a>, <span class="keyword">sizeof</span>(r-&gt;<a class="code" href="structrte__ring.html#ab0a59b82d10d92cbd7b7f4fdcd706d5f">name</a>), <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="structrte__ring.html#ab0a59b82d10d92cbd7b7f4fdcd706d5f">name</a>);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0 || ret &gt;= (<span class="keywordtype">int</span>)<span class="keyword">sizeof</span>(r-&gt;<a class="code" href="structrte__ring.html#ab0a59b82d10d92cbd7b7f4fdcd706d5f">name</a>))</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="keywordflow">return</span> -ENAMETOOLONG;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    r-&gt;<a class="code" href="structrte__ring.html#abd91203a74bb75092a568aedba0969b0">flags</a> = <a class="code" href="structrte__ring.html#abd91203a74bb75092a568aedba0969b0">flags</a>;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    r-&gt;<a class="code" href="structrte__ring.html#ac2660d8388e6b02a1084654eb8ec88b1">prod</a>.<a class="code" href="structrte__ring__headtail.html#a95cc4b1cb9a073c09c3cd9cf41f8f9fb">single</a> = (<a class="code" href="structrte__ring.html#abd91203a74bb75092a568aedba0969b0">flags</a> &amp; <a class="code" href="rte__ring_8h.html#a127c66adbeab4653a47649993b94f35b">RING_F_SP_ENQ</a>) ? <a class="code" href="rte__ring_8h.html#aad5423899c79ed55b32ec46ab28faf15">__IS_SP</a> : <a class="code" href="rte__ring_8h.html#a6797237f9f8cfa0ea1e8ae5362baf914">__IS_MP</a>;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    r-&gt;<a class="code" href="structrte__ring.html#abd7c62a3cb4a6927816fe881f7940151">cons</a>.<a class="code" href="structrte__ring__headtail.html#a95cc4b1cb9a073c09c3cd9cf41f8f9fb">single</a> = (<a class="code" href="structrte__ring.html#abd91203a74bb75092a568aedba0969b0">flags</a> &amp; <a class="code" href="rte__ring_8h.html#a421a61b2f94cdf65b3a6ac146c492fb9">RING_F_SC_DEQ</a>) ? <a class="code" href="rte__ring_8h.html#a11c27e4768116c096185f4cd260e2ec5">__IS_SC</a> : <a class="code" href="rte__ring_8h.html#aecdaba437ff3f20b3277728f69a81f01">__IS_MC</a>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="structrte__ring.html#abd91203a74bb75092a568aedba0969b0">flags</a> &amp; <a class="code" href="rte__ring_8h.html#a136e9157866738284259cf2d64a06783">RING_F_EXACT_SZ</a>) {</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        r-&gt;<a class="code" href="structrte__ring.html#a87cbbf8a4319375d954819403ff292d7">size</a> = <a class="code" href="rte__ring_8h.html#a5a85fd1038be9376de166494057e6aa1">rte_align32pow2</a>(count + 1);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        r-&gt;<a class="code" href="structrte__ring.html#a1721b53743c15b90e0453679f66d12ac">mask</a> = r-&gt;<a class="code" href="structrte__ring.html#a87cbbf8a4319375d954819403ff292d7">size</a> - 1;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        r-&gt;<a class="code" href="structrte__ring.html#a5c1b5e68d4b572c4d95c4180937e377c">capacity</a> = count;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <span class="keywordflow">if</span> ((!<a class="code" href="rte__ring_8c.html#a9d095bc1979e862ea41c3222f153715c">POWEROF2</a>(count)) || (count &gt; <a class="code" href="rte__ring_8h.html#aeecc92053129fb9aff3e9ced08f3a834">RTE_RING_SZ_MASK</a>)) {</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        }</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        r-&gt;<a class="code" href="structrte__ring.html#a87cbbf8a4319375d954819403ff292d7">size</a> = count;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        r-&gt;<a class="code" href="structrte__ring.html#a1721b53743c15b90e0453679f66d12ac">mask</a> = count - 1;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        r-&gt;<a class="code" href="structrte__ring.html#a5c1b5e68d4b572c4d95c4180937e377c">capacity</a> = r-&gt;<a class="code" href="structrte__ring.html#a1721b53743c15b90e0453679f66d12ac">mask</a>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    }</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    r-&gt;<a class="code" href="structrte__ring.html#ac2660d8388e6b02a1084654eb8ec88b1">prod</a>.<a class="code" href="structrte__ring__headtail.html#a80db8266417a562dc74a4794fc615c4f">head</a> = r-&gt;<a class="code" href="structrte__ring.html#abd7c62a3cb4a6927816fe881f7940151">cons</a>.<a class="code" href="structrte__ring__headtail.html#a80db8266417a562dc74a4794fc615c4f">head</a> = 0;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    r-&gt;<a class="code" href="structrte__ring.html#ac2660d8388e6b02a1084654eb8ec88b1">prod</a>.<a class="code" href="structrte__ring__headtail.html#aba2365e2b056da3bac44e83a1f45de40">tail</a> = r-&gt;<a class="code" href="structrte__ring.html#abd7c62a3cb4a6927816fe881f7940151">cons</a>.<a class="code" href="structrte__ring__headtail.html#aba2365e2b056da3bac44e83a1f45de40">tail</a> = 0;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_a7a44f25853c926ac1b29562857244366_cgraph.png" border="0" usemap="#rte__ring_8h_a7a44f25853c926ac1b29562857244366_cgraph" alt=""/></div>
<map name="rte__ring_8h_a7a44f25853c926ac1b29562857244366_cgraph" id="rte__ring_8h_a7a44f25853c926ac1b29562857244366_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,105,32"/>
<area shape="rect" href="rte__ring_8h.html#a5a85fd1038be9376de166494057e6aa1" title=" " alt="" coords="153,5,284,32"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_a7a44f25853c926ac1b29562857244366_icgraph.png" border="0" usemap="#rte__ring_8h_a7a44f25853c926ac1b29562857244366_icgraph" alt=""/></div>
<map name="rte__ring_8h_a7a44f25853c926ac1b29562857244366_icgraph" id="rte__ring_8h_a7a44f25853c926ac1b29562857244366_icgraph">
<area shape="rect" title=" " alt="" coords="1627,5,1727,32"/>
<area shape="rect" href="rte__ring_8c.html#a122812947c00f9ed3066232accf5fa5a" title=" " alt="" coords="1459,5,1579,32"/>
<area shape="rect" href="rte__ring_8c.html#a6bc92444f7239ca27c5a89de99f5f4ac" title=" " alt="" coords="1275,5,1411,32"/>
<area shape="rect" href="nvme_8h.html#a81f7e8af7ddcdfe9bef6af6c0333462d" title=" " alt="" coords="1076,5,1227,32"/>
<area shape="rect" href="nvme-admin_8c.html#a8b2764426b75545dfc03229b811607eb" title=" " alt="" coords="857,5,1028,32"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="667,5,809,32"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,5,619,32"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,5,384,32"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="a7bfcef0ad324fcc4c03bcb59cd7e867f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bfcef0ad324fcc4c03bcb59cd7e867f">&#9670;&nbsp;</a></span>rte_ring_list_dump()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rte_ring_list_dump </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Dump the status of all rings on the console</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>A pointer to a file for output </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad26dd65732f16f720eca5e1aa94e2a8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad26dd65732f16f720eca5e1aa94e2a8a">&#9670;&nbsp;</a></span>rte_ring_lookup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structrte__ring.html">rte_ring</a>* rte_ring_lookup </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Search a ring from its name</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name of the ring. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>The pointer to the ring matching the name, or NULL if not found, with rte_errno set appropriately. Possible rte_errno values include:<ul>
<li>ENOENT - required entry not available to return. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="aa879b5b00dc3ce5d423c17411054270a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa879b5b00dc3ce5d423c17411054270a">&#9670;&nbsp;</a></span>rte_ring_mc_dequeue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> int rte_ring_mc_dequeue </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__ring.html">rte_ring</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>obj_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Dequeue one object from a ring (multi-consumers safe).</p>
<p>This function uses a "compare and set" instruction to move the consumer index atomically.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>A pointer to the ring structure. </td></tr>
    <tr><td class="paramname">obj_p</td><td>A pointer to a void * pointer (object) that will be filled. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0: Success; objects dequeued.</li>
<li>-ENOENT: Not enough entries in the ring to dequeue; no object is dequeued. </li>
</ul>
</dd></dl>
<div class="fragment"><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;{</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="rte__ring_8h.html#a503f3b4bad03df05f3e54fca463a659b">rte_ring_mc_dequeue_bulk</a>(r, obj_p, 1, NULL)  ? 0 : -ENOENT;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_aa879b5b00dc3ce5d423c17411054270a_cgraph.png" border="0" usemap="#rte__ring_8h_aa879b5b00dc3ce5d423c17411054270a_cgraph" alt=""/></div>
<map name="rte__ring_8h_aa879b5b00dc3ce5d423c17411054270a_cgraph" id="rte__ring_8h_aa879b5b00dc3ce5d423c17411054270a_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,168,57"/>
<area shape="rect" href="rte__ring_8h.html#a503f3b4bad03df05f3e54fca463a659b" title=" " alt="" coords="216,31,413,57"/>
<area shape="rect" href="rte__ring_8h.html#a201b5c512389dd58216906866aba1ec5" title=" " alt="" coords="461,31,633,57"/>
<area shape="rect" href="rte__ring_8h.html#a3a4127db74610c522be2a4f8f70c033d" title=" " alt="" coords="681,5,888,32"/>
<area shape="rect" href="rte__ring_8h.html#a269bf4b0dad1a7d2bb0396350f5e7976" title=" " alt="" coords="737,56,832,83"/>
<area shape="rect" href="rte__atomic__x86_8h.html#a092485d3d43a2cd7ee61a1c2d2178d31" title=" " alt="" coords="936,5,1099,32"/>
</map>
</div>

</div>
</div>
<a id="a503f3b4bad03df05f3e54fca463a659b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a503f3b4bad03df05f3e54fca463a659b">&#9670;&nbsp;</a></span>rte_ring_mc_dequeue_bulk()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> unsigned int rte_ring_mc_dequeue_bulk </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__ring.html">rte_ring</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>obj_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>available</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Dequeue several objects from a ring (multi-consumers safe).</p>
<p>This function uses a "compare and set" instruction to move the consumer index atomically.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>A pointer to the ring structure. </td></tr>
    <tr><td class="paramname">obj_table</td><td>A pointer to a table of void * pointers (objects) that will be filled. </td></tr>
    <tr><td class="paramname">n</td><td>The number of objects to dequeue from the ring to the obj_table. </td></tr>
    <tr><td class="paramname">available</td><td>If non-NULL, returns the number of remaining ring entries after the dequeue has finished. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>The number of objects dequeued, either 0 or n </dd></dl>
<div class="fragment"><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;{</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="rte__ring_8h.html#a201b5c512389dd58216906866aba1ec5">__rte_ring_do_dequeue</a>(r, obj_table, n, <a class="code" href="rte__ring_8h.html#a76713934bd03f54fbc8850c6401ad390ae1a2f11cc007572fa3b7e8ff00199e10">RTE_RING_QUEUE_FIXED</a>,</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;            <a class="code" href="rte__ring_8h.html#aecdaba437ff3f20b3277728f69a81f01">__IS_MC</a>, available);</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_a503f3b4bad03df05f3e54fca463a659b_cgraph.png" border="0" usemap="#rte__ring_8h_a503f3b4bad03df05f3e54fca463a659b_cgraph" alt=""/></div>
<map name="rte__ring_8h_a503f3b4bad03df05f3e54fca463a659b_cgraph" id="rte__ring_8h_a503f3b4bad03df05f3e54fca463a659b_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,203,57"/>
<area shape="rect" href="rte__ring_8h.html#a201b5c512389dd58216906866aba1ec5" title=" " alt="" coords="251,31,423,57"/>
<area shape="rect" href="rte__ring_8h.html#a3a4127db74610c522be2a4f8f70c033d" title=" " alt="" coords="471,5,677,32"/>
<area shape="rect" href="rte__ring_8h.html#a269bf4b0dad1a7d2bb0396350f5e7976" title=" " alt="" coords="527,56,621,83"/>
<area shape="rect" href="rte__atomic__x86_8h.html#a092485d3d43a2cd7ee61a1c2d2178d31" title=" " alt="" coords="725,5,888,32"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_a503f3b4bad03df05f3e54fca463a659b_icgraph.png" border="0" usemap="#rte__ring_8h_a503f3b4bad03df05f3e54fca463a659b_icgraph" alt=""/></div>
<map name="rte__ring_8h_a503f3b4bad03df05f3e54fca463a659b_icgraph" id="rte__ring_8h_a503f3b4bad03df05f3e54fca463a659b_icgraph">
<area shape="rect" title=" " alt="" coords="216,5,413,32"/>
<area shape="rect" href="rte__ring_8h.html#aa879b5b00dc3ce5d423c17411054270a" title=" " alt="" coords="5,5,168,32"/>
</map>
</div>

</div>
</div>
<a id="a4eacc72624ce4ac05fcba0795b15b136"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4eacc72624ce4ac05fcba0795b15b136">&#9670;&nbsp;</a></span>rte_ring_mc_dequeue_burst()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> unsigned rte_ring_mc_dequeue_burst </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__ring.html">rte_ring</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>obj_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>available</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Dequeue several objects from a ring (multi-consumers safe). When the request objects are more than the available objects, only dequeue the actual number of objects</p>
<p>This function uses a "compare and set" instruction to move the consumer index atomically.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>A pointer to the ring structure. </td></tr>
    <tr><td class="paramname">obj_table</td><td>A pointer to a table of void * pointers (objects) that will be filled. </td></tr>
    <tr><td class="paramname">n</td><td>The number of objects to dequeue from the ring to the obj_table. </td></tr>
    <tr><td class="paramname">available</td><td>If non-NULL, returns the number of remaining ring entries after the dequeue has finished. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>n: Actual number of objects dequeued, 0 if ring is empty </li>
</ul>
</dd></dl>
<div class="fragment"><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;{</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="rte__ring_8h.html#a201b5c512389dd58216906866aba1ec5">__rte_ring_do_dequeue</a>(r, obj_table, n,</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;            <a class="code" href="rte__ring_8h.html#a76713934bd03f54fbc8850c6401ad390a0f222f386dd0a2cd1b3cd43ca763ae87">RTE_RING_QUEUE_VARIABLE</a>, <a class="code" href="rte__ring_8h.html#aecdaba437ff3f20b3277728f69a81f01">__IS_MC</a>, available);</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_a4eacc72624ce4ac05fcba0795b15b136_cgraph.png" border="0" usemap="#rte__ring_8h_a4eacc72624ce4ac05fcba0795b15b136_cgraph" alt=""/></div>
<map name="rte__ring_8h_a4eacc72624ce4ac05fcba0795b15b136_cgraph" id="rte__ring_8h_a4eacc72624ce4ac05fcba0795b15b136_cgraph">
<area shape="rect" title=" " alt="" coords="5,23,168,65"/>
<area shape="rect" href="rte__ring_8h.html#a201b5c512389dd58216906866aba1ec5" title=" " alt="" coords="216,31,388,57"/>
<area shape="rect" href="rte__ring_8h.html#a3a4127db74610c522be2a4f8f70c033d" title=" " alt="" coords="436,5,643,32"/>
<area shape="rect" href="rte__ring_8h.html#a269bf4b0dad1a7d2bb0396350f5e7976" title=" " alt="" coords="492,56,587,83"/>
<area shape="rect" href="rte__atomic__x86_8h.html#a092485d3d43a2cd7ee61a1c2d2178d31" title=" " alt="" coords="691,5,853,32"/>
</map>
</div>

</div>
</div>
<a id="a62960349fbeb3a8b685608d2b1a7d2b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62960349fbeb3a8b685608d2b1a7d2b2">&#9670;&nbsp;</a></span>rte_ring_mp_enqueue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> int rte_ring_mp_enqueue </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__ring.html">rte_ring</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Enqueue one object on a ring (multi-producers safe).</p>
<p>This function uses a "compare and set" instruction to move the producer index atomically.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>A pointer to the ring structure. </td></tr>
    <tr><td class="paramname">obj</td><td>A pointer to the object to be added. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0: Success; objects enqueued.</li>
<li>-ENOBUFS: Not enough room in the ring to enqueue; no object is enqueued. </li>
</ul>
</dd></dl>
<div class="fragment"><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;{</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="rte__ring_8h.html#adb91b9286b8fa4b962c8e01accd089b9">rte_ring_mp_enqueue_bulk</a>(r, &amp;obj, 1, NULL) ? 0 : -ENOBUFS;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_a62960349fbeb3a8b685608d2b1a7d2b2_cgraph.png" border="0" usemap="#rte__ring_8h_a62960349fbeb3a8b685608d2b1a7d2b2_cgraph" alt=""/></div>
<map name="rte__ring_8h_a62960349fbeb3a8b685608d2b1a7d2b2_cgraph" id="rte__ring_8h_a62960349fbeb3a8b685608d2b1a7d2b2_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,168,57"/>
<area shape="rect" href="rte__ring_8h.html#adb91b9286b8fa4b962c8e01accd089b9" title=" " alt="" coords="216,31,415,57"/>
<area shape="rect" href="rte__ring_8h.html#a388f737bcdf0a8ee4cf6f75464ca5979" title=" " alt="" coords="463,31,635,57"/>
<area shape="rect" href="rte__ring_8h.html#a22ab749e8f41b8e232a5c54a5c100d16" title=" " alt="" coords="683,5,888,32"/>
<area shape="rect" href="rte__ring_8h.html#a269bf4b0dad1a7d2bb0396350f5e7976" title=" " alt="" coords="738,56,833,83"/>
<area shape="rect" href="rte__atomic__x86_8h.html#a092485d3d43a2cd7ee61a1c2d2178d31" title=" " alt="" coords="936,5,1099,32"/>
</map>
</div>

</div>
</div>
<a id="adb91b9286b8fa4b962c8e01accd089b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb91b9286b8fa4b962c8e01accd089b9">&#9670;&nbsp;</a></span>rte_ring_mp_enqueue_bulk()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> unsigned int rte_ring_mp_enqueue_bulk </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__ring.html">rte_ring</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *const *&#160;</td>
          <td class="paramname"><em>obj_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>free_space</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Enqueue several objects on the ring (multi-producers safe).</p>
<p>This function uses a "compare and set" instruction to move the producer index atomically.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>A pointer to the ring structure. </td></tr>
    <tr><td class="paramname">obj_table</td><td>A pointer to a table of void * pointers (objects). </td></tr>
    <tr><td class="paramname">n</td><td>The number of objects to add in the ring from the obj_table. </td></tr>
    <tr><td class="paramname">free_space</td><td>if non-NULL, returns the amount of space in the ring after the enqueue operation has finished. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>The number of objects enqueued, either 0 or n </dd></dl>
<div class="fragment"><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;{</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="rte__ring_8h.html#a388f737bcdf0a8ee4cf6f75464ca5979">__rte_ring_do_enqueue</a>(r, obj_table, n, <a class="code" href="rte__ring_8h.html#a76713934bd03f54fbc8850c6401ad390ae1a2f11cc007572fa3b7e8ff00199e10">RTE_RING_QUEUE_FIXED</a>,</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;            <a class="code" href="rte__ring_8h.html#a6797237f9f8cfa0ea1e8ae5362baf914">__IS_MP</a>, free_space);</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_adb91b9286b8fa4b962c8e01accd089b9_cgraph.png" border="0" usemap="#rte__ring_8h_adb91b9286b8fa4b962c8e01accd089b9_cgraph" alt=""/></div>
<map name="rte__ring_8h_adb91b9286b8fa4b962c8e01accd089b9_cgraph" id="rte__ring_8h_adb91b9286b8fa4b962c8e01accd089b9_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,204,57"/>
<area shape="rect" href="rte__ring_8h.html#a388f737bcdf0a8ee4cf6f75464ca5979" title=" " alt="" coords="252,31,424,57"/>
<area shape="rect" href="rte__ring_8h.html#a22ab749e8f41b8e232a5c54a5c100d16" title=" " alt="" coords="472,5,677,32"/>
<area shape="rect" href="rte__ring_8h.html#a269bf4b0dad1a7d2bb0396350f5e7976" title=" " alt="" coords="527,56,622,83"/>
<area shape="rect" href="rte__atomic__x86_8h.html#a092485d3d43a2cd7ee61a1c2d2178d31" title=" " alt="" coords="725,5,888,32"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_adb91b9286b8fa4b962c8e01accd089b9_icgraph.png" border="0" usemap="#rte__ring_8h_adb91b9286b8fa4b962c8e01accd089b9_icgraph" alt=""/></div>
<map name="rte__ring_8h_adb91b9286b8fa4b962c8e01accd089b9_icgraph" id="rte__ring_8h_adb91b9286b8fa4b962c8e01accd089b9_icgraph">
<area shape="rect" title=" " alt="" coords="216,5,415,32"/>
<area shape="rect" href="rte__ring_8h.html#a62960349fbeb3a8b685608d2b1a7d2b2" title=" " alt="" coords="5,5,168,32"/>
</map>
</div>

</div>
</div>
<a id="a6ff136666cc68349fb5cb01ad4dc8b05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ff136666cc68349fb5cb01ad4dc8b05">&#9670;&nbsp;</a></span>rte_ring_mp_enqueue_burst()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> unsigned rte_ring_mp_enqueue_burst </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__ring.html">rte_ring</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *const *&#160;</td>
          <td class="paramname"><em>obj_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>free_space</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Enqueue several objects on the ring (multi-producers safe).</p>
<p>This function uses a "compare and set" instruction to move the producer index atomically.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>A pointer to the ring structure. </td></tr>
    <tr><td class="paramname">obj_table</td><td>A pointer to a table of void * pointers (objects). </td></tr>
    <tr><td class="paramname">n</td><td>The number of objects to add in the ring from the obj_table. </td></tr>
    <tr><td class="paramname">free_space</td><td>if non-NULL, returns the amount of space in the ring after the enqueue operation has finished. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>n: Actual number of objects enqueued. </li>
</ul>
</dd></dl>
<div class="fragment"><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;{</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="rte__ring_8h.html#a388f737bcdf0a8ee4cf6f75464ca5979">__rte_ring_do_enqueue</a>(r, obj_table, n,</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;            <a class="code" href="rte__ring_8h.html#a76713934bd03f54fbc8850c6401ad390a0f222f386dd0a2cd1b3cd43ca763ae87">RTE_RING_QUEUE_VARIABLE</a>, <a class="code" href="rte__ring_8h.html#a6797237f9f8cfa0ea1e8ae5362baf914">__IS_MP</a>, free_space);</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_a6ff136666cc68349fb5cb01ad4dc8b05_cgraph.png" border="0" usemap="#rte__ring_8h_a6ff136666cc68349fb5cb01ad4dc8b05_cgraph" alt=""/></div>
<map name="rte__ring_8h_a6ff136666cc68349fb5cb01ad4dc8b05_cgraph" id="rte__ring_8h_a6ff136666cc68349fb5cb01ad4dc8b05_cgraph">
<area shape="rect" title=" " alt="" coords="5,23,168,65"/>
<area shape="rect" href="rte__ring_8h.html#a388f737bcdf0a8ee4cf6f75464ca5979" title=" " alt="" coords="216,31,388,57"/>
<area shape="rect" href="rte__ring_8h.html#a22ab749e8f41b8e232a5c54a5c100d16" title=" " alt="" coords="436,5,641,32"/>
<area shape="rect" href="rte__ring_8h.html#a269bf4b0dad1a7d2bb0396350f5e7976" title=" " alt="" coords="491,56,586,83"/>
<area shape="rect" href="rte__atomic__x86_8h.html#a092485d3d43a2cd7ee61a1c2d2178d31" title=" " alt="" coords="689,5,852,32"/>
</map>
</div>

</div>
</div>
<a id="ae8a18b67229a569e0ad2fb1e5df70d2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8a18b67229a569e0ad2fb1e5df70d2c">&#9670;&nbsp;</a></span>rte_ring_sc_dequeue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> int rte_ring_sc_dequeue </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__ring.html">rte_ring</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>obj_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Dequeue one object from a ring (NOT multi-consumers safe).</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>A pointer to the ring structure. </td></tr>
    <tr><td class="paramname">obj_p</td><td>A pointer to a void * pointer (object) that will be filled. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0: Success; objects dequeued.</li>
<li>-ENOENT: Not enough entries in the ring to dequeue, no object is dequeued. </li>
</ul>
</dd></dl>
<div class="fragment"><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;{</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="rte__ring_8h.html#a319f440dd465c84c14549bda92d65fb0">rte_ring_sc_dequeue_bulk</a>(r, obj_p, 1, NULL) ? 0 : -ENOENT;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_ae8a18b67229a569e0ad2fb1e5df70d2c_cgraph.png" border="0" usemap="#rte__ring_8h_ae8a18b67229a569e0ad2fb1e5df70d2c_cgraph" alt=""/></div>
<map name="rte__ring_8h_ae8a18b67229a569e0ad2fb1e5df70d2c_cgraph" id="rte__ring_8h_ae8a18b67229a569e0ad2fb1e5df70d2c_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,161,57"/>
<area shape="rect" href="rte__ring_8h.html#a319f440dd465c84c14549bda92d65fb0" title=" " alt="" coords="209,31,400,57"/>
<area shape="rect" href="rte__ring_8h.html#a201b5c512389dd58216906866aba1ec5" title=" " alt="" coords="448,31,620,57"/>
<area shape="rect" href="rte__ring_8h.html#a3a4127db74610c522be2a4f8f70c033d" title=" " alt="" coords="668,5,875,32"/>
<area shape="rect" href="rte__ring_8h.html#a269bf4b0dad1a7d2bb0396350f5e7976" title=" " alt="" coords="724,56,819,83"/>
<area shape="rect" href="rte__atomic__x86_8h.html#a092485d3d43a2cd7ee61a1c2d2178d31" title=" " alt="" coords="923,5,1085,32"/>
</map>
</div>

</div>
</div>
<a id="a319f440dd465c84c14549bda92d65fb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a319f440dd465c84c14549bda92d65fb0">&#9670;&nbsp;</a></span>rte_ring_sc_dequeue_bulk()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> unsigned int rte_ring_sc_dequeue_bulk </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__ring.html">rte_ring</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>obj_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>available</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Dequeue several objects from a ring (NOT multi-consumers safe).</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>A pointer to the ring structure. </td></tr>
    <tr><td class="paramname">obj_table</td><td>A pointer to a table of void * pointers (objects) that will be filled. </td></tr>
    <tr><td class="paramname">n</td><td>The number of objects to dequeue from the ring to the obj_table, must be strictly positive. </td></tr>
    <tr><td class="paramname">available</td><td>If non-NULL, returns the number of remaining ring entries after the dequeue has finished. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>The number of objects dequeued, either 0 or n </dd></dl>
<div class="fragment"><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;{</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="rte__ring_8h.html#a201b5c512389dd58216906866aba1ec5">__rte_ring_do_dequeue</a>(r, obj_table, n, <a class="code" href="rte__ring_8h.html#a76713934bd03f54fbc8850c6401ad390ae1a2f11cc007572fa3b7e8ff00199e10">RTE_RING_QUEUE_FIXED</a>,</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;            <a class="code" href="rte__ring_8h.html#a11c27e4768116c096185f4cd260e2ec5">__IS_SC</a>, available);</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_a319f440dd465c84c14549bda92d65fb0_cgraph.png" border="0" usemap="#rte__ring_8h_a319f440dd465c84c14549bda92d65fb0_cgraph" alt=""/></div>
<map name="rte__ring_8h_a319f440dd465c84c14549bda92d65fb0_cgraph" id="rte__ring_8h_a319f440dd465c84c14549bda92d65fb0_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,196,57"/>
<area shape="rect" href="rte__ring_8h.html#a201b5c512389dd58216906866aba1ec5" title=" " alt="" coords="244,31,416,57"/>
<area shape="rect" href="rte__ring_8h.html#a3a4127db74610c522be2a4f8f70c033d" title=" " alt="" coords="464,5,671,32"/>
<area shape="rect" href="rte__ring_8h.html#a269bf4b0dad1a7d2bb0396350f5e7976" title=" " alt="" coords="520,56,615,83"/>
<area shape="rect" href="rte__atomic__x86_8h.html#a092485d3d43a2cd7ee61a1c2d2178d31" title=" " alt="" coords="719,5,881,32"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_a319f440dd465c84c14549bda92d65fb0_icgraph.png" border="0" usemap="#rte__ring_8h_a319f440dd465c84c14549bda92d65fb0_icgraph" alt=""/></div>
<map name="rte__ring_8h_a319f440dd465c84c14549bda92d65fb0_icgraph" id="rte__ring_8h_a319f440dd465c84c14549bda92d65fb0_icgraph">
<area shape="rect" title=" " alt="" coords="209,5,400,32"/>
<area shape="rect" href="rte__ring_8h.html#ae8a18b67229a569e0ad2fb1e5df70d2c" title=" " alt="" coords="5,5,161,32"/>
</map>
</div>

</div>
</div>
<a id="abb1ca2fa768328cbefe9b693bc7c9d30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb1ca2fa768328cbefe9b693bc7c9d30">&#9670;&nbsp;</a></span>rte_ring_sc_dequeue_burst()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> unsigned rte_ring_sc_dequeue_burst </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__ring.html">rte_ring</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>obj_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>available</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Dequeue several objects from a ring (NOT multi-consumers safe).When the request objects are more than the available objects, only dequeue the actual number of objects</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>A pointer to the ring structure. </td></tr>
    <tr><td class="paramname">obj_table</td><td>A pointer to a table of void * pointers (objects) that will be filled. </td></tr>
    <tr><td class="paramname">n</td><td>The number of objects to dequeue from the ring to the obj_table. </td></tr>
    <tr><td class="paramname">available</td><td>If non-NULL, returns the number of remaining ring entries after the dequeue has finished. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>n: Actual number of objects dequeued, 0 if ring is empty </li>
</ul>
</dd></dl>
<div class="fragment"><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;{</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="rte__ring_8h.html#a201b5c512389dd58216906866aba1ec5">__rte_ring_do_dequeue</a>(r, obj_table, n,</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;            <a class="code" href="rte__ring_8h.html#a76713934bd03f54fbc8850c6401ad390a0f222f386dd0a2cd1b3cd43ca763ae87">RTE_RING_QUEUE_VARIABLE</a>, <a class="code" href="rte__ring_8h.html#a11c27e4768116c096185f4cd260e2ec5">__IS_SC</a>, available);</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_abb1ca2fa768328cbefe9b693bc7c9d30_cgraph.png" border="0" usemap="#rte__ring_8h_abb1ca2fa768328cbefe9b693bc7c9d30_cgraph" alt=""/></div>
<map name="rte__ring_8h_abb1ca2fa768328cbefe9b693bc7c9d30_cgraph" id="rte__ring_8h_abb1ca2fa768328cbefe9b693bc7c9d30_cgraph">
<area shape="rect" title=" " alt="" coords="5,23,161,65"/>
<area shape="rect" href="rte__ring_8h.html#a201b5c512389dd58216906866aba1ec5" title=" " alt="" coords="209,31,381,57"/>
<area shape="rect" href="rte__ring_8h.html#a3a4127db74610c522be2a4f8f70c033d" title=" " alt="" coords="429,5,636,32"/>
<area shape="rect" href="rte__ring_8h.html#a269bf4b0dad1a7d2bb0396350f5e7976" title=" " alt="" coords="485,56,580,83"/>
<area shape="rect" href="rte__atomic__x86_8h.html#a092485d3d43a2cd7ee61a1c2d2178d31" title=" " alt="" coords="684,5,847,32"/>
</map>
</div>

</div>
</div>
<a id="afd7f172fbce0358e0b140fb9bd82aa7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd7f172fbce0358e0b140fb9bd82aa7a">&#9670;&nbsp;</a></span>rte_ring_sp_enqueue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> int rte_ring_sp_enqueue </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__ring.html">rte_ring</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Enqueue one object on a ring (NOT multi-producers safe).</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>A pointer to the ring structure. </td></tr>
    <tr><td class="paramname">obj</td><td>A pointer to the object to be added. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0: Success; objects enqueued.</li>
<li>-ENOBUFS: Not enough room in the ring to enqueue; no object is enqueued. </li>
</ul>
</dd></dl>
<div class="fragment"><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;{</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="rte__ring_8h.html#aebdfaae6cda589eb3b2a44c6a593c6a5">rte_ring_sp_enqueue_bulk</a>(r, &amp;obj, 1, NULL) ? 0 : -ENOBUFS;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_afd7f172fbce0358e0b140fb9bd82aa7a_cgraph.png" border="0" usemap="#rte__ring_8h_afd7f172fbce0358e0b140fb9bd82aa7a_cgraph" alt=""/></div>
<map name="rte__ring_8h_afd7f172fbce0358e0b140fb9bd82aa7a_cgraph" id="rte__ring_8h_afd7f172fbce0358e0b140fb9bd82aa7a_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,163,57"/>
<area shape="rect" href="rte__ring_8h.html#aebdfaae6cda589eb3b2a44c6a593c6a5" title=" " alt="" coords="211,31,403,57"/>
<area shape="rect" href="rte__ring_8h.html#a388f737bcdf0a8ee4cf6f75464ca5979" title=" " alt="" coords="451,31,623,57"/>
<area shape="rect" href="rte__ring_8h.html#a22ab749e8f41b8e232a5c54a5c100d16" title=" " alt="" coords="671,5,876,32"/>
<area shape="rect" href="rte__ring_8h.html#a269bf4b0dad1a7d2bb0396350f5e7976" title=" " alt="" coords="726,56,821,83"/>
<area shape="rect" href="rte__atomic__x86_8h.html#a092485d3d43a2cd7ee61a1c2d2178d31" title=" " alt="" coords="924,5,1087,32"/>
</map>
</div>

</div>
</div>
<a id="aebdfaae6cda589eb3b2a44c6a593c6a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebdfaae6cda589eb3b2a44c6a593c6a5">&#9670;&nbsp;</a></span>rte_ring_sp_enqueue_bulk()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> unsigned int rte_ring_sp_enqueue_bulk </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__ring.html">rte_ring</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *const *&#160;</td>
          <td class="paramname"><em>obj_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>free_space</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Enqueue several objects on a ring (NOT multi-producers safe).</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>A pointer to the ring structure. </td></tr>
    <tr><td class="paramname">obj_table</td><td>A pointer to a table of void * pointers (objects). </td></tr>
    <tr><td class="paramname">n</td><td>The number of objects to add in the ring from the obj_table. </td></tr>
    <tr><td class="paramname">free_space</td><td>if non-NULL, returns the amount of space in the ring after the enqueue operation has finished. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>The number of objects enqueued, either 0 or n </dd></dl>
<div class="fragment"><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;{</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="rte__ring_8h.html#a388f737bcdf0a8ee4cf6f75464ca5979">__rte_ring_do_enqueue</a>(r, obj_table, n, <a class="code" href="rte__ring_8h.html#a76713934bd03f54fbc8850c6401ad390ae1a2f11cc007572fa3b7e8ff00199e10">RTE_RING_QUEUE_FIXED</a>,</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;            <a class="code" href="rte__ring_8h.html#aad5423899c79ed55b32ec46ab28faf15">__IS_SP</a>, free_space);</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_aebdfaae6cda589eb3b2a44c6a593c6a5_cgraph.png" border="0" usemap="#rte__ring_8h_aebdfaae6cda589eb3b2a44c6a593c6a5_cgraph" alt=""/></div>
<map name="rte__ring_8h_aebdfaae6cda589eb3b2a44c6a593c6a5_cgraph" id="rte__ring_8h_aebdfaae6cda589eb3b2a44c6a593c6a5_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,197,57"/>
<area shape="rect" href="rte__ring_8h.html#a388f737bcdf0a8ee4cf6f75464ca5979" title=" " alt="" coords="245,31,417,57"/>
<area shape="rect" href="rte__ring_8h.html#a22ab749e8f41b8e232a5c54a5c100d16" title=" " alt="" coords="465,5,671,32"/>
<area shape="rect" href="rte__ring_8h.html#a269bf4b0dad1a7d2bb0396350f5e7976" title=" " alt="" coords="521,56,615,83"/>
<area shape="rect" href="rte__atomic__x86_8h.html#a092485d3d43a2cd7ee61a1c2d2178d31" title=" " alt="" coords="719,5,881,32"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_aebdfaae6cda589eb3b2a44c6a593c6a5_icgraph.png" border="0" usemap="#rte__ring_8h_aebdfaae6cda589eb3b2a44c6a593c6a5_icgraph" alt=""/></div>
<map name="rte__ring_8h_aebdfaae6cda589eb3b2a44c6a593c6a5_icgraph" id="rte__ring_8h_aebdfaae6cda589eb3b2a44c6a593c6a5_icgraph">
<area shape="rect" title=" " alt="" coords="211,5,403,32"/>
<area shape="rect" href="rte__ring_8h.html#afd7f172fbce0358e0b140fb9bd82aa7a" title=" " alt="" coords="5,5,163,32"/>
</map>
</div>

</div>
</div>
<a id="af373df0f0f5ea334fd7d2ae90b451d3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af373df0f0f5ea334fd7d2ae90b451d3f">&#9670;&nbsp;</a></span>rte_ring_sp_enqueue_burst()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> unsigned rte_ring_sp_enqueue_burst </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__ring.html">rte_ring</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *const *&#160;</td>
          <td class="paramname"><em>obj_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>free_space</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Enqueue several objects on a ring (NOT multi-producers safe).</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>A pointer to the ring structure. </td></tr>
    <tr><td class="paramname">obj_table</td><td>A pointer to a table of void * pointers (objects). </td></tr>
    <tr><td class="paramname">n</td><td>The number of objects to add in the ring from the obj_table. </td></tr>
    <tr><td class="paramname">free_space</td><td>if non-NULL, returns the amount of space in the ring after the enqueue operation has finished. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>n: Actual number of objects enqueued. </li>
</ul>
</dd></dl>
<div class="fragment"><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;{</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="rte__ring_8h.html#a388f737bcdf0a8ee4cf6f75464ca5979">__rte_ring_do_enqueue</a>(r, obj_table, n,</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;            <a class="code" href="rte__ring_8h.html#a76713934bd03f54fbc8850c6401ad390a0f222f386dd0a2cd1b3cd43ca763ae87">RTE_RING_QUEUE_VARIABLE</a>, <a class="code" href="rte__ring_8h.html#aad5423899c79ed55b32ec46ab28faf15">__IS_SP</a>, free_space);</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_af373df0f0f5ea334fd7d2ae90b451d3f_cgraph.png" border="0" usemap="#rte__ring_8h_af373df0f0f5ea334fd7d2ae90b451d3f_cgraph" alt=""/></div>
<map name="rte__ring_8h_af373df0f0f5ea334fd7d2ae90b451d3f_cgraph" id="rte__ring_8h_af373df0f0f5ea334fd7d2ae90b451d3f_cgraph">
<area shape="rect" title=" " alt="" coords="5,23,163,65"/>
<area shape="rect" href="rte__ring_8h.html#a388f737bcdf0a8ee4cf6f75464ca5979" title=" " alt="" coords="211,31,383,57"/>
<area shape="rect" href="rte__ring_8h.html#a22ab749e8f41b8e232a5c54a5c100d16" title=" " alt="" coords="431,5,636,32"/>
<area shape="rect" href="rte__ring_8h.html#a269bf4b0dad1a7d2bb0396350f5e7976" title=" " alt="" coords="486,56,581,83"/>
<area shape="rect" href="rte__atomic__x86_8h.html#a092485d3d43a2cd7ee61a1c2d2178d31" title=" " alt="" coords="684,5,847,32"/>
</map>
</div>

</div>
</div>
<a id="a269bf4b0dad1a7d2bb0396350f5e7976"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a269bf4b0dad1a7d2bb0396350f5e7976">&#9670;&nbsp;</a></span>update_tail()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rte__ring_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> void update_tail </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__ring__headtail.html">rte_ring_headtail</a> *&#160;</td>
          <td class="paramname"><em>ht</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>old_val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>new_val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>single</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;{</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment">     * If there are other enqueues/dequeues in progress that preceded us,</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment">     * we need to wait for them to complete</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordflow">if</span> (!single)</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="rte__branch__prediction_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(ht-&gt;<a class="code" href="structrte__ring__headtail.html#aba2365e2b056da3bac44e83a1f45de40">tail</a> != old_val))</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;            _mm_pause();</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160; </div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    ht-&gt;<a class="code" href="structrte__ring__headtail.html#aba2365e2b056da3bac44e83a1f45de40">tail</a> = new_val;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="rte__ring_8h_a269bf4b0dad1a7d2bb0396350f5e7976_icgraph.png" border="0" usemap="#rte__ring_8h_a269bf4b0dad1a7d2bb0396350f5e7976_icgraph" alt=""/></div>
<map name="rte__ring_8h_a269bf4b0dad1a7d2bb0396350f5e7976_icgraph" id="rte__ring_8h_a269bf4b0dad1a7d2bb0396350f5e7976_icgraph">
<area shape="rect" title=" " alt="" coords="2367,304,2461,331"/>
<area shape="rect" href="rte__ring_8h.html#a201b5c512389dd58216906866aba1ec5" title=" " alt="" coords="2147,443,2319,469"/>
<area shape="rect" href="rte__ring_8h.html#a388f737bcdf0a8ee4cf6f75464ca5979" title=" " alt="" coords="2147,165,2319,192"/>
<area shape="rect" href="rte__ring_8h.html#a558ff95b944832acf8de439c769638f3" title=" " alt="" coords="1914,341,2085,368"/>
<area shape="rect" href="rte__ring_8h.html#a8742d4b89ce43dbd93cc2ef48518ccf0" title=" " alt="" coords="1912,392,2087,419"/>
<area shape="rect" href="rte__ring_8h.html#a503f3b4bad03df05f3e54fca463a659b" title=" " alt="" coords="1901,560,2098,587"/>
<area shape="rect" href="rte__ring_8h.html#a4eacc72624ce4ac05fcba0795b15b136" title=" " alt="" coords="1918,611,2081,653"/>
<area shape="rect" href="rte__ring_8h.html#a319f440dd465c84c14549bda92d65fb0" title=" " alt="" coords="1904,443,2095,469"/>
<area shape="rect" href="rte__ring_8h.html#abb1ca2fa768328cbefe9b693bc7c9d30" title=" " alt="" coords="1921,494,2077,535"/>
<area shape="rect" href="rte__ring_8h.html#a896024f865225e243f2c66c02825a9e2" title=" " alt="" coords="1703,332,1838,359"/>
<area shape="rect" href="rte__ring_8c.html#ab2417e0e85ffd0e61ec4b0ee263ab809" title=" " alt="" coords="1695,383,1846,409"/>
<area shape="rect" href="ftl_8c.html#a3716c928ff3ccf16e82ae281fd3dd6d3" title=" " alt="" coords="1517,136,1601,163"/>
<area shape="rect" href="nvme-io_8c.html#a581e208522e056298eed5248b50af242" title=" " alt="" coords="1477,240,1641,267"/>
<area shape="rect" href="ftl_8h.html#af3f6de830b620d1f3060c7de8c8ddec0" title=" " alt="" coords="1342,136,1414,163"/>
<area shape="rect" href="bb_8c.html#a3fc7384f815cca2f52003206b20324df" title=" " alt="" coords="1170,136,1237,163"/>
<area shape="rect" href="nvme_8h.html#a5b8b300920ee99be86c5e3e80a6f7949" title=" " alt="" coords="914,136,1075,163"/>
<area shape="rect" href="femu_8c.html#a76a47b73caa1fa75fb706e3ed8f16a73" title=" " alt="" coords="667,136,861,163"/>
<area shape="rect" href="femu_8c.html#a966fbeb7afc495936413dbc445a0dd45" title=" " alt="" coords="472,136,579,163"/>
<area shape="rect" href="femu_8c.html#aeb3b70286609648db37222148efcf8d3" title=" " alt="" coords="229,136,353,163"/>
<area shape="rect" href="nvme-io_8c.html#acb7bf552fb77faee4d0aa021d51af4b7" title=" " alt="" coords="1327,204,1429,231"/>
<area shape="rect" href="nvme_8h.html#a81f7e8af7ddcdfe9bef6af6c0333462d" title=" " alt="" coords="1128,204,1279,231"/>
<area shape="rect" href="nvme-admin_8c.html#a8b2764426b75545dfc03229b811607eb" title=" " alt="" coords="909,204,1080,231"/>
<area shape="rect" href="nvme-admin_8c.html#ac726ef5f792706a8a28f07f19c5097b1" title=" " alt="" coords="693,204,835,231"/>
<area shape="rect" href="nvme_8h.html#a7042f589909852500d6f26c36b78850b" title=" " alt="" coords="432,204,619,231"/>
<area shape="rect" href="femu_8c.html#ac83bc83578ac4c5c414ec892ca2169e3" title=" " alt="" coords="197,204,384,231"/>
<area shape="rect" href="femu_8c.html#a78a5db5b8b1cead9d84276dfeeb4b066" title=" " alt="" coords="5,204,149,231"/>
<area shape="rect" href="rte__ring_8h.html#aa879b5b00dc3ce5d423c17411054270a" title=" " alt="" coords="1689,560,1852,587"/>
<area shape="rect" href="rte__ring_8h.html#ae8a18b67229a569e0ad2fb1e5df70d2c" title=" " alt="" coords="1693,443,1849,469"/>
<area shape="rect" href="rte__ring_8h.html#ab8debfb458e927d559e7ce750048502d" title=" " alt="" coords="1914,5,2085,32"/>
<area shape="rect" href="rte__ring_8h.html#aff58e6a47ea3dca494dd0391d11b38ea" title=" " alt="" coords="1912,56,2087,83"/>
<area shape="rect" href="rte__ring_8h.html#adb91b9286b8fa4b962c8e01accd089b9" title=" " alt="" coords="1900,107,2099,133"/>
<area shape="rect" href="rte__ring_8h.html#a6ff136666cc68349fb5cb01ad4dc8b05" title=" " alt="" coords="1918,158,2081,199"/>
<area shape="rect" href="rte__ring_8h.html#aebdfaae6cda589eb3b2a44c6a593c6a5" title=" " alt="" coords="1903,224,2095,251"/>
<area shape="rect" href="rte__ring_8h.html#af373df0f0f5ea334fd7d2ae90b451d3f" title=" " alt="" coords="1921,275,2078,317"/>
<area shape="rect" href="rte__ring_8c.html#a3afc06d02f63e84fe1569c99955af57a" title=" " alt="" coords="1695,5,1846,32"/>
<area shape="rect" href="rte__ring_8h.html#aa1e5c7ff81ee177734288a1698b1106e" title=" " alt="" coords="1703,56,1838,83"/>
<area shape="rect" href="nvme-io_8c.html#aaa8fe64369c3e7b33785cabed5a4cbde" title=" " alt="" coords="1481,15,1638,41"/>
<area shape="rect" href="rte__ring_8h.html#a62960349fbeb3a8b685608d2b1a7d2b2" title=" " alt="" coords="1689,107,1852,133"/>
<area shape="rect" href="rte__ring_8h.html#afd7f172fbce0358e0b140fb9bd82aa7a" title=" " alt="" coords="1692,224,1849,251"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="arte__ring_8h_html_a269bf4b0dad1a7d2bb0396350f5e7976"><div class="ttname"><a href="rte__ring_8h.html#a269bf4b0dad1a7d2bb0396350f5e7976">update_tail</a></div><div class="ttdeci">static __rte_always_inline void update_tail(struct rte_ring_headtail *ht, uint32_t old_val, uint32_t new_val, uint32_t single)</div><div class="ttdef"><b>Definition:</b> rte_ring.h:353</div></div>
<div class="ttc" id="arte__ring_8h_html_a3a4127db74610c522be2a4f8f70c033d"><div class="ttname"><a href="rte__ring_8h.html#a3a4127db74610c522be2a4f8f70c033d">__rte_ring_move_cons_head</a></div><div class="ttdeci">static __rte_always_inline unsigned int __rte_ring_move_cons_head(struct rte_ring *r, int is_sc, unsigned int n, enum rte_ring_queue_behavior behavior, uint32_t *old_head, uint32_t *new_head, uint32_t *entries)</div><div class="ttdef"><b>Definition:</b> rte_ring.h:499</div></div>
<div class="ttc" id="arte__ring_8h_html_aecdaba437ff3f20b3277728f69a81f01"><div class="ttname"><a href="rte__ring_8h.html#aecdaba437ff3f20b3277728f69a81f01">__IS_MC</a></div><div class="ttdeci">#define __IS_MC</div><div class="ttdef"><b>Definition:</b> rte_ring.h:164</div></div>
<div class="ttc" id="arte__ring_8c_html_a9d095bc1979e862ea41c3222f153715c"><div class="ttname"><a href="rte__ring_8c.html#a9d095bc1979e862ea41c3222f153715c">POWEROF2</a></div><div class="ttdeci">#define POWEROF2(x)</div><div class="ttdef"><b>Definition:</b> rte_ring.c:84</div></div>
<div class="ttc" id="arte__ring_8h_html_a40c2b32849ee40a3926720f2ab1cdec7a4d55236339bad776b055208601d2e4d4"><div class="ttname"><a href="rte__ring_8h.html#a40c2b32849ee40a3926720f2ab1cdec7a4d55236339bad776b055208601d2e4d4">FEMU_RING_TYPE_MP_MC</a></div><div class="ttdeci">@ FEMU_RING_TYPE_MP_MC</div><div class="ttdef"><b>Definition:</b> rte_ring.h:1124</div></div>
<div class="ttc" id="arte__atomic__x86_8h_html_a092485d3d43a2cd7ee61a1c2d2178d31"><div class="ttname"><a href="rte__atomic__x86_8h.html#a092485d3d43a2cd7ee61a1c2d2178d31">rte_atomic32_cmpset</a></div><div class="ttdeci">static int rte_atomic32_cmpset(volatile uint32_t *dst, uint32_t exp, uint32_t src)</div><div class="ttdef"><b>Definition:</b> rte_atomic_x86.h:17</div></div>
<div class="ttc" id="arte__ring_8h_html_aeecc92053129fb9aff3e9ced08f3a834"><div class="ttname"><a href="rte__ring_8h.html#aeecc92053129fb9aff3e9ced08f3a834">RTE_RING_SZ_MASK</a></div><div class="ttdeci">#define RTE_RING_SZ_MASK</div><div class="ttdef"><b>Definition:</b> rte_ring.h:158</div></div>
<div class="ttc" id="arte__ring_8h_html_a503f3b4bad03df05f3e54fca463a659b"><div class="ttname"><a href="rte__ring_8h.html#a503f3b4bad03df05f3e54fca463a659b">rte_ring_mc_dequeue_bulk</a></div><div class="ttdeci">static __rte_always_inline unsigned int rte_ring_mc_dequeue_bulk(struct rte_ring *r, void **obj_table, unsigned int n, unsigned int *available)</div><div class="ttdef"><b>Definition:</b> rte_ring.h:734</div></div>
<div class="ttc" id="arte__ring_8h_html_aad5423899c79ed55b32ec46ab28faf15"><div class="ttname"><a href="rte__ring_8h.html#aad5423899c79ed55b32ec46ab28faf15">__IS_SP</a></div><div class="ttdeci">#define __IS_SP</div><div class="ttdef"><b>Definition:</b> rte_ring.h:161</div></div>
<div class="ttc" id="arte__branch__prediction_8h_html_ac6c45889010c1bd68631771b64f18101"><div class="ttname"><a href="rte__branch__prediction_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a></div><div class="ttdeci">#define unlikely(x)</div><div class="ttdef"><b>Definition:</b> rte_branch_prediction.h:38</div></div>
<div class="ttc" id="astructrte__ring_html_ab0a59b82d10d92cbd7b7f4fdcd706d5f"><div class="ttname"><a href="structrte__ring.html#ab0a59b82d10d92cbd7b7f4fdcd706d5f">rte_ring::name</a></div><div class="ttdeci">char name[RTE_NAMESIZE]</div><div class="ttdef"><b>Definition:</b> rte_ring.h:133</div></div>
<div class="ttc" id="arte__ring_8h_html_abc8376d2c6e609707d52032860880b34"><div class="ttname"><a href="rte__ring_8h.html#abc8376d2c6e609707d52032860880b34">rte_ring_count</a></div><div class="ttdeci">static unsigned rte_ring_count(const struct rte_ring *r)</div><div class="ttdef"><b>Definition:</b> rte_ring.h:862</div></div>
<div class="ttc" id="arte__ring_8h_html_ab8debfb458e927d559e7ce750048502d"><div class="ttname"><a href="rte__ring_8h.html#ab8debfb458e927d559e7ce750048502d">rte_ring_enqueue_bulk</a></div><div class="ttdeci">static __rte_always_inline unsigned int rte_ring_enqueue_bulk(struct rte_ring *r, void *const *obj_table, unsigned int n, unsigned int *free_space)</div><div class="ttdef"><b>Definition:</b> rte_ring.h:650</div></div>
<div class="ttc" id="arte__ring_8c_html_a564e012c1eb4ae08f9eea3acfd08b377"><div class="ttname"><a href="rte__ring_8c.html#a564e012c1eb4ae08f9eea3acfd08b377">rte_ring_free</a></div><div class="ttdeci">void rte_ring_free(struct rte_ring *r)</div><div class="ttdef"><b>Definition:</b> rte_ring.c:164</div></div>
<div class="ttc" id="arte__ring_8h_html_ac02cccbbf8e0c7286b34d63052609d89"><div class="ttname"><a href="rte__ring_8h.html#ac02cccbbf8e0c7286b34d63052609d89">ENQUEUE_PTRS</a></div><div class="ttdeci">#define ENQUEUE_PTRS(r, ring_start, prod_head, obj_table, n, obj_type)</div><div class="ttdef"><b>Definition:</b> rte_ring.h:293</div></div>
<div class="ttc" id="arte__ring_8h_html_a22ab749e8f41b8e232a5c54a5c100d16"><div class="ttname"><a href="rte__ring_8h.html#a22ab749e8f41b8e232a5c54a5c100d16">__rte_ring_move_prod_head</a></div><div class="ttdeci">static __rte_always_inline unsigned int __rte_ring_move_prod_head(struct rte_ring *r, int is_sp, unsigned int n, enum rte_ring_queue_behavior behavior, uint32_t *old_head, uint32_t *new_head, uint32_t *free_entries)</div><div class="ttdef"><b>Definition:</b> rte_ring.h:391</div></div>
<div class="ttc" id="arte__ring_8h_html_adb91b9286b8fa4b962c8e01accd089b9"><div class="ttname"><a href="rte__ring_8h.html#adb91b9286b8fa4b962c8e01accd089b9">rte_ring_mp_enqueue_bulk</a></div><div class="ttdeci">static __rte_always_inline unsigned int rte_ring_mp_enqueue_bulk(struct rte_ring *r, void *const *obj_table, unsigned int n, unsigned int *free_space)</div><div class="ttdef"><b>Definition:</b> rte_ring.h:600</div></div>
<div class="ttc" id="arte__ring_8h_html_a76713934bd03f54fbc8850c6401ad390a0f222f386dd0a2cd1b3cd43ca763ae87"><div class="ttname"><a href="rte__ring_8h.html#a76713934bd03f54fbc8850c6401ad390a0f222f386dd0a2cd1b3cd43ca763ae87">RTE_RING_QUEUE_VARIABLE</a></div><div class="ttdeci">@ RTE_RING_QUEUE_VARIABLE</div><div class="ttdef"><b>Definition:</b> rte_ring.h:108</div></div>
<div class="ttc" id="arte__ring_8h_html_a40c2b32849ee40a3926720f2ab1cdec7ad2388957eaf21c85bc07f6044f60af88"><div class="ttname"><a href="rte__ring_8h.html#a40c2b32849ee40a3926720f2ab1cdec7ad2388957eaf21c85bc07f6044f60af88">FEMU_RING_TYPE_MP_SC</a></div><div class="ttdeci">@ FEMU_RING_TYPE_MP_SC</div><div class="ttdef"><b>Definition:</b> rte_ring.h:1123</div></div>
<div class="ttc" id="arte__ring_8c_html_a7a44f25853c926ac1b29562857244366"><div class="ttname"><a href="rte__ring_8c.html#a7a44f25853c926ac1b29562857244366">rte_ring_init</a></div><div class="ttdeci">int rte_ring_init(struct rte_ring *r, const char *name, unsigned count, unsigned flags)</div><div class="ttdef"><b>Definition:</b> rte_ring.c:99</div></div>
<div class="ttc" id="arte__atomic__x86_8h_html_a4a874fd98ec8957202cb13f211f81f7d"><div class="ttname"><a href="rte__atomic__x86_8h.html#a4a874fd98ec8957202cb13f211f81f7d">rte_smp_rmb</a></div><div class="ttdeci">#define rte_smp_rmb()</div><div class="ttdef"><b>Definition:</b> rte_atomic_x86.h:36</div></div>
<div class="ttc" id="astructrte__ring_html_a87cbbf8a4319375d954819403ff292d7"><div class="ttname"><a href="structrte__ring.html#a87cbbf8a4319375d954819403ff292d7">rte_ring::size</a></div><div class="ttdeci">uint32_t size</div><div class="ttdef"><b>Definition:</b> rte_ring.h:136</div></div>
<div class="ttc" id="arte__ring_8h_html_a8742d4b89ce43dbd93cc2ef48518ccf0"><div class="ttname"><a href="rte__ring_8h.html#a8742d4b89ce43dbd93cc2ef48518ccf0">rte_ring_dequeue_burst</a></div><div class="ttdeci">static __rte_always_inline unsigned rte_ring_dequeue_burst(struct rte_ring *r, void **obj_table, unsigned int n, unsigned int *available)</div><div class="ttdef"><b>Definition:</b> rte_ring.h:1113</div></div>
<div class="ttc" id="arte__ring_8c_html_a122812947c00f9ed3066232accf5fa5a"><div class="ttname"><a href="rte__ring_8c.html#a122812947c00f9ed3066232accf5fa5a">rte_ring_create</a></div><div class="ttdeci">struct rte_ring * rte_ring_create(const char *name, unsigned count, unsigned flags)</div><div class="ttdef"><b>Definition:</b> rte_ring.c:132</div></div>
<div class="ttc" id="arte__ring_8h_html_a319f440dd465c84c14549bda92d65fb0"><div class="ttname"><a href="rte__ring_8h.html#a319f440dd465c84c14549bda92d65fb0">rte_ring_sc_dequeue_bulk</a></div><div class="ttdeci">static __rte_always_inline unsigned int rte_ring_sc_dequeue_bulk(struct rte_ring *r, void **obj_table, unsigned int n, unsigned int *available)</div><div class="ttdef"><b>Definition:</b> rte_ring.h:758</div></div>
<div class="ttc" id="arte__ring_8h_html_a2ef0470e7e801a61031e9e7f2994914c"><div class="ttname"><a href="rte__ring_8h.html#a2ef0470e7e801a61031e9e7f2994914c">RTE_RING_MZ_PREFIX</a></div><div class="ttdeci">#define RTE_RING_MZ_PREFIX</div><div class="ttdef"><b>Definition:</b> rte_ring.h:104</div></div>
<div class="ttc" id="arte__atomic__x86_8h_html_aa47bb40dfaa41d4c29dbeff25d6a020d"><div class="ttname"><a href="rte__atomic__x86_8h.html#aa47bb40dfaa41d4c29dbeff25d6a020d">rte_smp_wmb</a></div><div class="ttdeci">#define rte_smp_wmb()</div><div class="ttdef"><b>Definition:</b> rte_atomic_x86.h:34</div></div>
<div class="ttc" id="astructrte__ring_html"><div class="ttname"><a href="structrte__ring.html">rte_ring</a></div><div class="ttdef"><b>Definition:</b> rte_ring.h:127</div></div>
<div class="ttc" id="astructrte__ring__headtail_html_a80db8266417a562dc74a4794fc615c4f"><div class="ttname"><a href="structrte__ring__headtail.html#a80db8266417a562dc74a4794fc615c4f">rte_ring_headtail::head</a></div><div class="ttdeci">volatile uint32_t head</div><div class="ttdef"><b>Definition:</b> rte_ring.h:112</div></div>
<div class="ttc" id="arte__ring_8h_html_a558ff95b944832acf8de439c769638f3"><div class="ttname"><a href="rte__ring_8h.html#a558ff95b944832acf8de439c769638f3">rte_ring_dequeue_bulk</a></div><div class="ttdeci">static __rte_always_inline unsigned int rte_ring_dequeue_bulk(struct rte_ring *r, void **obj_table, unsigned int n, unsigned int *available)</div><div class="ttdef"><b>Definition:</b> rte_ring.h:785</div></div>
<div class="ttc" id="arte__ring_8h_html_a40c2b32849ee40a3926720f2ab1cdec7ab01c5582b0ca471ab9c188d7d1580c05"><div class="ttname"><a href="rte__ring_8h.html#a40c2b32849ee40a3926720f2ab1cdec7ab01c5582b0ca471ab9c188d7d1580c05">FEMU_RING_TYPE_SP_SC</a></div><div class="ttdeci">@ FEMU_RING_TYPE_SP_SC</div><div class="ttdef"><b>Definition:</b> rte_ring.h:1122</div></div>
<div class="ttc" id="arte__ring_8h_html_a6797237f9f8cfa0ea1e8ae5362baf914"><div class="ttname"><a href="rte__ring_8h.html#a6797237f9f8cfa0ea1e8ae5362baf914">__IS_MP</a></div><div class="ttdeci">#define __IS_MP</div><div class="ttdef"><b>Definition:</b> rte_ring.h:162</div></div>
<div class="ttc" id="astructrte__ring_html_abd7c62a3cb4a6927816fe881f7940151"><div class="ttname"><a href="structrte__ring.html#abd7c62a3cb4a6927816fe881f7940151">rte_ring::cons</a></div><div class="ttdeci">struct rte_ring_headtail cons</div><div class="ttdef"><b>Definition:</b> rte_ring.h:144</div></div>
<div class="ttc" id="arte__ring_8h_html_a421a61b2f94cdf65b3a6ac146c492fb9"><div class="ttname"><a href="rte__ring_8h.html#a421a61b2f94cdf65b3a6ac146c492fb9">RING_F_SC_DEQ</a></div><div class="ttdeci">#define RING_F_SC_DEQ</div><div class="ttdef"><b>Definition:</b> rte_ring.h:148</div></div>
<div class="ttc" id="arte__ring_8h_html_aeeab4d1f1ef9410ecbc493b44c61ee7d"><div class="ttname"><a href="rte__ring_8h.html#aeeab4d1f1ef9410ecbc493b44c61ee7d">DEQUEUE_PTRS</a></div><div class="ttdeci">#define DEQUEUE_PTRS(r, ring_start, cons_head, obj_table, n, obj_type)</div><div class="ttdef"><b>Definition:</b> rte_ring.h:324</div></div>
<div class="ttc" id="arte__ring_8c_html_ac29f8523d355c107377858bdeb468486"><div class="ttname"><a href="rte__ring_8c.html#ac29f8523d355c107377858bdeb468486">rte_ring_get_memsize</a></div><div class="ttdeci">ssize_t rte_ring_get_memsize(unsigned count)</div><div class="ttdef"><b>Definition:</b> rte_ring.c:87</div></div>
<div class="ttc" id="arte__ring_8h_html_a11c27e4768116c096185f4cd260e2ec5"><div class="ttname"><a href="rte__ring_8h.html#a11c27e4768116c096185f4cd260e2ec5">__IS_SC</a></div><div class="ttdeci">#define __IS_SC</div><div class="ttdef"><b>Definition:</b> rte_ring.h:163</div></div>
<div class="ttc" id="arte__ring_8h_html_a54967fd85fe8fe16fe0b2925e5ceb170"><div class="ttname"><a href="rte__ring_8h.html#a54967fd85fe8fe16fe0b2925e5ceb170">RTE_NAMESIZE</a></div><div class="ttdeci">#define RTE_NAMESIZE</div><div class="ttdef"><b>Definition:</b> rte_ring.h:116</div></div>
<div class="ttc" id="arte__ring_8h_html_a76713934bd03f54fbc8850c6401ad390ae1a2f11cc007572fa3b7e8ff00199e10"><div class="ttname"><a href="rte__ring_8h.html#a76713934bd03f54fbc8850c6401ad390ae1a2f11cc007572fa3b7e8ff00199e10">RTE_RING_QUEUE_FIXED</a></div><div class="ttdeci">@ RTE_RING_QUEUE_FIXED</div><div class="ttdef"><b>Definition:</b> rte_ring.h:107</div></div>
<div class="ttc" id="arte__ring_8h_html_aa6fe2e810cf4015bb95023c54e18b73a"><div class="ttname"><a href="rte__ring_8h.html#aa6fe2e810cf4015bb95023c54e18b73a">rte_ring_free_count</a></div><div class="ttdeci">static unsigned rte_ring_free_count(const struct rte_ring *r)</div><div class="ttdef"><b>Definition:</b> rte_ring.h:879</div></div>
<div class="ttc" id="astructrte__ring_html_a5c1b5e68d4b572c4d95c4180937e377c"><div class="ttname"><a href="structrte__ring.html#a5c1b5e68d4b572c4d95c4180937e377c">rte_ring::capacity</a></div><div class="ttdeci">uint32_t capacity</div><div class="ttdef"><b>Definition:</b> rte_ring.h:138</div></div>
<div class="ttc" id="arte__ring_8h_html_a201b5c512389dd58216906866aba1ec5"><div class="ttname"><a href="rte__ring_8h.html#a201b5c512389dd58216906866aba1ec5">__rte_ring_do_dequeue</a></div><div class="ttdeci">static __rte_always_inline unsigned int __rte_ring_do_dequeue(struct rte_ring *r, void **obj_table, unsigned int n, enum rte_ring_queue_behavior behavior, int is_sc, unsigned int *available)</div><div class="ttdef"><b>Definition:</b> rte_ring.h:558</div></div>
<div class="ttc" id="astructrte__ring_html_abd91203a74bb75092a568aedba0969b0"><div class="ttname"><a href="structrte__ring.html#abd91203a74bb75092a568aedba0969b0">rte_ring::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> rte_ring.h:134</div></div>
<div class="ttc" id="arte__ring_8h_html_a127c66adbeab4653a47649993b94f35b"><div class="ttname"><a href="rte__ring_8h.html#a127c66adbeab4653a47649993b94f35b">RING_F_SP_ENQ</a></div><div class="ttdeci">#define RING_F_SP_ENQ</div><div class="ttdef"><b>Definition:</b> rte_ring.h:147</div></div>
<div class="ttc" id="astructrte__ring__headtail_html_aba2365e2b056da3bac44e83a1f45de40"><div class="ttname"><a href="structrte__ring__headtail.html#aba2365e2b056da3bac44e83a1f45de40">rte_ring_headtail::tail</a></div><div class="ttdeci">volatile uint32_t tail</div><div class="ttdef"><b>Definition:</b> rte_ring.h:113</div></div>
<div class="ttc" id="arte__ring_8h_html_a136e9157866738284259cf2d64a06783"><div class="ttname"><a href="rte__ring_8h.html#a136e9157866738284259cf2d64a06783">RING_F_EXACT_SZ</a></div><div class="ttdeci">#define RING_F_EXACT_SZ</div><div class="ttdef"><b>Definition:</b> rte_ring.h:157</div></div>
<div class="ttc" id="astructrte__ring_html_a1721b53743c15b90e0453679f66d12ac"><div class="ttname"><a href="structrte__ring.html#a1721b53743c15b90e0453679f66d12ac">rte_ring::mask</a></div><div class="ttdeci">uint32_t mask</div><div class="ttdef"><b>Definition:</b> rte_ring.h:137</div></div>
<div class="ttc" id="arte__ring_8h_html_a388f737bcdf0a8ee4cf6f75464ca5979"><div class="ttname"><a href="rte__ring_8h.html#a388f737bcdf0a8ee4cf6f75464ca5979">__rte_ring_do_enqueue</a></div><div class="ttdeci">static __rte_always_inline unsigned int __rte_ring_do_enqueue(struct rte_ring *r, void *const *obj_table, unsigned int n, enum rte_ring_queue_behavior behavior, int is_sp, unsigned int *free_space)</div><div class="ttdef"><b>Definition:</b> rte_ring.h:453</div></div>
<div class="ttc" id="arte__ring_8h_html_aebdfaae6cda589eb3b2a44c6a593c6a5"><div class="ttname"><a href="rte__ring_8h.html#aebdfaae6cda589eb3b2a44c6a593c6a5">rte_ring_sp_enqueue_bulk</a></div><div class="ttdeci">static __rte_always_inline unsigned int rte_ring_sp_enqueue_bulk(struct rte_ring *r, void *const *obj_table, unsigned int n, unsigned int *free_space)</div><div class="ttdef"><b>Definition:</b> rte_ring.h:623</div></div>
<div class="ttc" id="arte__ring_8h_html_a5a85fd1038be9376de166494057e6aa1"><div class="ttname"><a href="rte__ring_8h.html#a5a85fd1038be9376de166494057e6aa1">rte_align32pow2</a></div><div class="ttdeci">static uint32_t rte_align32pow2(uint32_t x)</div><div class="ttdef"><b>Definition:</b> rte_ring.h:167</div></div>
<div class="ttc" id="astructrte__ring_html_ac2660d8388e6b02a1084654eb8ec88b1"><div class="ttname"><a href="structrte__ring.html#ac2660d8388e6b02a1084654eb8ec88b1">rte_ring::prod</a></div><div class="ttdeci">struct rte_ring_headtail prod</div><div class="ttdef"><b>Definition:</b> rte_ring.h:141</div></div>
<div class="ttc" id="astructrte__ring__headtail_html_a95cc4b1cb9a073c09c3cd9cf41f8f9fb"><div class="ttname"><a href="structrte__ring__headtail.html#a95cc4b1cb9a073c09c3cd9cf41f8f9fb">rte_ring_headtail::single</a></div><div class="ttdeci">uint32_t single</div><div class="ttdef"><b>Definition:</b> rte_ring.h:114</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_bfccd401955b95cf8c75461437045ac0.html">inc</a></li><li class="navelem"><a class="el" href="rte__ring_8h.html">rte_ring.h</a></li>
    <li class="footer">制作者
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
